<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="300">
  <title>Claude Command Center</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #050508;
      --bg-secondary: #0d0d14;
      --bg-card: rgba(13, 13, 20, 0.8);
      --bg-hover: rgba(255,255,255,0.04);
      --bg-glass: rgba(255,255,255,0.02);
      --border: rgba(255,255,255,0.06);
      --border-glow: rgba(0, 217, 255, 0.3);
      --text-primary: #f0f0f5;
      --text-secondary: #8a8a9a;
      --text-muted: #4a4a5a;
      --accent-primary: #00d9ff;
      --accent-red: #ff4d6a;
      --accent-orange: #ff7b54;
      --accent-yellow: #ffcc00;
      --accent-cyan: #00d9ff;
      --accent-green: #00ff88;
      --accent-purple: #b14eff;
      --gradient-primary: linear-gradient(135deg, #00d9ff, #00ff88);
      --gradient-accent: linear-gradient(135deg, #ff4d6a, #ff7b54);
      --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
      --glow-cyan: 0 0 20px rgba(0, 217, 255, 0.3);
      --glow-green: 0 0 20px rgba(0, 255, 136, 0.3);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Animated background */
    .bg-grid {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image:
        radial-gradient(circle at 50% 50%, rgba(0, 217, 255, 0.03) 0%, transparent 50%),
        linear-gradient(rgba(0, 217, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 217, 255, 0.02) 1px, transparent 1px);
      background-size: 100% 100%, 60px 60px, 60px 60px;
      pointer-events: none;
      z-index: 0;
      animation: gridPulse 8s ease-in-out infinite;
    }

    @keyframes gridPulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    /* Navigation */
    .nav {
      display: flex;
      align-items: center;
      background: rgba(5, 5, 8, 0.9);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(24px);
      padding: 0 1.5rem;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 0.875rem;
      padding: 1rem 0;
      margin-right: 2rem;
    }

    .nav-logo {
      width: 36px;
      height: 36px;
      background: var(--gradient-primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.3rem;
      box-shadow: var(--glow-cyan);
    }

    .nav-title {
      font-size: 1.15rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.5px;
    }

    .nav-tabs {
      display: flex;
      flex: 1;
      gap: 0.25rem;
    }

    .nav-tab {
      padding: 1.25rem 1.25rem;
      cursor: pointer;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.75px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-bottom: 2px solid transparent;
      position: relative;
    }

    .nav-tab:hover {
      color: var(--text-primary);
      background: var(--bg-hover);
    }

    .nav-tab.active {
      color: var(--accent-cyan);
      border-bottom-color: var(--accent-cyan);
      text-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
    }

    .nav-tab .badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background: var(--accent-cyan);
      color: var(--bg-primary);
      font-size: 0.6rem;
      padding: 2px 6px;
      border-radius: 10px;
      font-weight: 700;
    }

    .nav-actions {
      display: flex;
      gap: 0.75rem;
      padding: 0 1rem;
    }

    .nav-btn {
      background: var(--bg-glass);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 0.625rem 1.25rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: 500;
      transition: all 0.3s;
    }

    .nav-btn:hover {
      background: rgba(0, 217, 255, 0.1);
      border-color: var(--border-glow);
      color: var(--accent-cyan);
      box-shadow: var(--glow-cyan);
    }

    /* Main Content */
    .main {
      position: relative;
      z-index: 1;
      max-width: 1600px;
      margin: 0 auto;
      padding: 2rem;
    }

    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Cards */
    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.75rem;
      margin-bottom: 1.5rem;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: visible;
      backdrop-filter: blur(10px);
    }

    .card:hover {
      border-color: var(--border-glow);
      box-shadow: var(--glow-cyan), inset 0 1px 0 rgba(255,255,255,0.05);
      transform: translateY(-2px);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .card h3 {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .card-badge {
      background: rgba(0, 217, 255, 0.1);
      color: var(--accent-cyan);
      padding: 0.3rem 0.875rem;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 600;
      border: 1px solid rgba(0, 217, 255, 0.2);
    }

    /* Proactive Panel (Phase 4 - ProactiveVA) */
    .proactive-panel {
      margin-bottom: 1.5rem;
      animation: slideIn 0.4s ease;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .proactive-card {
      background: linear-gradient(135deg, rgba(72,219,251,0.08), rgba(74,222,128,0.08));
      border-color: rgba(72,219,251,0.3);
    }

    .proactive-card:hover {
      border-color: rgba(72,219,251,0.5);
      box-shadow: 0 0 30px rgba(72,219,251,0.15);
    }

    .proactive-badge {
      background: rgba(72,219,251,0.2) !important;
      color: var(--accent-cyan) !important;
    }

    .suggestions-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.75rem;
    }

    .suggestion-item {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 10px;
      padding: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .suggestion-item:hover {
      background: rgba(72,219,251,0.1);
      border-color: rgba(72,219,251,0.3);
      transform: translateY(-2px);
    }

    .suggestion-type {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--accent-cyan);
      margin-bottom: 0.25rem;
    }

    .suggestion-label {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .suggestion-desc {
      font-size: 0.75rem;
      color: var(--text-secondary);
    }

    /* Stats Grid */
    .stats-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.25rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: linear-gradient(135deg, rgba(13, 13, 20, 0.9), rgba(5, 5, 8, 0.9));
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.75rem;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stat-card:hover {
      border-color: var(--border-glow);
      box-shadow: var(--glow-cyan);
      transform: translateY(-3px);
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--gradient-primary);
    }

    .stat-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at top left, rgba(0, 217, 255, 0.05), transparent 50%);
      pointer-events: none;
    }

    .stat-card .icon {
      width: 44px;
      height: 44px;
      background: rgba(0, 217, 255, 0.1);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      margin-bottom: 1rem;
      border: 1px solid rgba(0, 217, 255, 0.2);
    }

    .stat-card .stat-value,
    .stat-card .value {
      font-size: 2.25rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1;
      font-family: 'JetBrains Mono', monospace;
    }

    .stat-card .stat-label,
    .stat-card .label {
      color: var(--text-muted);
      font-size: 0.75rem;
      margin-top: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 500;
    }

    .stat-card .trend {
      position: absolute;
      top: 1.25rem;
      right: 1.25rem;
      font-size: 0.75rem;
      padding: 0.3rem 0.625rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .stat-card .trend.up { background: rgba(0, 255, 136, 0.15); color: var(--accent-green); }
    .stat-card .trend.down { background: rgba(255, 77, 106, 0.15); color: var(--accent-red); }

    /* Charts Grid */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 1.5rem;
    }

    .chart-container {
      height: 280px;
      position: relative;
      padding: 0.5rem;
    }

    /* Token Display */
    .token-bar {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      padding: 1rem 0;
    }

    .token-item {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      padding: 1rem 1.5rem;
      border-radius: 12px;
      text-align: center;
      min-width: 130px;
    }

    .token-item .value {
      font-size: 1.5rem;
      font-weight: 700;
      font-family: 'JetBrains Mono', monospace;
    }

    .token-item .label {
      font-size: 0.7rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 0.25rem;
    }

    /* Memory Tab */
    .memory-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr); /* Fixed 4 columns */
      gap: 1.5rem;
    }

    @media (max-width: 1600px) {
      .memory-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .memory-section { margin-bottom: 0; }

    .memory-item {
      background: var(--bg-secondary);
      border-left: 3px solid var(--accent-cyan);
      padding: 1.125rem 1.5rem;
      margin-bottom: 0.875rem;
      border-radius: 0 14px 14px 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .memory-item:hover {
      background: rgba(0, 217, 255, 0.05);
      transform: translateX(8px);
      border-left-color: var(--accent-green);
    }

    .memory-item .content {
      color: var(--text-primary);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .memory-item .meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.875rem;
    }

    .memory-item .time {
      font-size: 0.75rem;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
    }

    .memory-item .tags { display: flex; gap: 0.4rem; flex-wrap: wrap; }

    .tag {
      background: rgba(0, 217, 255, 0.1);
      color: var(--accent-cyan);
      padding: 0.25rem 0.7rem;
      border-radius: 8px;
      font-size: 0.7rem;
      font-weight: 600;
      border: 1px solid rgba(0, 217, 255, 0.2);
    }

    .tag.cyan { background: rgba(0, 217, 255, 0.1); color: var(--accent-cyan); border-color: rgba(0, 217, 255, 0.2); }
    .tag.green { background: rgba(0, 255, 136, 0.1); color: var(--accent-green); border-color: rgba(0, 255, 136, 0.2); }
    .tag.yellow { background: rgba(255, 204, 0, 0.1); color: var(--accent-yellow); border-color: rgba(255, 204, 0, 0.2); }

    /* Activity Tab */
    .activity-container {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 1.5rem;
    }

    @media (max-width: 1000px) {
      .activity-container { grid-template-columns: 1fr; }
    }

    .activity-timeline {
      background: var(--bg-secondary);
      border-radius: 16px;
      max-height: 600px;
      overflow-y: auto;
      border: 1px solid var(--border);
    }

    .activity-item {
      display: flex;
      align-items: center;
      padding: 0.875rem 1.25rem;
      border-bottom: 1px solid var(--border);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      transition: all 0.2s;
    }

    .activity-item:hover {
      background: rgba(0, 217, 255, 0.03);
    }

    .activity-item .time {
      color: var(--text-muted);
      width: 85px;
      flex-shrink: 0;
    }

    .activity-item .type {
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      font-size: 0.7rem;
      font-weight: 600;
      width: 75px;
      text-align: center;
      flex-shrink: 0;
      margin-right: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .activity-item .type.write { background: rgba(0, 255, 136, 0.12); color: var(--accent-green); border: 1px solid rgba(0, 255, 136, 0.2); }
    .activity-item .type.edit { background: rgba(255, 204, 0, 0.12); color: var(--accent-yellow); border: 1px solid rgba(255, 204, 0, 0.2); }
    .activity-item .type.bash { background: rgba(0, 217, 255, 0.12); color: var(--accent-cyan); border: 1px solid rgba(0, 217, 255, 0.2); }
    .activity-item .type.session { background: rgba(177, 78, 255, 0.12); color: var(--accent-purple); border: 1px solid rgba(177, 78, 255, 0.2); }

    .activity-item .detail {
      color: var(--text-secondary);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .activity-sidebar .card { margin-bottom: 1rem; }

    .heatmap-grid {
      display: grid;
      grid-template-columns: repeat(24, 1fr);
      gap: 4px;
    }

    .heatmap-cell {
      aspect-ratio: 1;
      border-radius: 5px;
      background: var(--bg-secondary);
      position: relative;
      transition: all 0.2s;
    }

    .heatmap-cell:hover {
      transform: scale(1.2);
      z-index: 1;
    }

    .heatmap-cell::after {
      content: attr(data-hour);
      position: absolute;
      bottom: -18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.6rem;
      color: var(--text-muted);
    }

    .heatmap-cell:nth-child(6n)::after { display: block; }
    .heatmap-cell:not(:nth-child(6n))::after { display: none; }

    /* Cost Tab */
    .cost-hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .cost-card {
      background: linear-gradient(135deg, rgba(13, 13, 20, 0.9), rgba(5, 5, 8, 0.9));
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 2.25rem;
      text-align: center;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .cost-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--gradient-primary);
    }

    .cost-card:hover {
      border-color: var(--border-glow);
      box-shadow: var(--glow-cyan);
      transform: translateY(-3px);
    }

    .cost-card .amount {
      font-size: 3rem;
      font-weight: 700;
      font-family: 'JetBrains Mono', monospace;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .cost-card.savings .amount {
      background: linear-gradient(135deg, #00ff88, #00d9ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .cost-card.savings::before {
      background: linear-gradient(135deg, #00ff88, #00d9ff);
    }

    .cost-card .label {
      color: var(--text-muted);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-top: 0.75rem;
      font-weight: 500;
    }

    .efficiency-bar {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 1rem;
    }

    .efficiency-track {
      height: 24px;
      background: linear-gradient(90deg, rgba(233, 69, 96, 0.6) 0%, rgba(233, 69, 96, 0.4) 100%);
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(233, 69, 96, 0.3);
    }

    .efficiency-fill {
      height: 100%;
      background: linear-gradient(90deg, rgba(0, 230, 118, 0.8) 0%, rgba(74, 222, 128, 0.9) 100%);
      border-radius: 12px;
      transition: width 1s ease;
      position: absolute;
      right: 0;
    }

    .efficiency-label {
      display: flex;
      justify-content: space-between;
      margin-top: 0.75rem;
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    /* Projects Tab */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 1.5rem;
    }

    .project-card {
      background: linear-gradient(135deg, rgba(13, 13, 20, 0.9), rgba(5, 5, 8, 0.9));
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.75rem;
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .project-card:hover {
      border-color: var(--border-glow);
      box-shadow: var(--glow-cyan);
      transform: translateY(-3px);
    }

    .project-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 3px;
      height: 100%;
    }

    .project-card.os-app::before { background: var(--accent-cyan); }
    .project-card.career::before { background: var(--accent-green); }
    .project-card.research::before { background: var(--accent-yellow); }

    .project-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .project-name {
      font-size: 1.3rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .project-status {
      padding: 0.35rem 0.875rem;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .project-status.active {
      background: rgba(0, 255, 136, 0.1);
      color: var(--accent-green);
      border: 1px solid rgba(0, 255, 136, 0.2);
    }

    .project-stack {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin-bottom: 1.25rem;
    }

    .project-stats {
      display: flex;
      gap: 2rem;
      padding-top: 1.25rem;
      border-top: 1px solid var(--border);
    }

    .project-stat .value {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--accent-cyan);
      font-family: 'JetBrains Mono', monospace;
    }

    .project-stat .label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Commands Tab */
    .commands-section {
      margin-bottom: 2.5rem;
    }

    .commands-section h4 {
      font-size: 1rem;
      color: var(--accent-cyan);
      margin-bottom: 1.25rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid var(--border);
      font-weight: 600;
    }

    .commands-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
    }

    .command-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 1.125rem 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.625rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .command-card:hover {
      border-color: var(--border-glow);
      transform: translateY(-2px);
      background: rgba(0, 217, 255, 0.03);
    }

    .command-card code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--accent-cyan);
      background: rgba(0, 217, 255, 0.1);
      padding: 0.45rem 0.9rem;
      border-radius: 8px;
      word-break: break-word;
      max-width: 100%;
      border: 1px solid rgba(0, 217, 255, 0.15);
    }

    .command-card .desc {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    /* Observatory Styles */
    .sessions-list, .top-commands-list, .failure-patterns-list, .file-activity-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .session-item, .command-item, .failure-item, .file-item, .command-row {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem 1.25rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.2s;
    }

    .command-row .command-rank {
      color: var(--text-muted);
      font-size: 0.85rem;
      min-width: 2.5rem;
    }

    .command-row .command-name {
      flex: 1;
      color: var(--accent-cyan);
      font-family: var(--font-mono);
    }

    .command-row .command-count {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    .session-item:hover, .command-item:hover, .failure-item:hover, .file-item:hover, .command-row:hover {
      border-color: var(--border-glow);
      background: rgba(0, 217, 255, 0.02);
    }

    .session-item .session-info {
      display: flex;
      flex-direction: column;
      gap: 0.375rem;
    }

    .session-item .session-outcome {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .session-item .session-outcome.success { color: var(--accent-green); }
    .session-item .session-outcome.partial { color: var(--accent-yellow); }
    .session-item .session-outcome.error { color: var(--accent-red); }
    .session-item .session-outcome.abandoned { color: var(--text-muted); }
    .session-item .session-outcome.research { color: var(--accent-purple); }

    .session-item .session-note {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    .session-item .session-quality {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.1rem;
      color: var(--accent-yellow);
    }

    .assessment-panel {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .assessment-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .assessment-label {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .assessment-value {
      color: var(--text-primary);
      font-weight: 600;
      font-size: 1rem;
    }

    .git-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1.25rem;
      padding: 1.5rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 12px;
    }

    .git-stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .git-stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent-cyan);
    }

    .git-stat-label {
      color: var(--text-secondary);
      font-size: 0.85rem;
      text-align: center;
    }

    .no-data {
      color: var(--text-muted);
      font-size: 0.9rem;
      text-align: center;
      padding: 2rem;
      font-style: italic;
    }

    .no-data code {
      color: var(--accent-cyan);
      background: rgba(0, 217, 255, 0.1);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-style: normal;
    }

    /* Search Box */
    .search-box {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 0.875rem 1.25rem;
      display: flex;
      align-items: center;
      gap: 0.875rem;
      margin-bottom: 1.5rem;
      transition: all 0.3s;
    }

    .search-box:focus-within {
      border-color: var(--border-glow);
      box-shadow: var(--glow-cyan);
    }

    .search-box input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text-primary);
      font-size: 0.9rem;
      outline: none;
    }

    .search-box input::placeholder { color: var(--text-muted); }

    /* Keyboard Shortcuts */
    kbd {
      background: rgba(0, 217, 255, 0.08);
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 6px;
      padding: 0.25rem 0.6rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--accent-cyan);
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(0, 217, 255, 0.3); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(0, 217, 255, 0.5); }

    /* Live indicator */
    .live-indicator {
      display: flex;
      align-items: center;
      gap: 0.625rem;
      font-size: 0.75rem;
      color: var(--accent-green);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .live-dot {
      width: 8px;
      height: 8px;
      background: var(--accent-green);
      border-radius: 50%;
      animation: livePulse 2s ease-in-out infinite;
      box-shadow: 0 0 8px rgba(0, 255, 136, 0.6);
    }

    @keyframes livePulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(0.9); }
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 2.5rem 2rem;
      color: var(--text-muted);
      font-size: 0.8rem;
      border-top: 1px solid var(--border);
      background: rgba(5, 5, 8, 0.5);
      margin-top: 2rem;
    }

    .footer kbd { margin: 0 0.35rem; }

    /* Co-Evolution Tab Styles */
    .coevo-status {
      display: flex;
      flex-direction: column;
      gap: 1.125rem;
      padding: 1.25rem;
    }

    .coevo-config-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      background: var(--bg-secondary);
      border-radius: 12px;
      border: 1px solid var(--border);
      transition: all 0.2s;
    }

    .coevo-config-item:hover {
      border-color: var(--border-glow);
    }

    .config-label {
      color: var(--text-secondary);
    }

    .config-value {
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent-cyan);
      font-weight: 600;
    }

    .patterns-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      max-height: 400px;
      overflow-y: auto;
    }

    .pattern-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      background: var(--bg-hover);
      border-radius: 8px;
      border-left: 3px solid var(--accent-cyan);
    }

    .pattern-info {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .pattern-name {
      font-weight: 600;
      color: var(--text-primary);
    }

    .pattern-desc {
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .pattern-confidence {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      padding: 0.25rem 0.75rem;
      background: rgba(72, 219, 251, 0.1);
      border: 1px solid var(--accent-cyan);
      border-radius: 4px;
      color: var(--accent-cyan);
    }

    #coevo .stat-card {
      border-top: 2px solid var(--accent-cyan);
    }

    /* Context Efficiency Tab Styles */
    .top-packs-list, .pack-combos-list, .pack-inventory-list {
      display: flex;
      flex-direction: column;
      gap: 0.875rem;
      padding: 1.25rem;
    }

    .pack-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      background: var(--bg-secondary);
      border-radius: 12px;
      border: 1px solid var(--border);
      transition: all 0.2s;
    }

    .pack-item:hover {
      border-color: var(--border-glow);
      background: var(--bg-hover);
    }

    .pack-info {
      display: flex;
      flex-direction: column;
      gap: 0.375rem;
    }

    .pack-name {
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent-cyan);
      font-weight: 600;
    }

    .pack-meta {
      display: flex;
      gap: 1rem;
      font-size: 0.825rem;
      color: var(--text-secondary);
    }

    .pack-stats {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .pack-stat {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .pack-stat-value {
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent-green);
      font-weight: 700;
      font-size: 1.1rem;
    }

    .pack-stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
    }

    .combo-item {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      padding: 1.125rem 1.25rem;
      background: var(--bg-secondary);
      border-radius: 12px;
      border: 1px solid var(--border);
      transition: all 0.2s;
    }

    .combo-item:hover {
      border-color: var(--border-glow);
    }

    .combo-packs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .combo-pack-tag {
      padding: 0.375rem 0.875rem;
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.3);
      border-radius: 6px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--accent-cyan);
    }

    .combo-stats {
      display: flex;
      gap: 2rem;
      font-size: 0.85rem;
    }

    .combo-stat {
      display: flex;
      gap: 0.5rem;
      color: var(--text-secondary);
    }

    .combo-stat-value {
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent-green);
      font-weight: 600;
    }

    /* Routing Styles */
    .routing-progress {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      padding: 1rem 0;
    }

    .progress-item {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .progress-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .progress-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-primary);
      font-weight: 600;
    }

    .progress-bar {
      width: 100%;
      height: 12px;
      background: var(--bg-secondary);
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid var(--border);
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--glow-cyan);
    }

    .routing-targets {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 1rem 0;
    }

    .target-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 1rem;
      background: var(--bg-glass);
      border: 1px solid var(--border);
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .target-item:hover {
      background: var(--bg-hover);
      border-color: var(--border-glow);
    }

    .target-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      flex: 1;
    }

    .target-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-primary);
      font-weight: 600;
      margin-right: 1rem;
    }

    .target-status {
      font-size: 1.2rem;
    }

    /* Session Window Panel */
    .session-window-content {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .session-progress-row {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .session-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      min-width: 120px;
    }

    .session-progress-bar {
      flex: 1;
      height: 12px;
      background: var(--bg-glass);
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
    }

    .session-progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 5px;
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(0, 217, 255, 0.4);
    }

    .session-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--accent-cyan);
      min-width: 50px;
      text-align: right;
    }

    .session-stats-row {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .session-stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0.75rem 1rem;
      background: var(--bg-glass);
      border: 1px solid var(--border);
      border-radius: 10px;
      min-width: 80px;
    }

    .session-stat-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--accent-cyan);
    }

    .session-stat-label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 0.25rem;
    }

    .session-recommendations {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .session-rec {
      font-size: 0.8rem;
      padding: 0.4rem 0.8rem;
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 6px;
      color: var(--accent-cyan);
    }

    .tier-comfortable { background: rgba(0, 255, 136, 0.15); border-color: var(--accent-green); }
    .tier-moderate { background: rgba(255, 204, 0, 0.15); border-color: var(--accent-yellow); }
    .tier-low { background: rgba(255, 123, 84, 0.15); border-color: var(--accent-orange); }
    .tier-critical { background: rgba(255, 77, 106, 0.15); border-color: var(--accent-red); }

    /* 10X POWER DASHBOARD */
    .power-dashboard {
      background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(177, 78, 255, 0.05));
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      position: relative;
      overflow: hidden;
    }

    .power-dashboard::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple), var(--accent-green));
    }

    .power-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.25rem;
    }

    .power-header h2 {
      font-size: 1.25rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .power-modes {
      display: flex;
      gap: 0.5rem;
    }

    .power-mode-btn {
      padding: 0.4rem 0.8rem;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-secondary);
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .power-mode-btn:hover {
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
    }

    .power-mode-btn.active {
      background: rgba(0, 217, 255, 0.15);
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
    }

    .power-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-bottom: 1rem;
    }

    @media (max-width: 1200px) {
      .power-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 600px) {
      .power-grid { grid-template-columns: 1fr; }
    }

    .power-card {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
    }

    .power-card-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .power-card-header h4 {
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .power-icon {
      font-size: 1rem;
    }

    .cognitive-mode {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .mode-indicator {
      font-size: 1.2rem;
    }

    .mode-indicator.morning { color: #ffcc00; }
    .mode-indicator.peak { color: #00ff88; }
    .mode-indicator.dip { color: #ff7b54; }
    .mode-indicator.evening { color: #00d9ff; }
    .mode-indicator.deep_night { color: #b14eff; }

    .cognitive-details {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    .session-bar {
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 0.75rem;
    }

    .session-progress {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 4px;
      transition: width 0.3s;
    }

    .session-details {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    .memory-stat {
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
      margin-bottom: 0.25rem;
    }

    .memory-stat span:first-child {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent-cyan);
    }

    .memory-stat small {
      color: var(--text-secondary);
      font-size: 0.75rem;
    }

    .agent-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.4rem;
      font-size: 0.85rem;
    }

    .agent-indicator {
      font-size: 0.9rem;
    }

    .agent-indicator.running { color: var(--accent-green); }
    .agent-indicator.stopped { color: var(--text-muted); }

    .power-recommendations {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      background: rgba(255, 204, 0, 0.08);
      border: 1px solid rgba(255, 204, 0, 0.2);
      border-radius: 8px;
      font-size: 0.9rem;
      color: var(--text-primary);
    }
  </style>
</head>
<body>
  <div class="bg-grid"></div>

  <nav class="nav">
    <div class="nav-brand">
      <div class="nav-logo">C</div>
      <div class="nav-title">Command Center</div>
    </div>
    <div class="nav-tabs">
      <button class="nav-tab active" data-tab="overview">Overview</button>
      <button class="nav-tab" data-tab="memory">Memory</button>
      <button class="nav-tab" data-tab="activity">Activity</button>
      <button class="nav-tab" data-tab="cost">Cost</button>
      <button class="nav-tab" data-tab="projects">Projects</button>
      <button class="nav-tab" data-tab="commands">Commands</button>
      <button class="nav-tab" data-tab="routing">Routing</button>
      <button class="nav-tab" data-tab="coevo">Co-Evolution</button>
      <button class="nav-tab" data-tab="context-efficiency">Context Packs</button>
      <button class="nav-tab" data-tab="session-outcomes">Session Outcomes</button>
      <button class="nav-tab" data-tab="productivity">Productivity</button>
      <button class="nav-tab" data-tab="tool-analytics">Tool Analytics</button>
      <button class="nav-tab" data-tab="supermemory">Supermemory</button>
      <button class="nav-tab" data-tab="cognitive">Cognitive</button>
      <button class="nav-tab" data-tab="infrastructure">Infrastructure</button>
    </div>
    <div class="nav-actions">
      <div class="live-indicator">
        <div class="live-dot"></div>
        <span>Live</span>
      </div>
      <button class="nav-btn" onclick="location.reload()">Refresh</button>
    </div>
  </nav>

  <main class="main">
    <!-- OVERVIEW TAB -->
    <div id="overview" class="tab-content active">
      <div class="stats-row" id="statsRow"></div>

      <!-- PROACTIVE SUGGESTIONS (Phase 4 - ProactiveVA) -->
      <div id="proactivePanel" class="proactive-panel" style="display:none;">
        <div class="card proactive-card">
          <div class="card-header">
            <h3><span id="proactiveIcon">üéØ</span> <span id="proactiveTitle">Proactive Suggestions</span></h3>
            <span class="card-badge proactive-badge" id="proactivePattern">Detecting...</span>
          </div>
          <div class="proactive-content">
            <p id="proactiveContext" style="color:var(--text-secondary);margin-bottom:1rem;"></p>
            <div id="proactiveSuggestions" class="suggestions-list"></div>
          </div>
        </div>
      </div>

      <!-- 10X POWER DASHBOARD -->
      <div class="power-dashboard" id="powerDashboard">
        <div class="power-header">
          <h2>10x Power Dashboard</h2>
          <div class="power-modes">
            <button class="power-mode-btn active" data-mode="quick">Quick</button>
            <button class="power-mode-btn" data-mode="full">Full</button>
            <button class="power-mode-btn" data-mode="boost">Boost</button>
          </div>
        </div>
        <div class="power-grid">
          <!-- Cognitive State -->
          <div class="power-card cognitive-card">
            <div class="power-card-header">
              <span class="power-icon">üß†</span>
              <h4>Cognitive State</h4>
            </div>
            <div class="power-card-body" id="cognitiveState">
              <div class="cognitive-mode">
                <span class="mode-indicator" id="cogModeIndicator">‚óè</span>
                <span id="cogModeLabel">Loading...</span>
              </div>
              <div class="cognitive-details">
                <span class="energy-label">Energy: <strong id="cogEnergy">--</strong></span>
                <span class="best-for">Best for: <strong id="cogBestFor">--</strong></span>
              </div>
            </div>
          </div>

          <!-- Session Status -->
          <div class="power-card session-card">
            <div class="power-card-header">
              <span class="power-icon">üìä</span>
              <h4>Session Status</h4>
            </div>
            <div class="power-card-body" id="sessionStatus">
              <div class="session-bar">
                <div class="session-progress" id="sessionProgress" style="width:0%"></div>
              </div>
              <div class="session-details">
                <span>Position: <strong id="sessionPosition">--%</strong></span>
                <span>Budget: <strong id="sessionBudget">--</strong></span>
              </div>
            </div>
          </div>

          <!-- Supermemory Quick -->
          <div class="power-card memory-card">
            <div class="power-card-header">
              <span class="power-icon">üß¨</span>
              <h4>Supermemory</h4>
            </div>
            <div class="power-card-body" id="memoryQuick">
              <div class="memory-stat">
                <span id="memoryDue">0</span>
                <small>items due</small>
              </div>
              <div class="memory-stat">
                <span id="memoryTotal">0</span>
                <small>total memories</small>
              </div>
            </div>
          </div>

          <!-- Autonomous Agents -->
          <div class="power-card agents-card">
            <div class="power-card-header">
              <span class="power-icon">ü§ñ</span>
              <h4>Autonomous Agents</h4>
            </div>
            <div class="power-card-body" id="agentsStatus">
              <div class="agent-row">
                <span class="agent-indicator" id="ralphIndicator">‚óã</span>
                <span>Ralph TUI: <strong id="ralphStatus">Not running</strong></span>
              </div>
              <div class="agent-row">
                <span class="agent-indicator" id="bgIndicator">‚óã</span>
                <span>Background: <strong id="bgAgents">0 active</strong></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Recommendations -->
        <div class="power-recommendations" id="powerRecommendations">
          <span class="power-icon">üí°</span>
          <span id="recommendationText">Loading recommendations...</span>
        </div>

        <!-- Full Mode Panels (hidden by default) -->
        <div class="power-extended" id="powerExtended" style="display:none;">
          <div class="power-grid" style="margin-top:1rem;">
            <!-- Error Prevention -->
            <div class="power-card">
              <div class="power-card-header">
                <span class="power-icon">üõ°Ô∏è</span>
                <h4>Error Prevention</h4>
              </div>
              <div class="power-card-body" id="errorPrevention">
                <div class="agent-row">
                  <span>Auto-fix rate:</span>
                  <strong id="autoFixRate">--</strong>
                </div>
                <div class="agent-row">
                  <span>Recent fixes:</span>
                  <strong id="recentFixes">--</strong>
                </div>
              </div>
            </div>

            <!-- Observatory -->
            <div class="power-card">
              <div class="power-card-header">
                <span class="power-icon">üî≠</span>
                <h4>Observatory</h4>
              </div>
              <div class="power-card-body" id="observatoryQuick">
                <div class="agent-row">
                  <span>Sessions (7d):</span>
                  <strong id="obsSessions">--</strong>
                </div>
                <div class="agent-row">
                  <span>Success rate:</span>
                  <strong id="obsSuccess">--</strong>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Boost Mode Panels (hidden by default) -->
        <div class="power-boost" id="powerBoost" style="display:none;">
          <div class="power-grid" style="margin-top:1rem;">
            <!-- Context Packs -->
            <div class="power-card">
              <div class="power-card-header">
                <span class="power-icon">üì¶</span>
                <h4>Context Packs</h4>
              </div>
              <div class="power-card-body" id="contextPacks">
                <div class="agent-row">
                  <span>Active packs:</span>
                  <strong id="activePacks">--</strong>
                </div>
                <div class="agent-row">
                  <span>Tokens saved:</span>
                  <strong id="tokensSaved">--</strong>
                </div>
              </div>
            </div>

            <!-- Model Routing -->
            <div class="power-card">
              <div class="power-card-header">
                <span class="power-icon">üéØ</span>
                <h4>Model Routing</h4>
              </div>
              <div class="power-card-body" id="modelRouting">
                <div class="agent-row">
                  <span>Recommended:</span>
                  <strong id="recommendedModel">--</strong>
                </div>
                <div class="agent-row">
                  <span>DQ Score:</span>
                  <strong id="dqScore">--</strong>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Messages Over Time</h3>
            <span class="card-badge">7 Days</span>
          </div>
          <div class="chart-container"><canvas id="messagesChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Tool Usage</h3>
            <span class="card-badge">By Day</span>
          </div>
          <div class="chart-container"><canvas id="toolsChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Token Consumption</h3>
            <span class="card-badge">Trend</span>
          </div>
          <div class="chart-container"><canvas id="tokensChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Activity by Hour</h3>
            <span class="card-badge">Sessions</span>
          </div>
          <div class="chart-container"><canvas id="hourChart"></canvas></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Token Breakdown</h3>
          <span class="card-badge" id="modelBadge">Opus 4.6</span>
        </div>
        <div class="token-bar" id="tokenBreakdown"></div>
      </div>
    </div>

    <!-- MEMORY TAB -->
    <div id="memory" class="tab-content">
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value" id="memTotalItems">‚Äî</div>
          <div class="stat-label">Total Knowledge</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="memFactCount">‚Äî</div>
          <div class="stat-label">Facts</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="memDecisionCount">‚Äî</div>
          <div class="stat-label">Decisions</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="memPatternCount">‚Äî</div>
          <div class="stat-label">Patterns</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="memProjectCount">‚Äî</div>
          <div class="stat-label">Projects</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="memTagCount">‚Äî</div>
          <div class="stat-label">Unique Tags</div>
        </div>
      </div>

      <!-- Knowledge Distribution + Top Tags -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üìä Knowledge Distribution</h3>
            <span class="card-badge" id="memDistBadge">By Type</span>
          </div>
          <div class="chart-container"><canvas id="memDistChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>üè∑Ô∏è Top Tags</h3>
            <span class="card-badge" id="memTagBadge">All Types</span>
          </div>
          <div class="chart-container"><canvas id="memTagChart"></canvas></div>
        </div>
      </div>

      <!-- Monthly Growth + Tag by Type -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üìà Knowledge Growth</h3>
            <span class="card-badge" id="memGrowthBadge">Monthly</span>
          </div>
          <div class="chart-container"><canvas id="memGrowthChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>üß¨ Tags by Knowledge Type</h3>
            <span class="card-badge">Breakdown</span>
          </div>
          <div class="chart-container"><canvas id="memTagTypeChart"></canvas></div>
        </div>
      </div>

      <!-- Interactive Memory Chat -->
      <div class="card" style="margin-bottom:1rem;">
        <div class="card-header">
          <h3>üí¨ Ask Your Memory</h3>
          <span class="card-badge" id="memChatBadge">5,591 searchable</span>
        </div>
        <div id="memChatMessages" style="min-height:60px;max-height:400px;overflow-y:auto;padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem;">
          <div style="color:var(--text-muted);font-size:0.85rem;padding:1rem;text-align:center;">
            Ask anything about your decisions, facts, patterns, learnings, or error solutions.<br>
            <span style="font-size:0.75rem;opacity:0.6;">Searches knowledge.json (semantic) + supermemory.db (FTS) + sessions (keyword)</span>
          </div>
        </div>
        <div style="display:flex;gap:0.5rem;padding:0.75rem;border-top:1px solid rgba(255,255,255,0.06);">
          <select id="memChatSource" style="background:var(--bg-glass);border:1px solid rgba(255,255,255,0.1);color:var(--text-secondary);border-radius:6px;padding:0.4rem 0.6rem;font-size:0.8rem;">
            <option value="all">All Sources</option>
            <option value="knowledge">Knowledge</option>
            <option value="supermemory">Supermemory</option>
            <option value="sessions">Sessions</option>
          </select>
          <input type="text" id="memChatInput" placeholder="What did I decide about...?" style="flex:1;background:var(--bg-glass);border:1px solid rgba(255,255,255,0.1);color:var(--text-primary);border-radius:6px;padding:0.5rem 0.75rem;font-size:0.85rem;outline:none;" />
          <button id="memChatSend" style="background:linear-gradient(135deg,#6c5ce7,#a29bfe);border:none;color:white;border-radius:6px;padding:0.5rem 1rem;cursor:pointer;font-size:0.85rem;font-weight:600;white-space:nowrap;">Search</button>
        </div>
      </div>

      <!-- Filter Search + Item Lists -->
      <div class="search-box">
        <span>üîç</span>
        <input type="text" id="memorySearch" placeholder="Filter displayed memories...">
      </div>
      <div class="memory-grid">
        <div class="card memory-section">
          <div class="card-header">
            <h3>üìã Decisions</h3>
            <span class="card-badge" id="decisionCount">0</span>
          </div>
          <div id="memoryDecisions" style="max-height:400px;overflow-y:auto;"></div>
        </div>
        <div class="card memory-section">
          <div class="card-header">
            <h3>üìå Facts</h3>
            <span class="card-badge" id="factCount">0</span>
          </div>
          <div id="memoryFacts" style="max-height:400px;overflow-y:auto;"></div>
        </div>
        <div class="card memory-section">
          <div class="card-header">
            <h3>üîÑ Patterns</h3>
            <span class="card-badge" id="patternCount">0</span>
          </div>
          <div id="memoryPatterns" style="max-height:400px;overflow-y:auto;"></div>
        </div>
        <div class="card memory-section">
          <div class="card-header">
            <h3>üìÅ Project Context</h3>
            <span class="card-badge" id="projectMemCount">0</span>
          </div>
          <div id="memoryProjects" style="max-height:400px;overflow-y:auto;"></div>
        </div>
      </div>
    </div>

    <!-- ACTIVITY TAB -->
    <div id="activity" class="tab-content">
      <div class="stats-row">
        <div class="stat-card">
          <div class="icon">üìù</div>
          <div class="value" id="todayActions">0</div>
          <div class="label">All-Time Actions</div>
        </div>
        <div class="stat-card">
          <div class="icon">‚úèÔ∏è</div>
          <div class="value" id="todayWrites">0</div>
          <div class="label">Files Written</div>
        </div>
        <div class="stat-card">
          <div class="icon">üîß</div>
          <div class="value" id="todayEdits">0</div>
          <div class="label">Files Edited</div>
        </div>
        <div class="stat-card">
          <div class="icon">üíª</div>
          <div class="value" id="todayBash">0</div>
          <div class="label">Bash Commands</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily Tool Activity</h3>
            <span class="card-badge" id="toolDaysCount">0 days</span>
          </div>
          <div class="chart-container"><canvas id="dailyToolActivityChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Tool Breakdown</h3>
            <span class="card-badge" id="toolTotalCount">0 total</span>
          </div>
          <div class="chart-container"><canvas id="toolBreakdownChart"></canvas></div>
        </div>
      </div>

      <div class="activity-container">
        <div class="card">
          <div class="card-header">
            <h3>Today's Timeline</h3>
            <span class="card-badge" id="activityCount">0 entries</span>
          </div>
          <div class="activity-timeline" id="activityLog"></div>
        </div>
        <div class="activity-sidebar">
          <div class="card">
            <div class="card-header">
              <h3>Hour Heatmap</h3>
            </div>
            <div class="heatmap-grid" id="heatmapGrid"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- COST TAB -->
    <div id="cost" class="tab-content">
      <div class="cost-hero">
        <div class="cost-card">
          <div class="amount" id="costApiValue">$0</div>
          <div class="label">API Value (All Time)</div>
        </div>
        <div class="cost-card">
          <div class="amount" id="costSubscription">$0</div>
          <div class="label">Subscription Paid</div>
        </div>
        <div class="cost-card savings">
          <div class="amount" id="costRoi">0x</div>
          <div class="label">ROI Multiplier</div>
        </div>
        <div class="cost-card savings">
          <div class="amount" id="costSaved">$0</div>
          <div class="label">Cache Savings</div>
        </div>
      </div>

      <div class="stats-row">
        <div class="stat-card">
          <div class="icon" style="font-size: 1.2rem; color: var(--accent-red);">Opus</div>
          <div class="value" id="costOpus">$0</div>
          <div class="label" id="costOpusPct">0%</div>
        </div>
        <div class="stat-card">
          <div class="icon" style="font-size: 1.2rem; color: var(--accent-cyan);">Sonnet</div>
          <div class="value" id="costSonnet">$0</div>
          <div class="label" id="costSonnetPct">0%</div>
        </div>
        <div class="stat-card">
          <div class="icon" style="font-size: 1.2rem; color: var(--accent-yellow);">Haiku</div>
          <div class="value" id="costHaiku">$0</div>
          <div class="label" id="costHaikuPct">0%</div>
        </div>
        <div class="stat-card">
          <div class="icon" style="font-size: 1.2rem; color: var(--accent-green);">Avg/Day</div>
          <div class="value" id="costAvgDay">$0</div>
          <div class="label" id="costDaysCount">0 days</div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Cache Efficiency</h3>
          <span class="card-badge" id="efficiencyPercent">0%</span>
        </div>
        <div class="efficiency-bar">
          <div class="efficiency-track">
            <div class="efficiency-fill" id="efficiencyFill" style="width: 0%"></div>
          </div>
          <div class="efficiency-label">
            <span id="cacheMissLabel">0% Cache Miss (Paid)</span>
            <span id="cacheHitLabel">100% Cache Hit (Free)</span>
          </div>
        </div>
        <div class="efficiency-details" style="display: flex; justify-content: space-between; margin-top: 0.75rem; font-size: 0.8rem; color: var(--text-muted);">
          <span>Input Tokens: <span id="inputTokensDisplay">0</span></span>
          <span>Output Tokens: <span id="outputTokensDisplay">0</span></span>
          <span>Cache Read: <span id="cacheReadDisplay">0</span></span>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily API Cost vs Subscription</h3>
            <span class="card-badge">Per-Model Pricing</span>
          </div>
          <div class="chart-subtitle" style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.5rem;">Opus $1.50/M, Sonnet $0.30/M, Haiku $0.08/M (cache-weighted) | $200/day subscription line</div>
          <div class="chart-container"><canvas id="costChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Cost by Model</h3>
            <span class="card-badge">All Time</span>
          </div>
          <div class="chart-subtitle" style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.5rem;">Stacked daily cost showing which model drives spend</div>
          <div class="chart-container"><canvas id="modelCostChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Token Distribution</h3>
            <span class="card-badge">All Models</span>
          </div>
          <div class="chart-container"><canvas id="efficiencyChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Cumulative ROI</h3>
            <span class="card-badge" id="roiBadge">0x</span>
          </div>
          <div class="chart-subtitle" style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.5rem;">Running total: API value vs subscription cost over time</div>
          <div class="chart-container"><canvas id="roiChart"></canvas></div>
        </div>
      </div>
    </div>

    <!-- PROJECTS TAB -->
    <div id="projects" class="tab-content">
      <div class="stats-row" id="projectsStatsRow"></div>

      <!-- Project Charts -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Lines of Code by Project</h3>
            <span class="card-badge" id="projLinesBadge">Top 10</span>
          </div>
          <div class="chart-container"><canvas id="projLinesChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>File Type Distribution</h3>
            <span class="card-badge" id="projFilesBadge">All Projects</span>
          </div>
          <div class="chart-container"><canvas id="projFilesChart"></canvas></div>
        </div>
      </div>
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Recent Activity (7d)</h3>
            <span class="card-badge">Commits</span>
          </div>
          <div class="chart-container"><canvas id="projActivityChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Total Commits by Project</h3>
            <span class="card-badge" id="projCommitsBadge">All Time</span>
          </div>
          <div class="chart-container"><canvas id="projCommitsChart"></canvas></div>
        </div>
      </div>

      <!-- Project Cards Grid -->
      <div class="projects-grid" id="projectsList"></div>
    </div>

    <!-- COMMANDS TAB -->
    <div id="commands" class="tab-content">
      <div class="stats-row" id="commandsStatsRow"></div>
      <div class="search-box" style="margin-bottom:1rem;">
        <span>üîç</span>
        <input type="text" id="commandSearch" placeholder="Search commands..." />
      </div>
      <div class="commands-section">
        <h4>üöÄ Quick Start</h4>
        <div class="commands-grid">
          <div class="command-card"><code>cx</code><div class="desc">Start Claude tmux session</div></div>
          <div class="command-card"><code>ccc</code><div class="desc">Open Command Center (this dashboard)</div></div>
          <div class="command-card"><code>cterm</code><div class="desc">Terminal dashboard</div></div>
          <div class="command-card"><code>ccost</code><div class="desc">Cost tracker</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>ü§ñ Model Selection</h4>
        <div class="commands-grid">
          <div class="command-card"><code>cq "..."</code><div class="desc">Haiku ‚Äî quick questions ($0.25/M)</div></div>
          <div class="command-card"><code>cc</code><div class="desc">Sonnet ‚Äî standard coding ($3/M)</div></div>
          <div class="command-card"><code>co</code><div class="desc">Opus ‚Äî complex reasoning ($15/M)</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>‚ö° Quick Actions</h4>
        <div class="commands-grid">
          <div class="command-card"><code>q "..."</code><div class="desc">Quick question, no session</div></div>
          <div class="command-card"><code>explain ...</code><div class="desc">Explain any concept</div></div>
          <div class="command-card"><code>fixcmd</code><div class="desc">Fix last failed command</div></div>
          <div class="command-card"><code>cfix</code><div class="desc">Fix the last error in Claude</div></div>
          <div class="command-card"><code>ctest</code><div class="desc">Run tests and fix failures</div></div>
          <div class="command-card"><code>ccheck</code><div class="desc">Multi-repo test + lint (all projects)</div></div>
          <div class="command-card"><code>ruff-check</code><div class="desc">Python lint (researchgravity)</div></div>
          <div class="command-card"><code>cbuild</code><div class="desc">Run build and fix errors</div></div>
          <div class="command-card"><code>cgit</code><div class="desc">PR workflow (/pr skill)</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>‚ö° Session Optimizer</h4>
        <div class="commands-grid">
          <div class="command-card"><code>session-status</code><div class="desc">Quick session status</div></div>
          <div class="command-card"><code>session-dash</code><div class="desc">Full session dashboard</div></div>
          <div class="command-card"><code>session-window</code><div class="desc">Window position details</div></div>
          <div class="command-card"><code>session-predict</code><div class="desc">Predict next window</div></div>
          <div class="command-card"><code>session-budget</code><div class="desc">Budget status</div></div>
          <div class="command-card"><code>session-reserve N</code><div class="desc">Reserve N Opus tasks</div></div>
          <div class="command-card"><code>session-queue-add</code><div class="desc">Add task to queue</div></div>
          <div class="command-card"><code>session-queue-list</code><div class="desc">View task queue</div></div>
          <div class="command-card"><code>session-optimize</code><div class="desc">Run optimization pass</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>üéØ Routing System</h4>
        <div class="commands-grid">
          <div class="command-card"><code>routing-dash</code><div class="desc">Routing dashboard</div></div>
          <div class="command-card"><code>routing-report N</code><div class="desc">N-day metrics report</div></div>
          <div class="command-card"><code>routing-targets</code><div class="desc">Check target metrics</div></div>
          <div class="command-card"><code>routing-help</code><div class="desc">Quick reference docs</div></div>
          <div class="command-card"><code>ab-test</code><div class="desc">A/B test analyzer</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>‚öôÔ∏è Co-Evolution</h4>
        <div class="commands-grid">
          <div class="command-card"><code>coevo-analyze</code><div class="desc">Analyze patterns</div></div>
          <div class="command-card"><code>coevo-propose</code><div class="desc">Propose mutations</div></div>
          <div class="command-card"><code>coevo-apply</code><div class="desc">Apply approved mutations</div></div>
          <div class="command-card"><code>coevo-rollback</code><div class="desc">Rollback last change</div></div>
          <div class="command-card"><code>coevo-dashboard</code><div class="desc">Co-evo dashboard</div></div>
          <div class="command-card"><code>meta-analyzer</code><div class="desc">Full meta-analyzer</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>üî≠ Observatory</h4>
        <div class="commands-grid">
          <div class="command-card"><code>obs N</code><div class="desc">N-day unified report</div></div>
          <div class="command-card"><code>obs-help</code><div class="desc">Observatory help</div></div>
          <div class="command-card"><code>elite-status</code><div class="desc">Elite mode status</div></div>
          <div class="command-card"><code>cost-report N</code><div class="desc">Cost report (N days)</div></div>
          <div class="command-card"><code>productivity-report N</code><div class="desc">Productivity metrics</div></div>
          <div class="command-card"><code>tool-stats N</code><div class="desc">Tool success rates</div></div>
          <div class="command-card"><code>command-stats N</code><div class="desc">Command usage stats</div></div>
          <div class="command-card"><code>git-stats N</code><div class="desc">Git activity</div></div>
          <div class="command-card"><code>session-analyze-recent</code><div class="desc">Analyze recent sessions</div></div>
          <div class="command-card"><code>feedback-loop</code><div class="desc">Run feedback loop</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>üì¶ Git Automation</h4>
        <div class="commands-grid">
          <div class="command-card"><code>gsave "msg"</code><div class="desc">Stage all + commit</div></div>
          <div class="command-card"><code>gsync</code><div class="desc">Pull, commit, push</div></div>
          <div class="command-card"><code>gcheckpoint</code><div class="desc">Checkpoint with optional push</div></div>
          <div class="command-card"><code>gquick</code><div class="desc">Auto-generate commit message</div></div>
          <div class="command-card"><code>gbranch name</code><div class="desc">Create and switch branch</div></div>
          <div class="command-card"><code>glog</code><div class="desc">Recent commits (compact)</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>üî¨ Research</h4>
        <div class="commands-grid">
          <div class="command-card"><code>research "topic"</code><div class="desc">Start research session</div></div>
          <div class="command-card"><code>rlog URL</code><div class="desc">Log URL to session</div></div>
          <div class="command-card"><code>rstatus</code><div class="desc">Check research status</div></div>
          <div class="command-card"><code>rsearch query</code><div class="desc">Search archives</div></div>
          <div class="command-card"><code>prefetch</code><div class="desc">Load project context</div></div>
          <div class="command-card"><code>prefetch-pattern</code><div class="desc">Pattern-based prefetch</div></div>
          <div class="command-card"><code>prefetch-suggest</code><div class="desc">Suggest relevant context</div></div>
          <div class="command-card"><code>rclip</code><div class="desc">Log URL from clipboard</div></div>
        </div>
      </div>

      <div class="commands-section">
        <h4>üìä Monitoring</h4>
        <div class="commands-grid">
          <div class="command-card"><code>today</code><div class="desc">Today's activity</div></div>
          <div class="command-card"><code>cl</code><div class="desc">Live activity log (tail -f)</div></div>
          <div class="command-card"><code>clog</code><div class="desc">Full activity log</div></div>
          <div class="command-card"><code>cstats</code><div class="desc">Session stats</div></div>
          <div class="command-card"><code>checkpoint</code><div class="desc">Save session checkpoint</div></div>
        </div>
      </div>
    </div>

    <!-- ROUTING TAB -->
    <div id="routing" class="tab-content">
      <div class="stats-row" id="routingStatsRow">
        <div class="stat-card">
          <div class="stat-value" id="routingQueries">‚Äî</div>
          <div class="stat-label">Total Queries</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="routingDqScore">‚Äî</div>
          <div class="stat-label">Avg DQ Score</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="routingCostSavings">‚Äî</div>
          <div class="stat-label">Cost Savings</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="routingAccuracy">‚Äî</div>
          <div class="stat-label">Accuracy</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="routingDomains">‚Äî</div>
          <div class="stat-label">Expertise Domains</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="routingModels">‚Äî</div>
          <div class="stat-label">Models Active</div>
        </div>
      </div>

      <!-- DQ Score Components + Performance Targets -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üß¨ DQ Score Components</h3>
            <span class="card-badge" id="dqComponentsBadge">Weighted</span>
          </div>
          <div style="padding:1rem;">
            <div style="display:flex;gap:1rem;margin-bottom:1rem;">
              <div style="flex:1;text-align:center;background:var(--bg-glass);border-radius:8px;padding:0.75rem;">
                <div style="font-size:1.3rem;font-weight:700;color:#00ff88;" id="dqValidity">‚Äî</div>
                <div style="font-size:0.75rem;color:var(--text-muted);">Validity (40%)</div>
              </div>
              <div style="flex:1;text-align:center;background:var(--bg-glass);border-radius:8px;padding:0.75rem;">
                <div style="font-size:1.3rem;font-weight:700;color:#48dbfb;" id="dqSpecificity">‚Äî</div>
                <div style="font-size:0.75rem;color:var(--text-muted);">Specificity (30%)</div>
              </div>
              <div style="flex:1;text-align:center;background:var(--bg-glass);border-radius:8px;padding:0.75rem;">
                <div style="font-size:1.3rem;font-weight:700;color:#b14eff;" id="dqCorrectness">‚Äî</div>
                <div style="font-size:0.75rem;color:var(--text-muted);">Correctness (30%)</div>
              </div>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Composite DQ</span>
                <span class="progress-value" id="dqComposite">‚Äî</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="dqCompositeBar" style="width:0%;background:linear-gradient(90deg,#00ff88,#48dbfb,#b14eff);"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>‚ö° Performance Targets</h3>
            <span class="card-badge" id="targetsMetBadge">‚Äî</span>
          </div>
          <div class="routing-targets">
            <div class="target-item">
              <span class="target-label">Routing Accuracy</span>
              <span class="target-value" id="accuracyTarget">‚Äî</span>
              <span class="target-status" id="accuracyStatus">‚è≥</span>
            </div>
            <div class="target-item">
              <span class="target-label">Cost Reduction</span>
              <span class="target-value" id="costTarget">‚Äî</span>
              <span class="target-status" id="costStatus">‚è≥</span>
            </div>
            <div class="target-item">
              <span class="target-label">Latency (p95)</span>
              <span class="target-value" id="latencyTarget">‚Äî</span>
              <span class="target-status" id="latencyStatus">‚è≥</span>
            </div>
            <div class="target-item">
              <span class="target-label">DQ Score</span>
              <span class="target-value" id="dqTarget">‚Äî</span>
              <span class="target-status" id="dqStatus">‚è≥</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Daily DQ Trend + Queries by Model -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üìà Daily DQ Score & Complexity</h3>
            <span class="card-badge" id="routingDqTrendBadge">Dual Axis</span>
          </div>
          <div class="chart-container"><canvas id="routingDqTrendChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>üìä Daily Queries by Model</h3>
            <span class="card-badge" id="routingModelTrendBadge">Stacked</span>
          </div>
          <div class="chart-container"><canvas id="routingModelTrendChart"></canvas></div>
        </div>
      </div>

      <!-- Model Complexity + Expertise Domains -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üéØ Model Complexity Ranges</h3>
            <span class="card-badge">Min/Avg/Max</span>
          </div>
          <div class="chart-container"><canvas id="routingComplexityChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>üß† Expertise Domain Routing</h3>
            <span class="card-badge" id="expertiseBadge">Domains</span>
          </div>
          <div class="chart-container"><canvas id="routingExpertiseChart"></canvas></div>
        </div>
      </div>

      <!-- Model Distribution + Success Rates -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>üîµ Model Distribution</h3>
            <span class="card-badge">By Count</span>
          </div>
          <div class="chart-container"><canvas id="modelDistChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>‚úÖ Model Success Rates</h3>
            <span class="card-badge" id="modelSuccessBadge">From Outcomes</span>
          </div>
          <div id="modelSuccessGrid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:0.75rem;padding:1rem;">
            <p class="empty-state" style="grid-column:span 3;">Calculating from session outcomes...</p>
          </div>
        </div>
      </div>

      <!-- Expertise Domain Detail -->
      <div class="card">
        <div class="card-header">
          <h3>üéì Expertise Routing Detail</h3>
          <span class="card-badge" id="expertiseCountBadge">‚Äî</span>
        </div>
        <div id="expertiseDetailGrid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:0.75rem;padding:1rem;">
          <p class="empty-state">Loading expertise data...</p>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>üöÄ Routing Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>routing-dash</code><div class="desc">View routing dashboard</div></div>
          <div class="command-card"><code>routing-report 7</code><div class="desc">Weekly performance report</div></div>
          <div class="command-card"><code>exp-detect "query"</code><div class="desc">Detect domain & expertise</div></div>
          <div class="command-card"><code>exp-route "query" 0.5</code><div class="desc">Route with complexity</div></div>
          <div class="command-card"><code>routing-targets</code><div class="desc">Check target metrics</div></div>
          <div class="command-card"><code>exp-stats</code><div class="desc">Expertise routing stats</div></div>
        </div>
      </div>
    </div>

    <!-- CO-EVOLUTION TAB -->
    <div id="coevo" class="tab-content">
      <!-- 6 stat cards -->
      <div class="stats-row" id="coevoStatsRow">
        <div class="stat-card green">
          <div class="stat-value" id="coevoCacheEfficiency">‚Äî</div>
          <div class="stat-label">Cache Efficiency</div>
        </div>
        <div class="stat-card cyan">
          <div class="stat-value" id="coevoDqScore">‚Äî</div>
          <div class="stat-label">DQ Score</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="coevoDominantPattern">‚Äî</div>
          <div class="stat-label">Dominant Pattern</div>
        </div>
        <div class="stat-card purple">
          <div class="stat-value" id="coevoModsApplied">‚Äî</div>
          <div class="stat-label">Mods Applied</div>
        </div>
        <div class="stat-card orange">
          <div class="stat-value" id="coevoTotalSessions">‚Äî</div>
          <div class="stat-label">Total Sessions</div>
        </div>
        <div class="stat-card green">
          <div class="stat-value" id="coevoTopPct">‚Äî</div>
          <div class="stat-label">Top Pattern %</div>
        </div>
      </div>

      <!-- Meta-Vengine Status + Pattern Distribution -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Meta-Vengine Status</h3>
            <span class="card-badge" id="coevoStatusBadge">Active</span>
          </div>
          <div style="padding:1rem;">
            <div class="coevo-status">
              <div class="coevo-config-item">
                <span class="config-label">Auto-Apply</span>
                <span class="config-value" id="coevoAutoApply">‚Äî</span>
              </div>
              <div class="coevo-config-item">
                <span class="config-label">Min Confidence</span>
                <span class="config-value" id="coevoMinConfidence">‚Äî</span>
              </div>
              <div class="coevo-config-item">
                <span class="config-label">Last Analysis</span>
                <span class="config-value" id="coevoLastAnalysis">‚Äî</span>
              </div>
            </div>
            <div style="margin-top:1rem;border-top:1px solid var(--border);padding-top:1rem;">
              <div style="font-weight:600;color:var(--text-primary);margin-bottom:0.5rem;font-size:0.85rem;">Evolution Weights</div>
              <div id="coevoWeights" style="display:flex;flex-direction:column;gap:0.4rem;"></div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Pattern Distribution</h3>
            <span class="card-badge" id="patternCount">0</span>
          </div>
          <div class="chart-container"><canvas id="patternChart"></canvas></div>
        </div>
      </div>

      <!-- Charts row 2: Weekly Pattern Trends + Daily Pattern Activity -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Weekly Pattern Trends</h3>
            <span class="card-badge" id="patternTrendsWeeks">0 weeks</span>
          </div>
          <div class="chart-container"><canvas id="patternTrendsChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Daily Pattern Activity</h3>
            <span class="card-badge" id="patternDailyBadge">21 Days</span>
          </div>
          <div class="chart-container"><canvas id="patternDailyChart"></canvas></div>
        </div>
      </div>

      <!-- All-time stats + Detected patterns list -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>All-Time Pattern Stats</h3>
            <span class="card-badge" id="patternTotalSessions">0 sessions</span>
          </div>
          <div id="patternStatsGrid" class="stats-grid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:0.5rem;padding:1rem;">
            <p class="empty-state" style="grid-column:span 2;">Run backfill-patterns.py to populate</p>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Detected Patterns</h3>
          </div>
          <div id="patternsList" class="patterns-list" style="padding:1rem;max-height:350px;overflow-y:auto;"></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Co-Evolution Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>meta-analyzer analyze</code><div class="desc">Run pattern analysis</div></div>
          <div class="command-card"><code>meta-analyzer propose</code><div class="desc">Generate modification proposals</div></div>
          <div class="command-card"><code>meta-analyzer apply &lt;id&gt;</code><div class="desc">Apply a modification</div></div>
          <div class="command-card"><code>meta-analyzer rollback &lt;id&gt;</code><div class="desc">Revert a modification</div></div>
          <div class="command-card"><code>meta-analyzer dashboard</code><div class="desc">View effectiveness metrics</div></div>
          <div class="command-card"><code>prefetch --pattern &lt;type&gt;</code><div class="desc">Load pattern-aware context</div></div>
        </div>
      </div>
    </div>

    <!-- CONTEXT EFFICIENCY TAB -->
    <div id="context-efficiency" class="tab-content">
      <!-- 6 stat cards -->
      <div class="stats-row" id="contextEfficiencyStatsRow">
        <div class="stat-card green">
          <div class="stat-value" id="totalSessions">0</div>
          <div class="stat-label">Sessions Optimized</div>
        </div>
        <div class="stat-card cyan">
          <div class="stat-value" id="totalTokenSavings">0</div>
          <div class="stat-label">Tokens Saved</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="totalCostSavings">$0.00</div>
          <div class="stat-label">Cost Savings</div>
        </div>
        <div class="stat-card purple">
          <div class="stat-value" id="avgReduction">0%</div>
          <div class="stat-label">Avg Reduction</div>
        </div>
        <div class="stat-card orange">
          <div class="stat-value" id="totalPacks">0</div>
          <div class="stat-label">Total Packs</div>
        </div>
        <div class="stat-card green">
          <div class="stat-value" id="totalPackTokens">0</div>
          <div class="stat-label">Pack Tokens</div>
        </div>
      </div>

      <!-- Charts row 1: Daily Sessions + Cost Savings | Daily Token Savings -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily Sessions & Cost Savings</h3>
            <span class="card-badge" id="packDaysBadge">All Days</span>
          </div>
          <div class="chart-container"><canvas id="packSessionCostChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Daily Token Savings</h3>
            <span class="card-badge" id="packTokenTrendBadge">Trend</span>
          </div>
          <div class="chart-container"><canvas id="savingsTrendChart"></canvas></div>
        </div>
      </div>

      <!-- Charts row 2: Pack Inventory by Type | Pack Token Sizes -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Pack Inventory by Type</h3>
            <span class="card-badge" id="packInventoryCount">0</span>
          </div>
          <div class="chart-container"><canvas id="packTypeChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Pack Token Sizes</h3>
          </div>
          <div class="chart-container"><canvas id="packSizeChart"></canvas></div>
        </div>
      </div>

      <!-- Top packs + Pack inventory list -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Top Performing Packs</h3>
            <span class="card-badge" id="topPacksCount">0</span>
          </div>
          <div id="topPacksList" class="top-packs-list" style="padding:1rem;"></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Pack Inventory</h3>
          </div>
          <div id="packInventoryList" class="pack-inventory-list" style="padding:1rem;"></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Pack Management Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>python3 build_packs.py --create</code><div class="desc">Create new pack</div></div>
          <div class="command-card"><code>python3 select_packs.py --auto</code><div class="desc">Auto-select packs</div></div>
          <div class="command-card"><code>python3 pack_metrics.py --stats</code><div class="desc">View statistics</div></div>
          <div class="command-card"><code>python3 build_packs.py --list</code><div class="desc">List all packs</div></div>
          <div class="command-card"><code>prefetch-packs --inject</code><div class="desc">Inject into session</div></div>
          <div class="command-card"><code>pack-metrics --dashboard-data</code><div class="desc">Export dashboard data</div></div>
        </div>
      </div>
    </div>

    <!-- SESSION OUTCOMES TAB (Tab 10) -->
    <div id="session-outcomes" class="tab-content">
      <!-- SESSION WINDOW PANEL - Current session state -->
      <div id="sessionPanel" class="card" style="margin-bottom:1.5rem;">
        <div class="card-header">
          <h3>‚ö° Session Window</h3>
          <span class="card-badge" id="sessionTierBadge">‚Äî</span>
        </div>
        <div class="session-window-content">
          <div class="session-progress-row">
            <span class="session-label">Window Position</span>
            <div class="session-progress-bar">
              <div class="session-progress-fill" id="sessionProgressFill" style="width:0%"></div>
            </div>
            <span class="session-value" id="sessionPosition">0%</span>
          </div>
          <div class="session-stats-row">
            <div class="session-stat">
              <span class="session-stat-value" id="sessionRemaining">‚Äî</span>
              <span class="session-stat-label">Remaining</span>
            </div>
            <div class="session-stat">
              <span class="session-stat-value" id="sessionOpus">‚Äî</span>
              <span class="session-stat-label">Opus</span>
            </div>
            <div class="session-stat">
              <span class="session-stat-value" id="sessionSonnet">‚Äî</span>
              <span class="session-stat-label">Sonnet</span>
            </div>
            <div class="session-stat">
              <span class="session-stat-value" id="sessionHaiku">‚Äî</span>
              <span class="session-stat-label">Haiku</span>
            </div>
            <div class="session-stat">
              <span class="session-stat-value" id="sessionBudget">‚Äî</span>
              <span class="session-stat-label">Budget Used</span>
            </div>
            <div class="session-stat">
              <span class="session-stat-value" id="sessionQueue">‚Äî</span>
              <span class="session-stat-label">Queue</span>
            </div>
          </div>
          <div class="session-recommendations" id="sessionRecommendations"></div>
        </div>
      </div>

      <div class="stats-row" id="sessionOutcomesStatsRow">
        <div class="stat-card">
          <div class="stat-value" id="sessionTotalCount">‚Äî</div>
          <div class="stat-label">Total Sessions</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sessionSuccessRate">‚Äî</div>
          <div class="stat-label">Success Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sessionAvgMessages">‚Äî</div>
          <div class="stat-label">Avg Messages</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sessionMarathon">‚Äî</div>
          <div class="stat-label">Marathon (100+)</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sessionTotalMessages">‚Äî</div>
          <div class="stat-label">Total Messages</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Outcome Distribution</h3>
            <span class="card-badge" id="outcomeDistBadge">0 Sessions</span>
          </div>
          <div class="chart-container"><canvas id="outcomeDonutChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Quality Distribution</h3>
            <span class="card-badge">1-5 Stars</span>
          </div>
          <div class="chart-container"><canvas id="qualityBarChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily Sessions</h3>
            <span class="card-badge" id="dailySessionsDays">0 days</span>
          </div>
          <div class="chart-container"><canvas id="dailySessionsChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Success Rate Over Time</h3>
            <span class="card-badge">Daily Trend</span>
          </div>
          <div class="chart-container"><canvas id="successRateTrendChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Sessions by Model</h3>
            <span class="card-badge">Per Day</span>
          </div>
          <div class="chart-container"><canvas id="modelSessionsChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Session Size Distribution</h3>
            <span class="card-badge" id="sizeTotalBadge">All Time</span>
          </div>
          <div class="chart-container"><canvas id="sizeDistChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Success Rate by Model</h3>
            <span class="card-badge">All Time</span>
          </div>
          <div class="chart-container"><canvas id="modelSuccessChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Quality Trend</h3>
            <span class="card-badge">Rolling Average</span>
          </div>
          <div class="chart-container"><canvas id="qualityTrendChart"></canvas></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Recent Sessions</h3>
          <span class="card-badge" id="recentSessionsCount">0</span>
        </div>
        <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="border-bottom: 1px solid var(--border);">
              <th style="padding: 10px; text-align: left; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Date</th>
              <th style="padding: 10px; text-align: left; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Model</th>
              <th style="padding: 10px; text-align: left; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Outcome</th>
              <th style="padding: 10px; text-align: right; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Msgs</th>
              <th style="padding: 10px; text-align: right; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Tools</th>
              <th style="padding: 10px; text-align: center; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.8rem;">Quality</th>
            </tr>
          </thead>
          <tbody id="recentSessionsTable">
            <tr><td colspan="6" style="text-align:center; padding: 20px; color: var(--text-secondary);">Loading sessions...</td></tr>
          </tbody>
        </table>
        </div>
      </div>
    </div>

    <!-- PRODUCTIVITY TAB (Tab 11) -->
    <div id="productivity" class="tab-content">
      <div class="stats-row" id="productivityStatsRow">
        <div class="stat-card">
          <div class="stat-value" id="prodTotalTools">0</div>
          <div class="stat-label">All-Time Tool Calls</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="prodScore">0%</div>
          <div class="stat-label">Productivity Score</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="prodWriteOps">0</div>
          <div class="stat-label">Write Operations</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="prodReadOps">0</div>
          <div class="stat-label">Read Operations</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="prodPeakDay">‚Äî</div>
          <div class="stat-label">Peak Day</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="prodActiveDays">0</div>
          <div class="stat-label">Active Days</div>
        </div>
      </div>

      <!-- Per-model breakdown -->
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px;">
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Bash Commands</div>
          <div id="prodBashCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-cyan);">0</div>
          <div id="prodBashPct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Edit + Write</div>
          <div id="prodEditWriteCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-green);">0</div>
          <div id="prodEditWritePct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Search (Grep + Glob)</div>
          <div id="prodSearchCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-purple);">0</div>
          <div id="prodSearchPct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Productivity Score Trend</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="productivityScoreChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Read vs Write Over Time</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="readWriteChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily Tool Volume</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="velocityChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Tool Category Mix</h3>
            <span class="card-badge">All-Time Distribution</span>
          </div>
          <div class="chart-container"><canvas id="toolMixChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>File Activity</h3>
            <span class="card-badge">Most Modified</span>
          </div>
          <div id="fileActivityList" class="file-activity-list">
            <div class="no-data">No file activity data available.</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Productivity Assessment</h3>
          </div>
          <div id="productivityAssessment" class="assessment-panel">
            <div class="assessment-item">
              <div class="assessment-label">Current Mode:</div>
              <div class="assessment-value" id="productivityMode">‚Äî</div>
            </div>
            <div class="assessment-item">
              <div class="assessment-label">Recommendation:</div>
              <div class="assessment-value" id="productivityReco">‚Äî</div>
            </div>
            <div class="assessment-item">
              <div class="assessment-label">Write Intensity:</div>
              <div class="assessment-value" id="productivityWriteIntensity">‚Äî</div>
            </div>
            <div class="assessment-item">
              <div class="assessment-label">Best Day:</div>
              <div class="assessment-value" id="productivityBestDay">‚Äî</div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Productivity Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>productivity-report 7</code><div class="desc">Weekly productivity metrics</div></div>
          <div class="command-card"><code>obs 30</code><div class="desc">30-day unified report</div></div>
          <div class="command-card"><code>tool-stats 30</code><div class="desc">30-day tool success rates</div></div>
        </div>
      </div>
    </div>

    <!-- TOOL ANALYTICS TAB (Tab 12) -->
    <div id="tool-analytics" class="tab-content">
      <div class="stats-row" id="toolAnalyticsStatsRow">
        <div class="stat-card">
          <div class="stat-value" id="taTotalCalls">0</div>
          <div class="stat-label">All-Time Tool Calls</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="taUniqueTools">0</div>
          <div class="stat-label">Unique Tools</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="taSuccessRate">0%</div>
          <div class="stat-label">Success Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="taTotalFailures">0</div>
          <div class="stat-label">Total Failures</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="taAvgDaily">0</div>
          <div class="stat-label">Avg/Day</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="taTopTool">‚Äî</div>
          <div class="stat-label">Top Tool</div>
        </div>
      </div>

      <!-- Tool category breakdown -->
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px;">
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Core (Bash/Read/Edit/Write)</div>
          <div id="taCoreCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-cyan);">0</div>
          <div id="taCorePct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Search (Grep/Glob)</div>
          <div id="taSearchCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-purple);">0</div>
          <div id="taSearchPct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Advanced (Task/Web/MCP/Other)</div>
          <div id="taAdvancedCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-green);">0</div>
          <div id="taAdvancedPct" style="font-size: 0.8rem; color: var(--text-secondary);">0%</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Tool Usage Distribution</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="commandUsageChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Success Rate by Tool</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="toolSuccessChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily Tool Volume</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="toolDailyVolumeChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Tool Category Trend</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="toolTrendChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Git Commits</h3>
            <span class="card-badge">Last 30 Days</span>
          </div>
          <div class="chart-container"><canvas id="gitCommitsChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Git Repos</h3>
            <span class="card-badge">Commit Distribution</span>
          </div>
          <div class="chart-container"><canvas id="gitReposChart"></canvas></div>
        </div>
      </div>

      <!-- Git stats row -->
      <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px;">
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Total Commits</div>
          <div id="gitCommitCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-cyan);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Repos Active</div>
          <div id="gitRepoCount" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-green);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Insertions</div>
          <div id="gitInsertions" style="font-size: 1.8rem; font-weight: 700; color: rgba(0, 230, 118, 0.9);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Deletions</div>
          <div id="gitDeletions" style="font-size: 1.8rem; font-weight: 700; color: rgba(233, 69, 96, 0.9);">0</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Failure Patterns</h3>
            <span class="card-badge" id="failurePatternsCount">0</span>
          </div>
          <div id="failurePatternsList" class="failure-patterns-list">
            <div class="no-data" style="padding: 20px; text-align: center; color: var(--text-secondary);">No failures detected</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Commands</h3>
          </div>
          <div class="commands-grid">
            <div class="command-card"><code>tool-stats 30</code><div class="desc">30-day tool success rates</div></div>
            <div class="command-card"><code>git-stats 30</code><div class="desc">30-day git metrics</div></div>
            <div class="command-card"><code>command-stats 30</code><div class="desc">Command usage stats</div></div>
          </div>
        </div>
      </div>
    </div>

    <!-- SUPERMEMORY TAB -->
    <div id="supermemory" class="tab-content">
      <div class="stats-row" id="supermemoryStats">
        <div class="stat-card">
          <div class="stat-value" id="smMemoryItems">‚Äî</div>
          <div class="stat-label">Memory Items</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="smLearnings">‚Äî</div>
          <div class="stat-label">Learnings</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="smReviewTotal">‚Äî</div>
          <div class="stat-label">Total Reviews</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="smReviewDue">‚Äî</div>
          <div class="stat-label">Reviews Due</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="smErrorPatterns">‚Äî</div>
          <div class="stat-label">Error Patterns</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="smProjects">‚Äî</div>
          <div class="stat-label">Projects Tracked</div>
        </div>
      </div>

      <!-- Source + status row -->
      <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px;">
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Daily Syncs</div>
          <div id="smSourceDaily" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-cyan);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Session Outcomes</div>
          <div id="smSourceOutcome" style="font-size: 1.8rem; font-weight: 700; color: var(--accent-green);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Error Captures</div>
          <div id="smSourceError" style="font-size: 1.8rem; font-weight: 700; color: rgba(233, 69, 96, 0.9);">0</div>
        </div>
        <div class="card" style="padding: 16px; text-align: center;">
          <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 4px;">Status</div>
          <div id="supermemoryStatus" style="font-size: 1.4rem; font-weight: 700; color: var(--accent-green);">‚Äî</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Memory Growth</h3>
            <span class="card-badge">Last 30 Days</span>
          </div>
          <div class="chart-container"><canvas id="smGrowthChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Project Distribution</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="smProjectChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Learning Categories</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="smCategoryChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Review Queue by Category</h3>
            <span class="card-badge" id="smReviewBadge">0 due</span>
          </div>
          <div class="chart-container"><canvas id="smReviewChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <!-- Review Queue List -->
        <div class="card">
          <div class="card-header">
            <h3>Review Queue</h3>
            <span class="card-badge" id="smReviewDueBadge">0 due</span>
          </div>
          <div class="card-body">
            <div id="smReviewList" style="max-height: 350px; overflow-y: auto;">
              <p style="color: var(--text-muted);">No items due for review</p>
            </div>
          </div>
        </div>

        <!-- Automations Status -->
        <div class="card">
          <div class="card-header">
            <h3>Automations</h3>
          </div>
          <div class="card-body">
            <table style="width: 100%; border-collapse: collapse;" id="smAutomationsTable">
              <thead>
                <tr>
                  <th style="text-align: left; padding: 8px; border-bottom: 1px solid var(--border); color: var(--text-secondary); font-size: 0.8rem;">Automation</th>
                  <th style="text-align: center; padding: 8px; border-bottom: 1px solid var(--border); color: var(--text-secondary); font-size: 0.8rem;">Status</th>
                  <th style="text-align: left; padding: 8px; border-bottom: 1px solid var(--border); color: var(--text-secondary); font-size: 0.8rem;">Trigger</th>
                </tr>
              </thead>
              <tbody id="smAutomationsBody">
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="charts-grid">
        <!-- Recent Learnings -->
        <div class="card">
          <div class="card-header">
            <h3>Recent Learnings</h3>
          </div>
          <div class="card-body">
            <div id="smLearningsList" style="max-height: 350px; overflow-y: auto;">
              <p style="color: var(--text-muted);">No learnings recorded</p>
            </div>
          </div>
        </div>

        <!-- Error Patterns -->
        <div class="card">
          <div class="card-header">
            <h3>Error Patterns</h3>
            <span class="card-badge" id="smErrorCount">0</span>
          </div>
          <div class="card-body">
            <div id="smErrorsList" style="max-height: 350px; overflow-y: auto;">
              <p style="color: var(--text-muted);">No error patterns recorded</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Commands -->
      <div class="card">
        <div class="card-header">
          <h3>Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>sm stats</code><div class="desc">Memory statistics</div></div>
          <div class="command-card"><code>sm context</code><div class="desc">Generate session context</div></div>
          <div class="command-card"><code>sm errors "text"</code><div class="desc">Find past error solutions</div></div>
          <div class="command-card"><code>sm review</code><div class="desc">Spaced repetition review</div></div>
          <div class="command-card"><code>sm sync</code><div class="desc">Sync all data sources</div></div>
          <div class="command-card"><code>sm-due</code><div class="desc">Check review items due</div></div>
        </div>
      </div>
    </div>

    <!-- COGNITIVE OS TAB -->
    <div id="cognitive" class="tab-content">
      <div class="stats-row" id="cognitiveStatsRow">
        <div class="stat-card">
          <div class="stat-value" id="cognitiveMode">‚Äî</div>
          <div class="stat-label">Current Mode</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cognitiveEnergy">‚Äî</div>
          <div class="stat-label">Energy Level</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cognitiveFlow">‚Äî</div>
          <div class="stat-label">Flow State</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cognitiveFate">‚Äî</div>
          <div class="stat-label">Session Fate</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cogFateAccuracy">‚Äî</div>
          <div class="stat-label">Fate Accuracy</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cogRoutingTotal">‚Äî</div>
          <div class="stat-label">Routing Decisions</div>
        </div>
      </div>

      <!-- Today's Cognitive Brief -->
      <div class="card" style="margin-bottom: 20px;">
        <div class="card-header">
          <h3>Today's Cognitive Brief</h3>
          <span class="card-badge" id="cognitiveDay">‚Äî</span>
        </div>
        <div style="padding:1rem;">
          <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1rem;">
            <div style="background:var(--bg-glass);padding:1rem;border-radius:8px;">
              <div style="color:var(--text-secondary);font-size:0.75rem;margin-bottom:0.5rem;">RECOMMENDED TASKS</div>
              <div id="cognitiveRecommendedTasks" style="color:var(--text-primary);font-size:0.9rem;">‚Äî</div>
            </div>
            <div style="background:var(--bg-glass);padding:1rem;border-radius:8px;">
              <div style="color:var(--text-secondary);font-size:0.75rem;margin-bottom:0.5rem;">RECOMMENDED MODEL</div>
              <div id="cognitiveRecommendedModel" style="color:var(--accent-cyan);font-size:0.9rem;font-weight:600;">‚Äî</div>
            </div>
            <div style="background:var(--bg-glass);padding:1rem;border-radius:8px;">
              <div style="color:var(--text-secondary);font-size:0.75rem;margin-bottom:0.5rem;">PEAK HOURS</div>
              <div id="cognitivePeakHours" style="color:var(--accent-yellow);font-size:0.9rem;">‚Äî</div>
            </div>
            <div style="background:var(--bg-glass);padding:1rem;border-radius:8px;">
              <div style="color:var(--text-secondary);font-size:0.75rem;margin-bottom:0.5rem;">FLOW SCORE</div>
              <div id="cogFlowScore" style="color:var(--accent-green);font-size:0.9rem;font-weight:600;">‚Äî</div>
            </div>
          </div>
          <div id="cognitiveWarnings" style="color:var(--accent-orange);font-size:0.85rem;"></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Weekly Energy Map</h3>
            <span class="card-badge">By Day</span>
          </div>
          <div id="weeklyEnergyMap" style="padding:1rem;">
            <div style="display:flex;flex-direction:column;gap:0.5rem;" id="energyBars"></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Flow State History</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="flowChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Model Routing Distribution</h3>
            <span class="card-badge">All-Time (SQLite)</span>
          </div>
          <div class="chart-container"><canvas id="cognitiveRoutingChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Fate Prediction Accuracy</h3>
            <span class="card-badge">Daily Trend</span>
          </div>
          <div class="chart-container"><canvas id="fateAccuracyChart"></canvas></div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Daily DQ Score Trend</h3>
            <span class="card-badge">All-Time</span>
          </div>
          <div class="chart-container"><canvas id="dqScoreTrendChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Fate Predictions</h3>
            <span class="card-badge">Distribution</span>
          </div>
          <div class="chart-container"><canvas id="fateDistChart"></canvas></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>cos state</code><div class="desc">Current cognitive mode</div></div>
          <div class="command-card"><code>cos flow</code><div class="desc">Flow state detection</div></div>
          <div class="command-card"><code>cos fate</code><div class="desc">Session outcome prediction</div></div>
          <div class="command-card"><code>cos route "task"</code><div class="desc">Cognitive model routing</div></div>
          <div class="command-card"><code>cos weekly</code><div class="desc">Weekly energy map</div></div>
          <div class="command-card"><code>cos schedule "tasks"</code><div class="desc">Task scheduling suggestions</div></div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <!-- SELF-HEALING / AUTO-RECOVERY SECTION -->
      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

      <div style="margin:2rem 0 1rem;padding:1rem 0;border-top:1px solid var(--border);">
        <h2 style="font-size:1.3rem;font-weight:600;color:var(--accent-green);display:flex;align-items:center;gap:0.5rem;">
          ü©π Self-Healing Engine
          <span style="font-size:0.7rem;background:rgba(0,255,136,0.1);color:var(--accent-green);padding:3px 8px;border-radius:4px;">AUTO-RECOVERY</span>
        </h2>
        <p style="color:var(--text-secondary);font-size:0.85rem;margin-top:0.5rem;">Automatic error detection and remediation ‚Äî 94% coverage, 70% auto-fixed</p>
      </div>

      <div class="stats-row" id="recoveryStatsRow">
        <div class="stat-card green">
          <div class="stat-value" id="recoveryTotal">‚Äî</div>
          <div class="stat-label">Total Attempts</div>
        </div>
        <div class="stat-card cyan">
          <div class="stat-value" id="recoveryAutoFix">‚Äî</div>
          <div class="stat-label">Auto-Fixed</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="recoverySuccess">‚Äî</div>
          <div class="stat-label">Success Rate</div>
        </div>
        <div class="stat-card purple">
          <div class="stat-value" id="recoveryCoverage">94%</div>
          <div class="stat-label">Error Coverage</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Recovery by Category</h3>
            <span class="card-badge">Distribution</span>
          </div>
          <div class="chart-container"><canvas id="recoveryCategoryChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Auto-Fix vs Suggest</h3>
            <span class="card-badge">Action Types</span>
          </div>
          <div class="chart-container"><canvas id="recoveryTypeChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Recovery Timeline</h3>
            <span class="card-badge">Last 7 Days</span>
          </div>
          <div class="chart-container"><canvas id="recoveryTimelineChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Success by Category</h3>
            <span class="card-badge">Rates</span>
          </div>
          <div class="chart-container"><canvas id="recoverySuccessChart"></canvas></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Recovery Matrix</h3>
          <span class="card-badge">Actions</span>
        </div>
        <div style="padding:1rem;overflow-x:auto;">
          <table style="width:100%;border-collapse:collapse;font-size:0.85rem;">
            <thead>
              <tr style="border-bottom:1px solid var(--border);">
                <th style="text-align:left;padding:0.75rem;color:var(--text-secondary);">Category</th>
                <th style="text-align:center;padding:0.75rem;color:var(--text-secondary);">Errors</th>
                <th style="text-align:left;padding:0.75rem;color:var(--text-secondary);">Auto-Fix Actions</th>
                <th style="text-align:left;padding:0.75rem;color:var(--text-secondary);">Suggest-Only</th>
              </tr>
            </thead>
            <tbody id="recoveryMatrixBody">
              <tr><td colspan="4" style="padding:1rem;text-align:center;color:var(--text-muted);">Loading...</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Recent Recovery Actions</h3>
          <span class="card-badge" id="recentRecoveryCount">0</span>
        </div>
        <div id="recentRecoveryList" style="padding:1rem;max-height:300px;overflow-y:auto;">
          <div style="color:var(--text-muted);text-align:center;">No recent recoveries</div>
        </div>
      </div>

      <!-- MULTI-AGENT COORDINATION SECTION -->
      <div class="section-header" style="margin-top: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <h2 style="color: var(--cyan); margin: 0; font-size: 1.1rem;">ü§ñ Multi-Agent Coordination</h2>
      </div>

      <div class="stats-row" id="coordinatorStatsRow">
        <div class="stat-card cyan">
          <div class="stat-value" id="coordActiveAgents">0</div>
          <div class="stat-label">Active Agents</div>
        </div>
        <div class="stat-card green">
          <div class="stat-value" id="coordCompletedAgents">0</div>
          <div class="stat-label">Completed</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="coordFileLocks">0</div>
          <div class="stat-label">File Locks</div>
        </div>
        <div class="stat-card purple">
          <div class="stat-value" id="coordTotalCost">$0</div>
          <div class="stat-label">Coord Cost</div>
        </div>
      </div>

      <div class="stats-row">
        <div class="card" style="flex: 1">
          <div class="card-header">
            <h3>Agent Registry</h3>
            <span class="badge" id="coordRegistryBadge">0 agents</span>
          </div>
          <div class="content-box" id="coordAgentList" style="max-height: 200px; overflow-y: auto;">
            <p class="empty-state">No active agents</p>
          </div>
        </div>
        <div class="card" style="flex: 1">
          <div class="card-header">
            <h3>File Locks</h3>
            <span class="badge" id="coordLocksBadge">0 locks</span>
          </div>
          <div class="content-box" id="coordLockList" style="max-height: 200px; overflow-y: auto;">
            <p class="empty-state">No active file locks</p>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Recent Coordinations</h3>
        </div>
        <div class="table-container">
          <table class="data-table" id="coordHistoryTable">
            <thead>
              <tr>
                <th>Task ID</th>
                <th>Task</th>
                <th>Strategy</th>
                <th>Status</th>
                <th>Duration</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody id="coordHistoryBody">
              <tr><td colspan="6" class="empty-state">No coordination history</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Coordination Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>coord status</code><div class="desc">View system status</div></div>
          <div class="command-card"><code>coord research "task"</code><div class="desc">Parallel research</div></div>
          <div class="command-card"><code>coord implement "task"</code><div class="desc">Parallel build</div></div>
          <div class="command-card"><code>coord full "task"</code><div class="desc">Full pipeline</div></div>
          <div class="command-card"><code>coord-cleanup</code><div class="desc">Clean stale data</div></div>
          <div class="command-card"><code>coord-agents</code><div class="desc">List agents</div></div>
        </div>
      </div>

      <!-- ACTIVE CLAUDE SESSIONS SECTION -->
      <div class="section-header" style="margin-top: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <h2 style="color: var(--purple); margin: 0; font-size: 1.1rem;">üíª Active Claude Sessions</h2>
      </div>

      <div class="stats-row" id="sessionsStatsRow">
        <div class="stat-card purple">
          <div class="stat-value" id="sessionsActiveCount">0</div>
          <div class="stat-label">Running</div>
        </div>
        <div class="stat-card cyan">
          <div class="stat-value" id="sessionsTotalRuntime">0m</div>
          <div class="stat-label">Total Runtime</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="sessionsOpusCount">0</div>
          <div class="stat-label">Opus</div>
        </div>
        <div class="stat-card green">
          <div class="stat-value" id="sessionsSonnetCount">0</div>
          <div class="stat-label">Sonnet</div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Running Sessions</h3>
          <span class="badge" id="sessionsListBadge">0 sessions</span>
        </div>
        <div class="table-container">
          <table class="data-table" id="sessionsTable">
            <thead>
              <tr>
                <th>PID</th>
                <th>Model</th>
                <th>Runtime</th>
                <th>CPU %</th>
                <th>Memory</th>
                <th>Working Dir</th>
              </tr>
            </thead>
            <tbody id="sessionsTableBody">
              <tr><td colspan="6" class="empty-state">No active sessions</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Session History</h3>
          <span class="badge" id="sessionHistoryBadge">0 sessions</span>
        </div>
        <div class="table-container">
          <table class="data-table" id="sessionHistoryTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Title</th>
                <th>Messages</th>
                <th>Tools</th>
                <th>Model</th>
                <th>Outcome</th>
              </tr>
            </thead>
            <tbody id="sessionHistoryBody">
              <tr><td colspan="6" class="empty-state">No session history</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- RECOVERY SECTION -->
      <div class="section-header" style="margin-top: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <h2 style="color: var(--green); margin: 0; font-size: 1.1rem;">ü©π Auto-Recovery</h2>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Recovery Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>recover-status</code><div class="desc">View recovery statistics</div></div>
          <div class="command-card"><code>recover-test git</code><div class="desc">Test git recovery</div></div>
          <div class="command-card"><code>recover-test lock</code><div class="desc">Test lock recovery</div></div>
          <div class="command-card"><code>recover-test perms</code><div class="desc">Test permission recovery</div></div>
        </div>
      </div>
    </div>

    <!-- INFRASTRUCTURE TAB -->
    <div id="infrastructure" class="tab-content">
      <!-- 6 stat cards -->
      <div class="stats-row" id="infraStatsRow">
        <div class="stat-card green">
          <div class="stat-value" id="infraStatus">‚Äî</div>
          <div class="stat-label">System Status</div>
        </div>
        <div class="stat-card cyan">
          <div class="stat-value" id="infraDaemons">‚Äî</div>
          <div class="stat-label">Daemons Active</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-value" id="infraHeartbeat">‚Äî</div>
          <div class="stat-label">Last Heartbeat</div>
        </div>
        <div class="stat-card purple">
          <div class="stat-value" id="infraHealed">‚Äî</div>
          <div class="stat-label">Auto-Healed (24h)</div>
        </div>
        <div class="stat-card orange">
          <div class="stat-value" id="infraSelfHealRuns">‚Äî</div>
          <div class="stat-label">Self-Heal Runs</div>
        </div>
        <div class="stat-card green">
          <div class="stat-value" id="infraRecoveryRate">‚Äî</div>
          <div class="stat-label">Recovery Rate</div>
        </div>
      </div>

      <!-- Daemon grid + Protection layers -->
      <div class="charts-grid">
        <div class="card" style="grid-column:span 2;">
          <div class="card-header">
            <h3>Daemon Status</h3>
            <span class="card-badge" id="infraDaemonBadge">Watchdog</span>
          </div>
          <div id="daemonGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:0.75rem;padding:1rem;"></div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Protection Layers</h3>
          </div>
          <div style="padding:1rem;">
            <div style="display:flex;flex-direction:column;gap:0.5rem;" id="protectionLayers">
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;">
                <span style="font-size:1.2rem;">1</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--accent-cyan);">Watchdog</div>
                  <div style="font-size:0.75rem;color:var(--text-secondary);">Every 60s ‚Äî monitors all daemons</div>
                </div>
                <span id="watchdogStatus" style="color:var(--accent-green);">‚óè</span>
              </div>
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;">
                <span style="font-size:1.2rem;">2</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--accent-green);">KeepAlive</div>
                  <div style="font-size:0.75rem;color:var(--text-secondary);">launchd auto-restarts watchdog</div>
                </div>
                <span style="color:var(--accent-green);">‚óè</span>
              </div>
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;">
                <span style="font-size:1.2rem;">3</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--accent-yellow);">Bootstrap</div>
                  <div style="font-size:0.75rem;color:var(--text-secondary);">Login ‚Äî loads everything</div>
                </div>
                <span id="bootstrapStatus" style="color:var(--accent-green);">‚óè</span>
              </div>
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;">
                <span style="font-size:1.2rem;">4</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--accent-purple);">Wake Hook</div>
                  <div style="font-size:0.75rem;color:var(--text-secondary);">Sleep ‚Äî triggers bootstrap</div>
                </div>
                <span id="wakeStatus" style="color:var(--accent-green);">‚óè</span>
              </div>
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;">
                <span style="font-size:1.2rem;">5</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--accent-orange);">Self-Heal</div>
                  <div style="font-size:0.75rem;color:var(--text-secondary);">Every 6h ‚Äî deep health check</div>
                </div>
                <span id="selfHealStatus" style="color:var(--accent-green);">‚óè</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Charts row 1: Watchdog Activity + Daemon Heal Distribution -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Watchdog Activity</h3>
            <span class="card-badge" id="watchdogDaysBadge">All Days</span>
          </div>
          <div class="chart-container"><canvas id="watchdogActivityChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Daemon Heal Distribution</h3>
            <span class="card-badge" id="totalHealsBadge">0</span>
          </div>
          <div class="chart-container"><canvas id="daemonHealChart"></canvas></div>
        </div>
      </div>

      <!-- Charts row 2: Self-Heal Health + Data Freshness -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Self-Heal Health Checks</h3>
            <span class="card-badge" id="selfHealRunsBadge">0</span>
          </div>
          <div class="chart-container"><canvas id="selfHealChart"></canvas></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Data Freshness</h3>
          </div>
          <div class="chart-container"><canvas id="dataFreshnessChart"></canvas></div>
        </div>
      </div>

      <!-- Healing events + Daemon health bars -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Recent Healing Events</h3>
            <span class="card-badge" id="healingCount">0</span>
          </div>
          <div id="healingEvents" style="padding:1rem;max-height:350px;overflow-y:auto;"></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Daemon Health</h3>
            <span class="card-badge" id="uptimeBadge">Live</span>
          </div>
          <div id="daemonHealthBars" style="padding:1rem;"></div>
        </div>
      </div>

      <!-- Healing stats + Most healed -->
      <div class="charts-grid">
        <div class="card">
          <div class="card-header">
            <h3>Healing Stats</h3>
          </div>
          <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;padding:1rem;">
            <div style="text-align:center;padding:1rem;background:var(--bg-glass);border-radius:8px;">
              <div style="font-size:1.8rem;font-weight:700;color:var(--accent-green);" id="healingTotal">0</div>
              <div style="font-size:0.75rem;color:var(--text-secondary);">Total Heals</div>
            </div>
            <div style="text-align:center;padding:1rem;background:var(--bg-glass);border-radius:8px;">
              <div style="font-size:1.8rem;font-weight:700;color:var(--accent-cyan);" id="healingToday">0</div>
              <div style="font-size:0.75rem;color:var(--text-secondary);">Today</div>
            </div>
            <div style="text-align:center;padding:1rem;background:var(--bg-glass);border-radius:8px;">
              <div style="font-size:1.8rem;font-weight:700;color:var(--accent-yellow);" id="healingAvgDay">0</div>
              <div style="font-size:0.75rem;color:var(--text-secondary);">Avg/Day</div>
            </div>
            <div style="text-align:center;padding:1rem;background:var(--bg-glass);border-radius:8px;">
              <div style="font-size:1.8rem;font-weight:700;color:var(--accent-purple);" id="healingSuccessRate">100%</div>
              <div style="font-size:0.75rem;color:var(--text-secondary);">Success Rate</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Most Healed Daemons</h3>
          </div>
          <div id="mostHealedDaemons" style="padding:1rem;"></div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Infrastructure Commands</h3>
        </div>
        <div class="commands-grid">
          <div class="command-card"><code>ccc-status</code><div class="desc">Full infrastructure status</div></div>
          <div class="command-card"><code>ccc-fix</code><div class="desc">Auto-fix all issues</div></div>
          <div class="command-card"><code>ccc-heal</code><div class="desc">Run healing check</div></div>
          <div class="command-card"><code>ccc-bootstrap</code><div class="desc">Reload everything</div></div>
          <div class="command-card"><code>ccc-watchdog-log</code><div class="desc">Watch live healing</div></div>
          <div class="command-card"><code>/ccc-heal</code><div class="desc">Invoke skill</div></div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    Press <kbd>1</kbd>-<kbd>9</kbd> for tabs 1-9 ¬∑ <kbd>0</kbd>, <kbd>O</kbd>, <kbd>P</kbd>, <kbd>T</kbd>, <kbd>S</kbd>, <kbd>C</kbd>, <kbd>I</kbd> for extra tabs ¬∑ <kbd>R</kbd> to refresh
  </footer>

  <script>
    // Tab switching
    document.querySelectorAll('.nav-tab').forEach((tab, i) => {
      tab.addEventListener('click', () => switchTab(tab.dataset.tab));
    });

    function switchTab(tabId) {
      document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
      document.getElementById(tabId).classList.add('active');
      // Persist tab in URL hash for refresh
      history.replaceState(null, '', '#' + tabId);
    }

    // Restore tab from URL hash on load
    (function() {
      const hash = window.location.hash.slice(1);
      if (hash && document.getElementById(hash)) {
        switchTab(hash);
      }
    })();

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.target.tagName === 'INPUT') return;
      const tabs = ['overview', 'memory', 'activity', 'cost', 'projects', 'commands', 'routing', 'coevo', 'context-efficiency', 'session-outcomes', 'productivity'];
      if (e.key >= '1' && e.key <= '9') switchTab(tabs[parseInt(e.key) - 1]);
      if (e.key === '0') switchTab('session-outcomes');  // Tab 10
      if (e.key.toLowerCase() === 'o') switchTab('session-outcomes');  // Tab 10 (O for Outcomes)
      if (e.key.toLowerCase() === 'p') switchTab('productivity');  // Tab 11
      if (e.key.toLowerCase() === 's') switchTab('supermemory');  // Tab 12
      if (e.key.toLowerCase() === 'c') switchTab('cognitive');  // Tab 13
      if (e.key.toLowerCase() === 'i') switchTab('infrastructure');  // Tab 14
      if (e.key.toLowerCase() === 'r') location.reload();
    });

    // Data injection
    const STATS_DATA = {"version": 1, "lastComputedDate": "2026-02-12", "totalSessions": 2889, "totalMessages": 258241, "totalTools": 89892, "modelUsage": {"opus": {"inputTokens": 9885740, "outputTokens": 4202952, "cacheReadInputTokens": 8119537064, "messageCount": 258221}, "sonnet": {"inputTokens": 7635241, "outputTokens": 2141571, "cacheReadInputTokens": 3755041594, "messageCount": 20}, "haiku": {"inputTokens": 6269775, "outputTokens": 62588, "cacheReadInputTokens": 915339207, "messageCount": 0}}, "hourCounts": {"0": 20654, "1": 25793, "2": 28539, "3": 31092, "4": 32650, "5": 27791, "6": 26245, "7": 31116, "8": 29800, "9": 23888, "10": 21714, "11": 19270, "12": 21652, "13": 19829, "14": 14642, "15": 19269, "16": 16379, "17": 22132, "18": 24799, "19": 22048, "20": 25895, "21": 22317, "22": 25859, "23": 20106}, "longestSession": {"messageCount": 2672, "date": "2026-01-26", "sessionId": "1e628ef4-cbca-4fd5-8"}, "dailyActivity": [{"date": "2026-01-05", "messageCount": 4, "sessionCount": 4, "toolCallCount": 0}, {"date": "2026-01-06", "messageCount": 16, "sessionCount": 8, "toolCallCount": 0}, {"date": "2026-01-09", "messageCount": 203, "sessionCount": 29, "toolCallCount": 62}, {"date": "2026-01-10", "messageCount": 30, "sessionCount": 15, "toolCallCount": 0}, {"date": "2026-01-11", "messageCount": 82, "sessionCount": 13, "toolCallCount": 24}, {"date": "2026-01-12", "messageCount": 384, "sessionCount": 26, "toolCallCount": 141}, {"date": "2026-01-13", "messageCount": 443, "sessionCount": 8, "toolCallCount": 185}, {"date": "2026-01-14", "messageCount": 5176, "sessionCount": 39, "toolCallCount": 1679}, {"date": "2026-01-15", "messageCount": 3084, "sessionCount": 18, "toolCallCount": 883}, {"date": "2026-01-16", "messageCount": 3291, "sessionCount": 33, "toolCallCount": 1105}, {"date": "2026-01-17", "messageCount": 6283, "sessionCount": 48, "toolCallCount": 1991}, {"date": "2026-01-18", "messageCount": 7316, "sessionCount": 30, "toolCallCount": 2219}, {"date": "2026-01-19", "messageCount": 12531, "sessionCount": 59, "toolCallCount": 4006}, {"date": "2026-01-20", "messageCount": 4401, "sessionCount": 24, "toolCallCount": 1343}, {"date": "2026-01-21", "messageCount": 14306, "sessionCount": 109, "toolCallCount": 4586}, {"date": "2026-01-22", "messageCount": 7245, "sessionCount": 51, "toolCallCount": 2206}, {"date": "2026-01-23", "messageCount": 11396, "sessionCount": 49, "toolCallCount": 3822}, {"date": "2026-01-24", "messageCount": 6024, "sessionCount": 45, "toolCallCount": 2070}, {"date": "2026-01-25", "messageCount": 378, "sessionCount": 7, "toolCallCount": 139}, {"date": "2026-01-26", "messageCount": 10606, "sessionCount": 26, "toolCallCount": 3263}, {"date": "2026-01-27", "messageCount": 2290, "sessionCount": 18, "toolCallCount": 653}, {"date": "2026-01-28", "messageCount": 2086, "sessionCount": 12, "toolCallCount": 670}, {"date": "2026-01-29", "messageCount": 6852, "sessionCount": 210, "toolCallCount": 1954}, {"date": "2026-01-30", "messageCount": 2190, "sessionCount": 45, "toolCallCount": 668}, {"date": "2026-01-31", "messageCount": 16429, "sessionCount": 348, "toolCallCount": 5664}, {"date": "2026-02-01", "messageCount": 28803, "sessionCount": 392, "toolCallCount": 11050}, {"date": "2026-02-02", "messageCount": 1466, "sessionCount": 67, "toolCallCount": 383}, {"date": "2026-02-03", "messageCount": 7903, "sessionCount": 168, "toolCallCount": 2575}, {"date": "2026-02-04", "messageCount": 7099, "sessionCount": 45, "toolCallCount": 2355}, {"date": "2026-02-05", "messageCount": 3437, "sessionCount": 20, "toolCallCount": 1139}, {"date": "2026-02-06", "messageCount": 6382, "sessionCount": 75, "toolCallCount": 2430}, {"date": "2026-02-07", "messageCount": 17098, "sessionCount": 185, "toolCallCount": 6491}, {"date": "2026-02-08", "messageCount": 10758, "sessionCount": 110, "toolCallCount": 4135}, {"date": "2026-02-09", "messageCount": 18143, "sessionCount": 207, "toolCallCount": 7005}, {"date": "2026-02-10", "messageCount": 6046, "sessionCount": 68, "toolCallCount": 2196}, {"date": "2026-02-11", "messageCount": 7073, "sessionCount": 74, "toolCallCount": 2511}, {"date": "2026-02-12", "messageCount": 20965, "sessionCount": 198, "toolCallCount": 8288}, {"date": "2026-02-13", "messageCount": 22, "sessionCount": 6, "toolCallCount": 1}], "dailyModelTokens": [{"date": "2026-01-05", "tokensByModel": {"opus": 0, "sonnet": 0, "haiku": 0}}, {"date": "2026-01-06", "tokensByModel": {"opus": 0, "sonnet": 0, "haiku": 0}}, {"date": "2026-01-09", "tokensByModel": {"opus": 0, "sonnet": 2186182, "haiku": 0}}, {"date": "2026-01-10", "tokensByModel": {"opus": 0, "sonnet": 21421, "haiku": 0}}, {"date": "2026-01-11", "tokensByModel": {"opus": 0, "sonnet": 547581, "haiku": 0}}, {"date": "2026-01-12", "tokensByModel": {"opus": 0, "sonnet": 5448642, "haiku": 0}}, {"date": "2026-01-13", "tokensByModel": {"opus": 0, "sonnet": 220181128, "haiku": 0}}, {"date": "2026-01-14", "tokensByModel": {"opus": 0, "sonnet": 239604452, "haiku": 0}}, {"date": "2026-01-15", "tokensByModel": {"opus": 0, "sonnet": 153948476, "haiku": 0}}, {"date": "2026-01-16", "tokensByModel": {"opus": 0, "sonnet": 128829673, "haiku": 0}}, {"date": "2026-01-17", "tokensByModel": {"opus": 0, "sonnet": 291947972, "haiku": 0}}, {"date": "2026-01-18", "tokensByModel": {"opus": 0, "sonnet": 403957175, "haiku": 0}}, {"date": "2026-01-19", "tokensByModel": {"opus": 0, "sonnet": 698244319, "haiku": 0}}, {"date": "2026-01-20", "tokensByModel": {"opus": 0, "sonnet": 241061271, "haiku": 0}}, {"date": "2026-01-21", "tokensByModel": {"opus": 393086038, "sonnet": 237233574, "haiku": 48557490}}, {"date": "2026-01-22", "tokensByModel": {"opus": 329644747, "sonnet": 396308, "haiku": 24398032}}, {"date": "2026-01-23", "tokensByModel": {"opus": 563246796, "sonnet": 0, "haiku": 46680201}}, {"date": "2026-01-24", "tokensByModel": {"opus": 190516280, "sonnet": 66720387, "haiku": 27319129}}, {"date": "2026-01-25", "tokensByModel": {"opus": 493046, "sonnet": 6807394, "haiku": 0}}, {"date": "2026-01-26", "tokensByModel": {"opus": 413794105, "sonnet": 208993310, "haiku": 33802853}}, {"date": "2026-01-27", "tokensByModel": {"opus": 7254265, "sonnet": 88697810, "haiku": 17460906}}, {"date": "2026-01-28", "tokensByModel": {"opus": 4706615, "sonnet": 115881234, "haiku": 4210958}}, {"date": "2026-01-29", "tokensByModel": {"opus": 371872645, "sonnet": 14410947, "haiku": 28704435}}, {"date": "2026-01-30", "tokensByModel": {"opus": 25764646, "sonnet": 101840206, "haiku": 4841629}}, {"date": "2026-01-31", "tokensByModel": {"opus": 581506108, "sonnet": 140174583, "haiku": 105750720}}, {"date": "2026-02-01", "tokensByModel": {"opus": 1307893238, "sonnet": 37084844, "haiku": 138708607}}, {"date": "2026-02-02", "tokensByModel": {"opus": 44280132, "sonnet": 31919552, "haiku": 2159377}}, {"date": "2026-02-03", "tokensByModel": {"opus": 223932340, "sonnet": 147551159, "haiku": 34217556}}, {"date": "2026-02-04", "tokensByModel": {"opus": 435081066, "sonnet": 18460999, "haiku": 12540386}}, {"date": "2026-02-05", "tokensByModel": {"opus": 178553366, "sonnet": 20961004, "haiku": 7729848}}, {"date": "2026-02-06", "tokensByModel": {"opus": 209555369, "sonnet": 20674605, "haiku": 20460809}}, {"date": "2026-02-07", "tokensByModel": {"opus": 631428153, "sonnet": 70473006, "haiku": 101012520}}, {"date": "2026-02-08", "tokensByModel": {"opus": 440815175, "sonnet": 5557373, "haiku": 68330241}}, {"date": "2026-02-09", "tokensByModel": {"opus": 676777054, "sonnet": 17584978, "haiku": 105604943}}, {"date": "2026-02-10", "tokensByModel": {"opus": 239529946, "sonnet": 8863266, "haiku": 39721533}}, {"date": "2026-02-11", "tokensByModel": {"opus": 280200718, "sonnet": 11904000, "haiku": 49459397}}, {"date": "2026-02-12", "tokensByModel": {"opus": 583539257, "sonnet": 6649575, "haiku": 0}}, {"date": "2026-02-13", "tokensByModel": {"opus": 154651, "sonnet": 0, "haiku": 0}}], "totals": {"sessions": 2889, "messages": 258241, "tools": 89892}};
    const MEMORY_DATA = {"facts": [{"content": "OS-App started as Agentic Kernel platform with 3D visualizations", "tags": ["history", "os-app"], "timestamp": "2026-01-05T00:00:00Z", "id": 29}, {"content": "Claude Code usage since 2026-01-05 (351 sessions)", "tags": ["history", "usage"], "id": 13, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Most frequent work: api work, testing, research workflow, dashboard, debugging", "tags": ["history", "patterns"], "id": 14, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Most used tools: ", "tags": ["tools", "usage"], "id": 15, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Routing system development started Jan 13-14, 2026", "tags": ["history", "routing"], "id": 16, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Observatory system developed Jan 15-16, 2026", "tags": ["history", "observatory"], "id": 17, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Co-evolution/meta-analyzer developed Jan 16-17, 2026", "tags": ["history", "coevo"], "id": 18, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Session optimizer developed Jan 18-19, 2026", "tags": ["history", "session"], "id": 19, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Command Center dashboard (ccc) evolved through multiple iterations", "tags": ["history", "dashboard"], "id": 20, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "CareerCoach uses Next.js 14 with AI agent architecture", "tags": ["history", "careercoach"], "timestamp": "2026-01-08T00:00:00Z", "id": 30}, {"content": "Research workflow: init_session -> log_url -> archive_session", "tags": ["workflow", "research"], "timestamp": "2026-01-09T00:00:00Z", "id": 28}, {"content": "ResearchGravity created for systematic URL/paper tracking", "tags": ["history", "research"], "timestamp": "2026-01-09T00:00:00Z", "id": 31}, {"content": "FocusProof extension migration documented", "tags": ["research", "os-app"], "timestamp": "2026-01-10T00:00:00Z", "id": 27}, {"content": "Unified ~/.agent-core/ data store established Jan 2026", "tags": ["history", "architecture"], "timestamp": "2026-01-10T00:00:00Z", "id": 32}, {"content": "OS-App 10x adaptive UI research completed", "tags": ["research", "os-app"], "timestamp": "2026-01-12T00:00:00Z", "id": 26}, {"content": "Claude Code wrapper with model aliases (cq/cc/co) created", "tags": ["history", "tooling"], "timestamp": "2026-01-12T00:00:00Z", "id": 33}, {"content": "DQ-based auto-routing replaced manual model selection", "tags": ["history", "routing"], "timestamp": "2026-01-13T00:00:00Z", "id": 34}, {"content": "CAPER paper (arXiv:2408.15620) - Ternary User-Position-Company relationships for career graphs", "tags": ["research", "careercoach"], "timestamp": "2026-01-14T00:00:00Z", "id": 21}, {"content": "CareerScape paper (arXiv:2509.19677) - Graph-based resume validation", "tags": ["research", "careercoach"], "timestamp": "2026-01-14T00:00:00Z", "id": 22}, {"content": "Multi-agent voting captures most gains (arXiv:2508.17536)", "tags": ["research", "agents"], "timestamp": "2026-01-15T00:00:00Z", "id": 23}, {"content": "Agentic File System (AFS) concept from arXiv:2512.05470", "tags": ["research", "architecture"], "timestamp": "2026-01-15T00:00:00Z", "id": 24}, {"content": "Metaventions precision-bridge thesis developed Jan 15, 2026", "tags": ["research", "metaventions"], "timestamp": "2026-01-15T00:00:00Z", "id": 25}, {"id": 0, "content": "Antigravity ecosystem: OS-App (Vite+React), CareerCoach (Next.js), researchgravity (Python)", "tags": ["projects", "stack"], "timestamp": "2026-01-16T16:16:48.510Z"}, {"content": "GitHub username: Dicoangelo", "tags": ["identity", "github"], "id": 1, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Uses Claude Max subscription ($200/day)", "tags": ["subscription", "cost"], "id": 2, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Peak productivity hours: 14:00-16:00", "tags": ["productivity", "schedule"], "id": 3, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Autonomous routing system active - auto-routes to Haiku/Sonnet/Opus based on DQ scoring", "tags": ["routing", "system"], "id": 4, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Observatory system tracks: sessions, costs, tools, commands, git, productivity", "tags": ["observatory", "metrics"], "id": 5, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Co-evolution system auto-applies high-confidence optimizations", "tags": ["coevo", "system"], "id": 6, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Session optimizer tracks window position, budget, and capacity", "tags": ["session", "optimizer"], "id": 7, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "ResearchGravity used for research session tracking and URL logging", "tags": ["research", "workflow"], "id": 8, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Prefetch system loads project-specific context from learnings.md", "tags": ["context", "prefetch"], "id": 9, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "ACE (Adaptive Consensus Engine) uses 6-agent multi-agent analysis", "tags": ["ace", "agents"], "id": 10, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "DQ Score = Validity (40%) + Specificity (30%) + Correctness (30%)", "tags": ["dq", "scoring"], "id": 11, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "10 active projects in Antigravity ecosystem", "tags": ["projects", "ecosystem"], "id": 12, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"id": 35, "content": "SDK integration test - API server responding correctly", "type": "finding", "tags": ["test", "sdk"], "source": null, "project": "os-app", "timestamp": "2026-01-19T21:36:26.596494Z"}, {"content": "Average session length: 100-150 messages (intensive usage pattern, consolidated from 38 daily snapshots)", "tags": ["usage", "patterns"], "timestamp": "2026-02-12T00:00:00Z", "source": "supermemory_synthesis", "id": 37}, {"content": "Synchronicity breakthrough: Distributed cognition achieved spontaneous coherence across human + Claude + ChatGPT on signal: 'Can you unify yourself before you unify the infrastructure?' - temporal alignment proved Universal Cognitive Wallet concept", "tags": ["breakthrough", "ucw", "synchronicity", "distributed-cognition"], "timestamp": "2026-02-06T19:45:00.000000Z", "source": "founding_moment", "type": "paradigm_shift", "id": 74}, {"content": "Second signal recognized simultaneously: 'You're not just building infrastructure - you're building a new version of yourself. And using the tools to force the transformation.' - Meta-Engine orchestration in action", "tags": ["breakthrough", "ucw", "transformation", "meta-engine"], "timestamp": "2026-02-06T19:45:30.000000Z", "source": "founding_moment", "type": "paradigm_shift", "id": 75}, {"content": "Raw MCP (no SDK) chosen for UCW cognitive capture - protocol-level control enables perfect byte-level fidelity, nanosecond timestamps, message lineage tracking, and cross-platform coherence detection that SDK approach cannot provide", "tags": ["ucw", "mcp", "architecture", "raw-protocol", "sovereignty"], "timestamp": "2026-02-07T03:00:00.000000Z", "source": "ucw_master_plan", "type": "architectural_decision", "id": 76}, {"content": "UCW Unified Cognitive Database schema designed: cognitive_events (core), cognitive_sessions, coherence_moments, coherence_links, embedding_cache, cognitive_signatures, supermemory_entries - with UCW semantic layers (Data + Light + Instinct) on every event", "tags": ["ucw", "database", "schema", "architecture"], "timestamp": "2026-02-07T03:00:30.000000Z", "source": "ucw_master_plan", "type": "architectural_decision", "id": 77}, {"content": "ChatGPT export scored: 8,119 conversations - 681 deep work (8.4%), 6,140 exploration (75.6%), 1,221 casual (15%), 77 garbage (0.9%). 98% quality. Quality scoring prevents garbage pollution of UCW database.", "tags": ["ucw", "chatgpt", "quality-scoring", "data-import"], "timestamp": "2026-02-07T03:01:00.000000Z", "source": "ucw_master_plan", "type": "data_milestone", "id": 78}, {"content": "Stephen's sovereignty insight: 'Most people aren't ready for this. By the time companies want their AI data, they'll be depending on platforms.' Raw protocol control NOW = sovereignty LATER when platforms lock down cognitive data (2028-2030 predicted).", "tags": ["ucw", "sovereignty", "insight", "platform-lock-in", "strategic"], "timestamp": "2026-02-07T03:01:30.000000Z", "source": "ucw_master_plan", "type": "strategic_insight", "id": 79}, {"content": "Different AI platforms = different cognitive modes. Claude: deep work/coding (HIGH signal). ChatGPT: exploration/mixed (FILTERED signal). X/Grok: world-level strategic thinking. UCW must quality-tag by platform cognitive mode, not treat all data equally.", "tags": ["ucw", "cognitive-modes", "platform-differentiation", "quality"], "timestamp": "2026-02-07T03:02:00.000000Z", "source": "ucw_master_plan", "type": "design_principle", "id": 80}, {"content": "UCW synchronicity: Tab autocomplete suggested 'show me chatgpt capture' at exact moment ChatGPT export was ready and downloaded. Third synchronicity event proving distributed cognitive coherence is real and capturable.", "tags": ["ucw", "synchronicity", "proof", "coherence"], "timestamp": "2026-02-07T03:02:30.000000Z", "source": "ucw_master_plan", "type": "emergence_event", "id": 81}, {"content": "ResearchGravity MCP server exists (SDK-based, 606 lines). Decision: Keep for application use, build SEPARATE raw MCP for UCW cognitive capture infrastructure. Two MCPs: application (SDK) + infrastructure (raw).", "tags": ["ucw", "mcp", "architecture", "dual-server"], "timestamp": "2026-02-07T03:03:00.000000Z", "source": "ucw_master_plan", "type": "architectural_decision", "id": 82}, {"id": 83, "content": "Home directory restructured: 23 repos moved from ~/ into ~/projects/ with 9 categories (core, apps, career, components, portfolio, agents, decks, blueprint, products)", "tags": ["infrastructure", "migration", "organization"], "timestamp": "2026-02-11T03:00:00Z"}, {"id": 84, "content": "Portfolio website deployed: dicoangelo.metaventionsai.com (Next.js 16 + React 19 + Tailwind 4 + Three.js + GSAP + Supabase)", "tags": ["portfolio", "deployment", "website"], "timestamp": "2026-02-10T20:00:00Z"}, {"id": 85, "content": "Jordan Signature Event website deployed: website-metaventions.vercel.app (Next.js 16 + Vercel)", "tags": ["client-work", "deployment", "website"], "timestamp": "2026-02-10T18:00:00Z"}, {"id": 86, "content": "CCC Dashboard: 16 tabs, 40+ data sources, 19 LaunchAgents, 150K embeddings. Overall health 82%.", "tags": ["infrastructure", "dashboard", "ccc"], "timestamp": "2026-02-11T15:00:00Z"}, {"id": 87, "content": "UCW coherence engine running continuously: 163K events, 150K embeddings, 72 coherence moments, 10K knowledge graph entities", "tags": ["ucw", "coherence", "infrastructure"], "timestamp": "2026-02-11T15:00:00Z"}, {"id": 88, "content": "Vercel Git integration disconnected on both portfolio and Jordan sites \u2014 manual deploy with vercel deploy --prod to save build minutes", "tags": ["deployment", "vercel", "cost-optimization"], "timestamp": "2026-02-10T21:00:00Z"}], "decisions": [{"content": "Adopted DQ scoring from MyAntFarm.ai research (arXiv:2511.15755)", "tags": ["history", "research"], "id": 8, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Multi-agent ACE consensus chosen over single-agent analysis", "tags": ["history", "architecture"], "id": 9, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Kernel-based architecture for session state management", "tags": ["history", "architecture"], "id": 10, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "JSONL format for all event/activity logging", "tags": ["history", "data"], "id": 11, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Hooks system for session lifecycle automation", "tags": ["history", "automation"], "id": 12, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "JSONL chosen over SQLite for append-only event logging", "tags": ["history", "data"], "timestamp": "2026-01-10T00:00:00Z", "id": 13}, {"content": "Bash+Python hybrid for CLI tooling (fast startup + rich processing)", "tags": ["history", "architecture"], "timestamp": "2026-01-11T00:00:00Z", "id": 14}, {"content": "HTML dashboard over TUI for rich visualizations", "tags": ["history", "dashboard"], "timestamp": "2026-01-14T00:00:00Z", "id": 16}, {"content": "Hooks-based automation over cron for session events", "tags": ["history", "automation"], "timestamp": "2026-01-16T00:00:00Z", "id": 17}, {"id": 0, "content": "User prefers terminal-first workflow, minimal GUI switching", "tags": ["workflow", "preferences"], "timestamp": "2026-01-16T16:16:36.897Z"}, {"content": "Node.js kernel for real-time state (session-engine.js)", "tags": ["history", "architecture"], "timestamp": "2026-01-18T00:00:00Z", "id": 15}, {"content": "Session Window panel placed in Session Outcomes tab for logical grouping", "tags": ["dashboard", "ui"], "id": 1, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Observatory data written to temp file to avoid shell escaping issues", "tags": ["ccc", "fix"], "id": 2, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Commands tab expanded to include 70+ commands across all systems", "tags": ["dashboard", "commands"], "id": 3, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Auto-apply mutations only with confidence >= 0.7", "tags": ["coevo", "safety"], "id": 4, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Use Opus sparingly - reserve for complex architecture tasks", "tags": ["cost", "models"], "id": 5, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Checkpoint summaries after major task completions", "tags": ["workflow", "checkpoints"], "id": 6, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Batch 3+ sequential small requests for efficiency", "tags": ["workflow", "batching"], "id": 7, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Universal Cognitive Wallet UX principle: User should experience emergent coherence when distributed systems (human + multiple AIs) achieve temporal alignment on insights", "tags": ["ucw", "design", "ux-principle"], "id": 8, "timestamp": "2026-02-06T19:46:00.000000Z", "source": "founding_moment"}, {"content": "Fragmentation is personal, not just technical - unifying cognitive infrastructure = unifying the self", "tags": ["ucw", "philosophy", "design-principle"], "id": 9, "timestamp": "2026-02-06T19:46:30.000000Z", "source": "founding_moment"}, {"content": "Build raw MCP as UCW transport layer, not as application tool. Protocol-level capture inside the server, not hooks outside it. Solve SQL hooks failure by instrumenting from within.", "tags": ["ucw", "mcp", "architecture", "raw-protocol"], "id": 10, "timestamp": "2026-02-07T03:04:00.000000Z", "source": "ucw_master_plan"}, {"content": "Quality-first import: Score conversations BEFORE importing. Prevents garbage pollution. Threshold 0.4 for import. Tag everything with cognitive_mode and quality_score.", "tags": ["ucw", "data-quality", "import-strategy"], "id": 11, "timestamp": "2026-02-07T03:04:30.000000Z", "source": "ucw_master_plan"}, {"content": "UCW implementation order: Quality scorer (done) \u2192 ChatGPT import (in progress) \u2192 Raw MCP for Claude capture \u2192 Cross-platform coherence queries \u2192 UCW protocol bridge", "tags": ["ucw", "roadmap", "implementation-order"], "id": 12, "timestamp": "2026-02-07T03:05:00.000000Z", "source": "ucw_master_plan"}], "patterns": [{"content": "Dashboard work most common topic (48 sessions)", "tags": ["history", "patterns"], "id": 7, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Debugging sessions: 47 occurrences", "tags": ["history", "debugging"], "id": 8, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Session transcript archival to ~/.agent-core/sessions/", "tags": ["history", "archival"], "id": 9, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"content": "Research sessions archived with URL logs and findings", "tags": ["history", "research"], "id": 10, "timestamp": "2026-01-05T07:45:54.175560Z"}, {"id": 0, "content": "Use Haiku (cq) for quick questions, Sonnet (cc) for coding, Opus (co) for architecture", "tags": ["cost", "models"], "timestamp": "2026-01-16T16:16:49.163Z"}, {"content": "Dominant session type: debugging (observed from session history)", "tags": ["sessions", "patterns"], "id": 1, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Average session length: ~276 messages before context clear recommended", "tags": ["sessions", "length"], "id": 2, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Cache efficiency typically 93%+ - maintain by reusing context", "tags": ["cache", "efficiency"], "id": 3, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Tool success rate near 100% for Read, Write, Edit, Bash", "tags": ["tools", "success"], "id": 4, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Git activity: commits tracked via gsave, gsync, gcheckpoint aliases", "tags": ["git", "workflow"], "id": 5, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Research workflow: status.py -> init_session.py -> log_url.py -> archive_session.py", "tags": ["research", "workflow"], "id": 6, "timestamp": "2026-01-19T15:27:44.099981Z"}, {"content": "Identity fragmentation across AI platforms (Claude = execution, ChatGPT = vision/wealth, Grok = unknown facet) mirrors life fragmentation - user is living the problem UCW solves", "tags": ["ucw", "fragmentation", "lived-experience"], "id": 7, "timestamp": "2026-02-06T19:47:00.000000Z", "source": "founding_moment"}, {"content": "When data + light (insight) + instinct align across distributed cognitive systems, spontaneous coherence emerges - this is the target UX for Universal Cognitive Wallet", "tags": ["ucw", "emergence", "coherence"], "id": 8, "timestamp": "2026-02-06T19:47:30.000000Z", "source": "founding_moment"}], "context": {}, "projects": {"os-app": {"content": "Main platform - Agentic Kernel, 3D visualizations, biometric UI. Stack: Vite, React 19, Zustand, Supabase", "tags": ["active", "main"], "timestamp": "2026-01-16T16:16:49.896Z"}, "careercoach": {"content": "Career governance system with AI agents. Stack: Next.js 14, React 18, Zustand", "tags": ["active", "career"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "researchgravity": {"content": "Research session tracking and auto-capture framework. Stack: Python 3.8+", "tags": ["active", "research"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "agent-core": {"content": "Unified research index, session archives, project registry at ~/.agent-core/", "tags": ["active", "data"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "meta-vengine": {"content": "Meta engine system for autonomous improvements", "tags": ["active", "meta"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "metaventions-landing": {"content": "Metaventions AI landing page", "tags": ["active", "landing"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "the-decosystem": {"content": "Ecosystem framework for interconnected projects", "tags": ["active", "ecosystem"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "blackamethyst-ai": {"content": "AI profile and identity system", "tags": ["active", "ai"], "timestamp": "2026-01-19T15:27:44.099981Z"}, "chrome-history": {"content": "Browser history export tool", "tags": ["tool", "utility"], "timestamp": "2026-01-19T15:27:44.099981Z"}}, "updated": "2026-02-11T14:59:13.608197"};
    const ACTIVITY_DATA = ["21:20:43 Bash", "21:20:51 Bash", "21:20:55 Read", "21:23:05 Bash", "21:24:10 Bash", "21:24:17 Bash", "21:24:22 Bash", "21:24:40 Bash", "21:24:45 Read", "21:25:49 Read", "21:26:06 Read", "21:26:15 Edit", "21:26:18 Read", "21:26:40 Edit", "21:26:57 Edit", "21:27:14 Edit", "21:27:19 Edit", "21:28:41 Bash", "21:28:46 Bash", "21:29:00 Bash", "21:29:58 Read", "21:30:27 Read", "21:31:25 Grep", "21:31:30 Grep", "21:31:34 Read", "21:32:06 Edit", "21:32:16 Read", "21:32:49 Bash", "21:33:21 Read", "21:48:04 Bash", "21:51:30 Glob", "21:51:30 Glob", "21:51:31 Glob", "21:51:31 Glob", "21:51:32 Bash", "21:51:33 Glob", "21:51:33 Bash", "21:51:37 Read", "21:51:38 Read", "21:51:38 Read", "21:51:39 Read", "21:51:39 Read", "21:51:40 Read", "21:51:40 Read", "21:51:41 Read", "21:51:41 Read", "21:51:42 Read", "21:51:42 Read", "21:51:43 Read", "21:51:43 Read", "21:51:44 Read", "21:51:45 Read", "21:51:45 Read", "21:52:29 Bash", "21:52:34 Bash", "21:52:36 Bash", "21:52:37 Bash", "21:52:44 Bash"];
    const PROJECTS_DATA = [{"name": "OS-App", "stack": "Vite + React 19 + Zustand + Supabase", "status": "active", "class": "os-app", "files": "674", "commits": "557", "lines": "165.2K", "linesRaw": 165170, "fileTypes": {"ts": 391, "tsx": 129, "js": 78, "sh": 2, "json": 26, "md": 29, "css": 7, "html": 12}, "lastCommit": "2026-02-09", "branch": "main", "recentCommits": 18}, {"name": "CareerCoach", "stack": "Next.js 14 + React 18 + Zustand", "status": "active", "class": "career", "files": "988", "commits": "156", "lines": "93.7K", "linesRaw": 93660, "fileTypes": {"ts": 207, "tsx": 78, "js": 345, "py": 8, "sh": 1, "json": 283, "md": 55, "css": 6, "html": 5}, "lastCommit": "2026-02-12", "branch": "main", "recentCommits": 2}, {"name": "ResearchGravity", "stack": "Python 3.8+ Research Framework", "status": "active", "class": "research", "files": "11435", "commits": "100", "lines": "0", "linesRaw": 0, "fileTypes": {"ts": 161, "tsx": 86, "js": 46, "py": 10989, "sh": 8, "json": 30, "md": 97, "css": 8, "html": 10}, "lastCommit": "2026-02-12", "branch": "main", "recentCommits": 39}, {"name": "Agent Core", "stack": "Unified Agent Data Store", "status": "active", "class": "agent", "files": "18", "commits": "5", "lines": "1.3K", "linesRaw": 1289, "fileTypes": {"py": 4, "sh": 1, "md": 13}, "lastCommit": "2026-01-17", "branch": "main", "recentCommits": 0}, {"name": "Blackamethyst AI", "stack": "AI Profile System", "status": "active", "class": "ai", "files": "1", "commits": "12", "lines": "1", "linesRaw": 1, "fileTypes": {"md": 1}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}, {"name": "Dicoangelo", "stack": "GitHub Profile", "status": "active", "class": "profile", "files": "1", "commits": "12", "lines": "1", "linesRaw": 1, "fileTypes": {"md": 1}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}, {"name": "Meta-Vengine", "stack": "Meta Engine System", "status": "active", "class": "meta", "files": "592", "commits": "76", "lines": "48.0K", "linesRaw": 47994, "fileTypes": {"js": 12, "py": 138, "sh": 75, "json": 83, "md": 279, "html": 5}, "lastCommit": "2026-02-12", "branch": "main", "recentCommits": 3}, {"name": "Metaventions Landing", "stack": "AI Landing Page", "status": "active", "class": "landing", "files": "41", "commits": "30", "lines": "7.9K", "linesRaw": 7898, "fileTypes": {"ts": 4, "tsx": 25, "js": 2, "json": 5, "md": 1, "css": 2, "html": 2}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}, {"name": "The Decosystem", "stack": "Ecosystem Framework", "status": "active", "class": "ecosystem", "files": "5", "commits": "22", "lines": "1", "linesRaw": 1, "fileTypes": {"md": 5}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}, {"name": "CPB Core", "stack": "Career Precision Bridge Core", "status": "active", "class": "cpb", "files": "16", "commits": "9", "lines": "3.2K", "linesRaw": 3223, "fileTypes": {"ts": 8, "js": 3, "json": 3, "md": 2}, "lastCommit": "2026-01-29", "branch": "main", "recentCommits": 0}, {"name": "CPB Demo", "stack": "Career Precision Bridge Demo", "status": "active", "class": "cpb-demo", "files": "4", "commits": "0", "lines": "124", "linesRaw": 124, "fileTypes": {"js": 1, "json": 2, "md": 1}, "lastCommit": "", "branch": "", "recentCommits": 0}, {"name": "Career Coach MVP", "stack": "Career Coach Minimum Viable Product", "status": "active", "class": "career-mvp", "files": "106", "commits": "7", "lines": "4.3K", "linesRaw": 4251, "fileTypes": {"ts": 16, "tsx": 15, "js": 35, "json": 33, "md": 1, "css": 2, "html": 4}, "lastCommit": "2026-02-01", "branch": "main", "recentCommits": 0}, {"name": "Voice Nexus", "stack": "Voice Integration System", "status": "active", "class": "voice", "files": "16", "commits": "8", "lines": "2.4K", "linesRaw": 2391, "fileTypes": {"ts": 8, "js": 3, "json": 3, "md": 2}, "lastCommit": "2026-01-29", "branch": "main", "recentCommits": 0}, {"name": "Portfolio", "stack": "Next.js 16 + React 19 + Tailwind 4", "status": "active", "class": "portfolio", "files": "1120", "commits": "175", "lines": "1129.3K", "linesRaw": 1129315, "fileTypes": {"ts": 87, "tsx": 84, "js": 674, "py": 1, "sh": 10, "json": 181, "md": 70, "css": 4, "html": 9}, "lastCommit": "2026-02-11", "branch": "main", "recentCommits": 14}, {"name": "Clawdbot", "stack": "Python/TypeScript AI Assistant", "status": "active", "class": "clawdbot", "files": "5869", "commits": "9150", "lines": "809.5K", "linesRaw": 809491, "fileTypes": {"ts": 3318, "js": 1575, "py": 11, "sh": 48, "json": 114, "md": 785, "css": 13, "html": 5}, "lastCommit": "2026-02-09", "branch": "main", "recentCommits": 132}, {"name": "Sovereign Deck", "stack": "Presentation Deck", "status": "active", "class": "sovereign", "files": "4", "commits": "11", "lines": "1", "linesRaw": 1, "fileTypes": {"json": 3, "html": 1}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 3}, {"name": "Enterprise Deck", "stack": "Enterprise Presentation", "status": "active", "class": "enterprise", "files": "4", "commits": "16", "lines": "1", "linesRaw": 1, "fileTypes": {"json": 3, "html": 1}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 2}, {"name": "Career Dossier", "stack": "Career Management", "status": "active", "class": "dossier", "files": "2434", "commits": "17", "lines": "848.8K", "linesRaw": 848847, "fileTypes": {"js": 1, "py": 2395, "sh": 1, "md": 35, "css": 1, "html": 1}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}, {"name": "PageIndex", "stack": "Web Indexing", "status": "active", "class": "pageindex", "files": "3708", "commits": "234", "lines": "875.0K", "linesRaw": 875022, "fileTypes": {"js": 1, "py": 3100, "sh": 3, "json": 582, "md": 22}, "lastCommit": "2026-02-08", "branch": "main", "recentCommits": 1}];
    const PROACTIVE_DATA = {"hasContext": false, "message": "No active patterns detected", "suggestions": []};
    const COEVO_DATA = {"cacheEfficiency": 99.88, "dqScore": 0.665, "dominantPattern": "none", "modsApplied": 289, "autoApply": true, "minConfidence": 0.7, "patterns": [], "lastAnalysis": "2026-02-12T21:52:44.392284", "runtimePatterns": {"coding": 60, "debugging": 25, "research": 15}, "configWeights": {"usagePatterns": 0.3, "dqScores": 0.25, "cacheEfficiency": 0.2, "sessionDiversity": 0.15, "feedbackCorrelation": 0.1}, "configThresholds": {"significantPattern": 5, "effectivenessCheck": 10, "emergentDetection": 0.15}};
    const PATTERN_TRENDS_DATA = {"generated": "2026-02-12T20:18:01.207319", "total_sessions": 1648, "all_time": {"implementation": 758, "research": 408, "review": 110, "architecture": 168, "documentation": 33, "debugging": 28, "optimization": 17, "testing": 124, "deployment": 1, "learning": 1}, "daily": {"2026-01-09": {"implementation": 5, "research": 2, "documentation": 2, "review": 1}, "2026-01-10": {"implementation": 3, "documentation": 1}, "2026-01-11": {"implementation": 3, "research": 1}, "2026-01-12": {"architecture": 1, "implementation": 5, "documentation": 2, "research": 4}, "2026-01-13": {"implementation": 6, "research": 2, "review": 1, "architecture": 2, "testing": 1}, "2026-01-14": {"documentation": 10, "research": 12, "implementation": 12, "testing": 1}, "2026-01-15": {"implementation": 6, "architecture": 1, "review": 1, "research": 3}, "2026-01-16": {"implementation": 5, "architecture": 4, "review": 2, "research": 19}, "2026-01-17": {"research": 15, "implementation": 16, "review": 9, "architecture": 2}, "2026-01-18": {"implementation": 8, "documentation": 1, "architecture": 6, "optimization": 1, "research": 8, "review": 1}, "2026-01-19": {"architecture": 12, "review": 3, "implementation": 11, "research": 22, "documentation": 1}, "2026-01-20": {"architecture": 4, "review": 3, "implementation": 5, "documentation": 1, "research": 9}, "2026-01-21": {"implementation": 26, "architecture": 26, "research": 44, "review": 5, "debugging": 4, "learning": 1}, "2026-01-22": {"implementation": 22, "review": 6, "architecture": 4, "research": 14, "documentation": 2}, "2026-01-23": {"architecture": 17, "implementation": 10, "review": 6, "debugging": 4, "research": 10}, "2026-01-24": {"architecture": 17, "review": 5, "implementation": 9, "research": 8, "testing": 2}, "2026-01-25": {"implementation": 3, "research": 2, "architecture": 1}, "2026-01-26": {"implementation": 9, "architecture": 6, "review": 2, "research": 9}, "2026-01-27": {"implementation": 9, "architecture": 2, "review": 1, "research": 4}, "2026-01-28": {"architecture": 2, "implementation": 6, "review": 1, "research": 3}, "2026-01-29": {"implementation": 26, "architecture": 7, "documentation": 1, "review": 1, "research": 15}, "2026-01-30": {"implementation": 5, "research": 3}, "2026-01-31": {"implementation": 83, "research": 45, "debugging": 5, "architecture": 10, "review": 9, "testing": 4, "documentation": 1}, "2026-02-01": {"implementation": 165, "architecture": 5, "documentation": 5, "review": 9, "debugging": 5, "testing": 14, "research": 26, "optimization": 4}, "2026-02-02": {"research": 1, "implementation": 9, "debugging": 2}, "2026-02-03": {"implementation": 27, "documentation": 3, "architecture": 14, "review": 8, "research": 10, "debugging": 1, "optimization": 8, "testing": 1}, "2026-02-04": {"implementation": 23, "architecture": 3, "review": 4, "debugging": 2, "documentation": 2, "testing": 2, "research": 5}, "2026-02-05": {"implementation": 14, "research": 3, "architecture": 1, "review": 1}, "2026-02-06": {"review": 12, "implementation": 34, "research": 14, "architecture": 3, "deployment": 1}, "2026-02-07": {"implementation": 75, "review": 17, "debugging": 2, "architecture": 15, "research": 55, "testing": 5, "documentation": 1, "optimization": 3}, "2026-02-08": {"implementation": 19, "optimization": 1, "architecture": 2, "research": 10, "review": 2, "testing": 32}, "2026-02-09": {"testing": 28, "implementation": 9}, "2026-02-10": {"testing": 9, "implementation": 7, "architecture": 1}, "2026-02-11": {"testing": 19, "implementation": 12, "research": 17, "debugging": 3}, "2026-02-12": {"implementation": 71, "research": 13, "testing": 6}}, "weekly": {"2026-01-05": {"implementation": 11, "research": 3, "documentation": 3, "review": 1}, "2026-01-12": {"implementation": 58, "documentation": 13, "research": 63, "architecture": 16, "review": 14, "optimization": 1, "testing": 2}, "2026-01-19": {"implementation": 86, "review": 28, "architecture": 81, "research": 109, "documentation": 4, "debugging": 8, "testing": 2, "learning": 1}, "2026-01-26": {"implementation": 303, "research": 105, "architecture": 32, "documentation": 7, "debugging": 10, "review": 23, "testing": 18, "optimization": 4}, "2026-02-02": {"implementation": 201, "review": 44, "research": 98, "debugging": 7, "documentation": 6, "architecture": 38, "optimization": 12, "testing": 40, "deployment": 1}, "2026-02-09": {"testing": 62, "implementation": 99, "architecture": 1, "research": 30, "debugging": 3}}, "pattern_definitions": {"architecture": {"name": "Architecture Design", "icon": "\ud83c\udfd7\ufe0f"}, "research": {"name": "Research Session", "icon": "\ud83d\udcda"}, "debugging": {"name": "Debugging", "icon": "\ud83d\udc1b"}, "testing": {"name": "Testing", "icon": "\ud83e\uddea"}, "implementation": {"name": "Implementation", "icon": "\u2699\ufe0f"}, "deployment": {"name": "Deployment", "icon": "\ud83d\ude80"}, "documentation": {"name": "Documentation", "icon": "\ud83d\udcdd"}, "review": {"name": "Code Review", "icon": "\ud83d\udc40"}, "learning": {"name": "Learning", "icon": "\ud83c\udf93"}, "optimization": {"name": "Optimization", "icon": "\u26a1"}}, "percentages": {"implementation": 46.0, "research": 24.8, "review": 6.7, "architecture": 10.2, "documentation": 2.0, "debugging": 1.7, "optimization": 1.0, "testing": 7.5, "deployment": 0.1, "learning": 0.1}, "top_patterns": [{"id": "implementation", "count": 758, "percentage": 46.0}, {"id": "research", "count": 408, "percentage": 24.8}, {"id": "architecture", "count": 168, "percentage": 10.2}, {"id": "testing", "count": 124, "percentage": 7.5}, {"id": "review", "count": 110, "percentage": 6.7}, {"id": "documentation", "count": 33, "percentage": 2.0}, {"id": "debugging", "count": 28, "percentage": 1.7}, {"id": "optimization", "count": 17, "percentage": 1.0}, {"id": "deployment", "count": 1, "percentage": 0.1}, {"id": "learning", "count": 1, "percentage": 0.1}], "dailyList": [{"date": "2026-01-23", "architecture": 17, "implementation": 10, "review": 6, "debugging": 4, "research": 10}, {"date": "2026-01-24", "architecture": 17, "review": 5, "implementation": 9, "research": 8, "testing": 2}, {"date": "2026-01-25", "implementation": 3, "research": 2, "architecture": 1}, {"date": "2026-01-26", "implementation": 9, "architecture": 6, "review": 2, "research": 9}, {"date": "2026-01-27", "implementation": 9, "architecture": 2, "review": 1, "research": 4}, {"date": "2026-01-28", "architecture": 2, "implementation": 6, "review": 1, "research": 3}, {"date": "2026-01-29", "implementation": 26, "architecture": 7, "documentation": 1, "review": 1, "research": 15}, {"date": "2026-01-30", "implementation": 5, "research": 3}, {"date": "2026-01-31", "implementation": 83, "research": 45, "debugging": 5, "architecture": 10, "review": 9, "testing": 4, "documentation": 1}, {"date": "2026-02-01", "implementation": 165, "architecture": 5, "documentation": 5, "review": 9, "debugging": 5, "testing": 14, "research": 26, "optimization": 4}, {"date": "2026-02-02", "research": 1, "implementation": 9, "debugging": 2}, {"date": "2026-02-03", "implementation": 27, "documentation": 3, "architecture": 14, "review": 8, "research": 10, "debugging": 1, "optimization": 8, "testing": 1}, {"date": "2026-02-04", "implementation": 23, "architecture": 3, "review": 4, "debugging": 2, "documentation": 2, "testing": 2, "research": 5}, {"date": "2026-02-05", "implementation": 14, "research": 3, "architecture": 1, "review": 1}, {"date": "2026-02-06", "review": 12, "implementation": 34, "research": 14, "architecture": 3, "deployment": 1}, {"date": "2026-02-07", "implementation": 75, "review": 17, "debugging": 2, "architecture": 15, "research": 55, "testing": 5, "documentation": 1, "optimization": 3}, {"date": "2026-02-08", "implementation": 19, "optimization": 1, "architecture": 2, "research": 10, "review": 2, "testing": 32}, {"date": "2026-02-09", "testing": 28, "implementation": 9}, {"date": "2026-02-10", "testing": 9, "implementation": 7, "architecture": 1}, {"date": "2026-02-11", "testing": 19, "implementation": 12, "research": 17, "debugging": 3}, {"date": "2026-02-12", "implementation": 71, "research": 13, "testing": 6}]};
    const SUBSCRIPTION_DATA = {"rate": 200, "currency": "USD", "totalValue": 6972.31, "multiplier": 34.9, "savings": -12287.69, "utilization": "high", "costPerMsg": 0.027};
    const ROUTING_DATA = {"totalQueries": 1181, "avgDqScore": 0.663, "dataQuality": 0.66, "feedbackCount": 2781, "costReduction": 52.5, "routingLatency": 42, "modelDistribution": {"haiku": 0.514, "sonnet": 0.208, "opus": 0.268}, "modelCounts": {"haiku": 609, "opus": 318, "sonnet": 247, "local-fast": 4, "flash": 4, "local": 3}, "accuracy": 56.1, "targetQueries": 5000, "targetDataQuality": 0.8, "targetFeedback": 1000, "targetAccuracy": 60, "productionReady": true, "dailyTrend": [{"date": "2026-01-21", "queries": 791, "avgDq": 0.615, "avgComplexity": 0.44, "haiku": 377, "sonnet": 195, "opus": 208}, {"date": "2026-01-22", "queries": 73, "avgDq": 0.687, "avgComplexity": 0.54, "haiku": 28, "sonnet": 7, "opus": 38}, {"date": "2026-01-23", "queries": 189, "avgDq": 0.759, "avgComplexity": 0.68, "haiku": 118, "sonnet": 20, "opus": 51}, {"date": "2026-01-24", "queries": 53, "avgDq": 0.78, "avgComplexity": 0.667, "haiku": 28, "sonnet": 14, "opus": 11}, {"date": "2026-01-25", "queries": 9, "avgDq": 0.779, "avgComplexity": 0.617, "haiku": 3, "sonnet": 5, "opus": 1}, {"date": "2026-01-26", "queries": 24, "avgDq": 0.605, "avgComplexity": 0.545, "haiku": 9, "sonnet": 6, "opus": 9}, {"date": "2026-01-27", "queries": 1, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 1, "sonnet": 0, "opus": 0}, {"date": "2026-01-28", "queries": 1, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 1, "sonnet": 0, "opus": 0}, {"date": "2026-01-31", "queries": 2, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 2, "sonnet": 0, "opus": 0}, {"date": "2026-02-01", "queries": 5, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 5, "sonnet": 0, "opus": 0}, {"date": "2026-02-06", "queries": 2, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 2, "sonnet": 0, "opus": 0}, {"date": "2026-02-07", "queries": 6, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 6, "sonnet": 0, "opus": 0}, {"date": "2026-02-08", "queries": 12, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 12, "sonnet": 0, "opus": 0}, {"date": "2026-02-11", "queries": 17, "avgDq": 0.87, "avgComplexity": 0.8, "haiku": 17, "sonnet": 0, "opus": 0}], "modelSuccessRates": {"haiku": {"success_rate": 82.6, "total": 705}, "opus": {"success_rate": 47.7, "total": 1698}, "sonnet": {"success_rate": 44.7, "total": 378}}, "routingDecisions": 1181, "latencyMeasured": false, "dqComponents": {"validity": 0.727, "specificity": 0.739, "correctness": 0.623}, "complexityByModel": [{"model": "local-fast", "min": 0.096, "avg": 0.106, "max": 0.112, "count": 4}, {"model": "local", "min": 0.11, "avg": 0.15, "max": 0.23, "count": 3}, {"model": "flash", "min": 0.29, "avg": 0.29, "max": 0.29, "count": 4}, {"model": "haiku", "min": 0.0, "avg": 0.384, "max": 1.0, "count": 609}, {"model": "sonnet", "min": 0.0, "avg": 0.532, "max": 1.0, "count": 247}, {"model": "opus", "min": 0.233, "avg": 0.752, "max": 1.0, "count": 318}], "expertiseDomains": [{"domain": "general", "count": 512, "avgExpertise": 0.527, "avgComplexity": 0.233, "primaryModel": "haiku"}, {"domain": "architecture", "count": 274, "avgExpertise": 0.849, "avgComplexity": 0.77, "primaryModel": "opus"}, {"domain": "implementation", "count": 214, "avgExpertise": 0.676, "avgComplexity": 0.553, "primaryModel": "sonnet"}]};
    const OBSERVATORY_DATA = {"period_days": 30, "generated_at": "2026-02-12T21:54:03.402627", "metrics": {"sessions": {"total": 2115, "total_sessions": 2115, "success_rate": 0.7673758865248227, "avg_quality": 2.26, "avg_complexity": 0.3, "avg_duration_min": 60.3, "last_quality": 1, "outcomes": {"partial": 205, "success": 1623, "abandoned": 285, "research": 2}}, "costs": {"total_cost": 4783.37, "sessions_tracked": 1460, "avg_per_session": 3.2763, "monthly_projected": 4783.37, "budget_utilization": 79.7}, "commands": {"total_commands": 619, "unique_commands": 68, "top_commands": {"co": 375, "cc": 68, "git": 26, "cq": 17, "ccc": 15, "npm": 9, "CO": 8, "bash": 6, "": 6, "curl": 6}, "commands_per_day": 20.6}, "tools": {"total_operations": 94267, "total_commands": 94267, "success_rate": 0.992, "overall_success": 0.992, "bash_success": 0.99, "test_success": 0, "failure_rate": 0.008}, "git": {"commits": 79, "avg_commits_per_day": 2.63}, "productivity": {"reads": 1986, "writes": 33767, "read_write_ratio": {"reads": 1986, "writes": 33767}, "files_modified": 1151, "lines_changed": 28775, "loc_per_day": 959.2, "productivity_score": 17.003}, "routing": {"total_queries": 2694, "avg_dq_score": 0.664, "model_distribution": {"unknown": 2694}}, "progressive_disclosure": {"total_queries": 6, "layer_usage": {"layer1": 2, "layer2": 2, "layer3": 2}, "escalations": 3, "auto_disclosure_count": 2, "avg_savings_pct": 75.2, "total_tokens_saved": 4895}}, "insights": ["\u2139\ufe0f  Quality 2.3/5 reflects mix of quick queries and coding sessions.", "\ud83d\udca1 You're using Opus frequently. DQ routing could reduce costs.", "\u2728 Excellent token efficiency! Saving 75% vs naive approach."]};
    const SESSION_OUTCOMES_DATA = {"sessions": [{"session_id": "agent-acompact-ac6a2c", "date": "2026-02-13", "messages": 3, "tools": 0, "outcome": "abandoned", "quality": 1.03, "complexity": 0.1, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 3}}, {"session_id": "agent-acompact-ac6a2c", "date": "2026-02-13", "messages": 3, "tools": 0, "outcome": "abandoned", "quality": 1.0, "complexity": 0.5, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 3}}, {"session_id": "9a625dcd-6283-467b-a170-7e8d65ddfd75", "date": "2026-02-12", "messages": 1970, "tools": 868, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 1970}}, {"session_id": "7927f1ab-533e-4849-bfac-cce548b4d0a4", "date": "2026-02-12", "messages": 126, "tools": 43, "outcome": "success", "quality": 3.1199999999999997, "complexity": 0.43, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 126}}, {"session_id": "be1e4a1e-7376-4bd4-8e35-73b3e559cf1c", "date": "2026-02-12", "messages": 85, "tools": 29, "outcome": "success", "quality": 2.43, "complexity": 0.29, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 85}}, {"session_id": "f5c531fa-3e31-4987-9f17-1732128721a1", "date": "2026-02-12", "messages": 178, "tools": 72, "outcome": "success", "quality": 4.220000000000001, "complexity": 0.72, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 178}}, {"session_id": "7c040432-1b12-4473-a2b5-9f6c161c900a", "date": "2026-02-12", "messages": 83, "tools": 34, "outcome": "success", "quality": 2.5100000000000002, "complexity": 0.34, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 83}}, {"session_id": "92908fd5-70d8-424d-922a-32e895a207c7", "date": "2026-02-12", "messages": 60, "tools": 25, "outcome": "success", "quality": 2.1, "complexity": 0.25, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 60}}, {"session_id": "824b7227-d143-4fa6-a552-9cb4ca7750e1", "date": "2026-02-12", "messages": 86, "tools": 35, "outcome": "success", "quality": 2.5599999999999996, "complexity": 0.35, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 86}}, {"session_id": "36ead4b7-ea6b-4fbb-8051-52d1790770a6", "date": "2026-02-12", "messages": 65, "tools": 26, "outcome": "success", "quality": 2.17, "complexity": 0.26, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 65}}, {"session_id": "9fd9539d-91dd-4a0b-92af-d100b0f61daf", "date": "2026-02-12", "messages": 71, "tools": 28, "outcome": "success", "quality": 2.27, "complexity": 0.28, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 71}}, {"session_id": "fd848fe3-f16d-4191-8320-bedbee8c00c8", "date": "2026-02-12", "messages": 75, "tools": 31, "outcome": "success", "quality": 2.37, "complexity": 0.31, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 75}}, {"session_id": "578c13e8-6b0a-4483-b621-01d39ddc474b", "date": "2026-02-12", "messages": 148, "tools": 59, "outcome": "success", "quality": 3.66, "complexity": 0.59, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 148}}, {"session_id": "b004753d-a841-4d42-9bd7-adf3d96df5cd", "date": "2026-02-12", "messages": 119, "tools": 47, "outcome": "success", "quality": 3.13, "complexity": 0.47, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 119}}, {"session_id": "2cb74c36-d9af-4489-8f32-64bd37617b1f", "date": "2026-02-12", "messages": 72, "tools": 28, "outcome": "success", "quality": 2.2800000000000002, "complexity": 0.28, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 72}}, {"session_id": "9f0f027c-5daa-4021-8192-0764ed711f1a", "date": "2026-02-12", "messages": 73, "tools": 29, "outcome": "success", "quality": 2.31, "complexity": 0.29, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 73}}, {"session_id": "a683bfba-4045-4b7e-88ea-ca586c4ba656", "date": "2026-02-12", "messages": 152, "tools": 60, "outcome": "success", "quality": 3.7199999999999998, "complexity": 0.6, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 152}}, {"session_id": "34bdf936-2a74-4e22-966a-ea2d10e6b3fa", "date": "2026-02-12", "messages": 108, "tools": 43, "outcome": "success", "quality": 2.94, "complexity": 0.43, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 108}}, {"session_id": "3636a40a-a1a5-4812-8b6f-e5005326a66d", "date": "2026-02-12", "messages": 177, "tools": 69, "outcome": "success", "quality": 4.15, "complexity": 0.69, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 177}}, {"session_id": "02cb5b49-e61f-4bf3-9ee3-961b03f04b67", "date": "2026-02-12", "messages": 90, "tools": 35, "outcome": "success", "quality": 2.5999999999999996, "complexity": 0.35, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 90}}, {"session_id": "a8e302c5-32b1-4ed0-8d2c-0acd4d7ccd72", "date": "2026-02-12", "messages": 193, "tools": 79, "outcome": "success", "quality": 4.51, "complexity": 0.79, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 193}}, {"session_id": "2aa722d2-4637-488e-9550-f588af31c085", "date": "2026-02-12", "messages": 285, "tools": 111, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 285}}, {"session_id": "c457733c-c0f5-412c-b25d-2217acf0ddc3", "date": "2026-02-12", "messages": 72, "tools": 28, "outcome": "success", "quality": 2.2800000000000002, "complexity": 0.28, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 72}}, {"session_id": "263d34c5-df00-489f-ab26-6104cf001ccb", "date": "2026-02-12", "messages": 86, "tools": 33, "outcome": "success", "quality": 2.52, "complexity": 0.33, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 86}}, {"session_id": "80bd6a37-9100-48e3-bb7b-e38cebe4e9d9", "date": "2026-02-12", "messages": 81, "tools": 33, "outcome": "success", "quality": 2.47, "complexity": 0.33, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 81}}, {"session_id": "49ba74e4-4375-4209-9550-c18a05fcb13f", "date": "2026-02-12", "messages": 123, "tools": 47, "outcome": "success", "quality": 3.17, "complexity": 0.47, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 123}}, {"session_id": "abd2308c-e705-4b63-b83c-d250ccb934b8", "date": "2026-02-12", "messages": 92, "tools": 38, "outcome": "success", "quality": 2.6799999999999997, "complexity": 0.38, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 92}}, {"session_id": "76e07429-6c3d-4bc4-b5fd-9670a4d9ddd5", "date": "2026-02-12", "messages": 88, "tools": 36, "outcome": "success", "quality": 2.5999999999999996, "complexity": 0.36, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 88}}, {"session_id": "a14f32eb-eac4-451a-b909-2b72d3b61e42", "date": "2026-02-12", "messages": 62, "tools": 25, "outcome": "success", "quality": 2.12, "complexity": 0.25, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 62}}, {"session_id": "75d696c1-a4ca-4fa4-98c9-da498b25bb33", "date": "2026-02-12", "messages": 112, "tools": 43, "outcome": "success", "quality": 2.98, "complexity": 0.43, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 112}}, {"session_id": "3fbff21a-8025-4c52-8dd8-ebb2dab8896d", "date": "2026-02-12", "messages": 84, "tools": 33, "outcome": "success", "quality": 2.5, "complexity": 0.33, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 84}}, {"session_id": "6fc60a39-2069-451a-866f-6b0651d44c21", "date": "2026-02-12", "messages": 97, "tools": 39, "outcome": "success", "quality": 2.75, "complexity": 0.39, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 97}}, {"session_id": "ea5c50df-9d97-4ce1-ba92-251c4a2b8b96", "date": "2026-02-12", "messages": 78, "tools": 33, "outcome": "success", "quality": 2.44, "complexity": 0.33, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 78}}, {"session_id": "f6a68190-bc9f-4a87-8233-77220dd474e1", "date": "2026-02-12", "messages": 485, "tools": 208, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 485}}, {"session_id": "4998a619-7106-49dd-adce-a46e1dc34ea7", "date": "2026-02-12", "messages": 166, "tools": 66, "outcome": "success", "quality": 3.9800000000000004, "complexity": 0.66, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 166}}, {"session_id": "agent-acompact-4968a0", "date": "2026-02-12", "messages": 2, "tools": 0, "outcome": "abandoned", "quality": 1.02, "complexity": 0.1, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 2}}, {"session_id": "28e4477e-7685-435d-8c56-2c76f01ea3f8", "date": "2026-02-12", "messages": 318, "tools": 111, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 318}}, {"session_id": "1381b4a7-4c72-4d84-9270-23ba66143755", "date": "2026-02-12", "messages": 24, "tools": 6, "outcome": "success", "quality": 1.3599999999999999, "complexity": 0.06, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 24}}, {"session_id": "fb36f916-6025-4194-b847-39c2ae6de2c8", "date": "2026-02-12", "messages": 109, "tools": 45, "outcome": "success", "quality": 2.9899999999999998, "complexity": 0.45, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 109}}, {"session_id": "45270a55-75b8-444e-8eb7-249c8484cd17", "date": "2026-02-12", "messages": 108, "tools": 42, "outcome": "success", "quality": 2.92, "complexity": 0.42, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 108}}, {"session_id": "0b98bb08-605e-43d2-99e7-640a1a5ce83f", "date": "2026-02-12", "messages": 92, "tools": 35, "outcome": "success", "quality": 2.62, "complexity": 0.35, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 92}}, {"session_id": "7363959f-00d2-4936-a333-ebfecf7e2830", "date": "2026-02-12", "messages": 127, "tools": 50, "outcome": "success", "quality": 3.27, "complexity": 0.5, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 127}}, {"session_id": "agent-acompact-074a5c", "date": "2026-02-12", "messages": 2, "tools": 0, "outcome": "abandoned", "quality": 1.02, "complexity": 0.1, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 2}}, {"session_id": "81f5e9f2-4f17-4110-84b3-de816d635aab", "date": "2026-02-12", "messages": 369, "tools": 162, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 369}}, {"session_id": "bc405b77-8c03-4122-8deb-41f847e019ab", "date": "2026-02-12", "messages": 365, "tools": 162, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 365}}, {"session_id": "agent-acompact-1de6a6", "date": "2026-02-12", "messages": 3, "tools": 0, "outcome": "abandoned", "quality": 1.03, "complexity": 0.1, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 3}}, {"session_id": "0481fb37-f959-40d0-ab1b-388e5ccb6db4", "date": "2026-02-12", "messages": 201, "tools": 77, "outcome": "success", "quality": 4.55, "complexity": 0.77, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 201}}, {"session_id": "9ec81ad8-9d04-4d3a-adeb-df0fc1436c27", "date": "2026-02-12", "messages": 296, "tools": 99, "outcome": "success", "quality": 5.0, "complexity": 0.99, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 296}}, {"session_id": "da014ab8-8fce-4d39-b7e7-89df77acbfcb", "date": "2026-02-12", "messages": 242, "tools": 96, "outcome": "success", "quality": 5.0, "complexity": 0.96, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 242}}, {"session_id": "219e65c7-c400-4f28-be56-1b0b148a68e6", "date": "2026-02-12", "messages": 292, "tools": 118, "outcome": "success", "quality": 5.0, "complexity": 1.0, "model_efficiency": 0.8, "model": "opus", "models_used": {"opus": 292}}], "totals": {"total": 2771, "success": 1542, "abandoned": 995, "partial": 212, "error": 0, "other": 22, "avgMessages": 92.7, "totalMessages": 256738, "totalTools": 86946, "empty": 15, "marathon": 494}, "qualityDist": {"1": 1320, "2": 813, "3": 337, "4": 68, "5": 277}, "modelOutcomes": {"haiku": {"success": 466, "abandoned": 23, "partial": 68, "total": 557, "successRate": 83.7}, "opus": {"success": 677, "abandoned": 701, "partial": 73, "total": 1451, "successRate": 46.7}, "sonnet": {"success": 399, "abandoned": 271, "partial": 71, "total": 763, "successRate": 52.3}}, "sizeDist": {"empty": 15, "large": 662, "marathon": 494, "medium": 401, "small": 178, "tiny": 1021}, "daily": [{"date": "2026-01-05", "sessions": 8, "success": 0, "abandoned": 8, "messages": 8, "avgQuality": 1.0, "opus": 0, "sonnet": 8, "haiku": 0}, {"date": "2026-01-06", "sessions": 16, "success": 0, "abandoned": 16, "messages": 32, "avgQuality": 1.0, "opus": 0, "sonnet": 16, "haiku": 0}, {"date": "2026-01-09", "sessions": 47, "success": 2, "abandoned": 25, "messages": 5249, "avgQuality": 2.02, "opus": 0, "sonnet": 47, "haiku": 0}, {"date": "2026-01-10", "sessions": 23, "success": 0, "abandoned": 15, "messages": 1000, "avgQuality": 1.4, "opus": 0, "sonnet": 23, "haiku": 0}, {"date": "2026-01-11", "sessions": 19, "success": 1, "abandoned": 12, "messages": 670, "avgQuality": 1.53, "opus": 0, "sonnet": 19, "haiku": 0}, {"date": "2026-01-12", "sessions": 39, "success": 6, "abandoned": 21, "messages": 3171, "avgQuality": 1.91, "opus": 0, "sonnet": 39, "haiku": 0}, {"date": "2026-01-13", "sessions": 18, "success": 12, "abandoned": 4, "messages": 4407, "avgQuality": 3.02, "opus": 0, "sonnet": 18, "haiku": 0}, {"date": "2026-01-14", "sessions": 39, "success": 29, "abandoned": 4, "messages": 5176, "avgQuality": 2.12, "opus": 0, "sonnet": 39, "haiku": 0}, {"date": "2026-01-15", "sessions": 18, "success": 10, "abandoned": 6, "messages": 3084, "avgQuality": 2.41, "opus": 0, "sonnet": 18, "haiku": 0}, {"date": "2026-01-16", "sessions": 33, "success": 29, "abandoned": 3, "messages": 3291, "avgQuality": 2.28, "opus": 0, "sonnet": 33, "haiku": 0}, {"date": "2026-01-17", "sessions": 48, "success": 42, "abandoned": 5, "messages": 6283, "avgQuality": 2.41, "opus": 0, "sonnet": 48, "haiku": 0}, {"date": "2026-01-18", "sessions": 30, "success": 24, "abandoned": 5, "messages": 7316, "avgQuality": 2.58, "opus": 0, "sonnet": 30, "haiku": 0}, {"date": "2026-01-19", "sessions": 59, "success": 46, "abandoned": 8, "messages": 12531, "avgQuality": 2.5, "opus": 0, "sonnet": 59, "haiku": 0}, {"date": "2026-01-20", "sessions": 24, "success": 20, "abandoned": 2, "messages": 4401, "avgQuality": 2.5, "opus": 0, "sonnet": 24, "haiku": 0}, {"date": "2026-01-21", "sessions": 109, "success": 89, "abandoned": 1, "messages": 14306, "avgQuality": 2.38, "opus": 24, "sonnet": 34, "haiku": 51}, {"date": "2026-01-22", "sessions": 51, "success": 41, "abandoned": 3, "messages": 7245, "avgQuality": 2.35, "opus": 27, "sonnet": 4, "haiku": 20}, {"date": "2026-01-23", "sessions": 49, "success": 44, "abandoned": 1, "messages": 11396, "avgQuality": 2.7, "opus": 22, "sonnet": 0, "haiku": 27}, {"date": "2026-01-24", "sessions": 45, "success": 40, "abandoned": 3, "messages": 6024, "avgQuality": 2.52, "opus": 11, "sonnet": 14, "haiku": 20}, {"date": "2026-01-25", "sessions": 7, "success": 6, "abandoned": 1, "messages": 378, "avgQuality": 1.94, "opus": 2, "sonnet": 5, "haiku": 0}, {"date": "2026-01-26", "sessions": 26, "success": 26, "abandoned": 0, "messages": 10606, "avgQuality": 3.1, "opus": 4, "sonnet": 8, "haiku": 14}, {"date": "2026-01-27", "sessions": 18, "success": 15, "abandoned": 0, "messages": 2290, "avgQuality": 2.22, "opus": 5, "sonnet": 5, "haiku": 8}, {"date": "2026-01-28", "sessions": 12, "success": 12, "abandoned": 0, "messages": 2086, "avgQuality": 2.62, "opus": 3, "sonnet": 4, "haiku": 5}, {"date": "2026-01-29", "sessions": 210, "success": 34, "abandoned": 161, "messages": 6852, "avgQuality": 1.29, "opus": 177, "sonnet": 15, "haiku": 18}, {"date": "2026-01-30", "sessions": 45, "success": 8, "abandoned": 36, "messages": 2190, "avgQuality": 1.38, "opus": 34, "sonnet": 8, "haiku": 3}, {"date": "2026-01-31", "sessions": 348, "success": 132, "abandoned": 203, "messages": 16429, "avgQuality": 1.54, "opus": 229, "sonnet": 48, "haiku": 71}, {"date": "2026-02-01", "sessions": 392, "success": 190, "abandoned": 178, "messages": 28803, "avgQuality": 1.86, "opus": 286, "sonnet": 40, "haiku": 66}, {"date": "2026-02-02", "sessions": 67, "success": 7, "abandoned": 59, "messages": 1466, "avgQuality": 1.27, "opus": 33, "sonnet": 28, "haiku": 6}, {"date": "2026-02-03", "sessions": 167, "success": 56, "abandoned": 100, "messages": 7902, "avgQuality": 1.53, "opus": 63, "sonnet": 84, "haiku": 20}, {"date": "2026-02-04", "sessions": 45, "success": 27, "abandoned": 17, "messages": 7099, "avgQuality": 2.25, "opus": 38, "sonnet": 2, "haiku": 5}, {"date": "2026-02-05", "sessions": 20, "success": 15, "abandoned": 4, "messages": 3437, "avgQuality": 2.83, "opus": 14, "sonnet": 3, "haiku": 3}, {"date": "2026-02-06", "sessions": 75, "success": 53, "abandoned": 10, "messages": 6382, "avgQuality": 2.28, "opus": 56, "sonnet": 7, "haiku": 12}, {"date": "2026-02-07", "sessions": 185, "success": 143, "abandoned": 29, "messages": 17098, "avgQuality": 2.34, "opus": 107, "sonnet": 18, "haiku": 60}, {"date": "2026-02-08", "sessions": 110, "success": 87, "abandoned": 14, "messages": 10758, "avgQuality": 2.37, "opus": 68, "sonnet": 4, "haiku": 38}, {"date": "2026-02-09", "sessions": 206, "success": 153, "abandoned": 17, "messages": 18108, "avgQuality": 2.34, "opus": 131, "sonnet": 13, "haiku": 62}, {"date": "2026-02-10", "sessions": 68, "success": 48, "abandoned": 19, "messages": 6046, "avgQuality": 2.28, "opus": 43, "sonnet": 5, "haiku": 20}, {"date": "2026-02-11", "sessions": 71, "success": 42, "abandoned": 12, "messages": 6734, "avgQuality": 2.03, "opus": 18, "sonnet": 25, "haiku": 28}, {"date": "2026-02-12", "sessions": 57, "success": 53, "abandoned": 4, "messages": 11177, "avgQuality": 3.11, "opus": 55, "sonnet": 2, "haiku": 0}, {"date": "2026-02-13", "sessions": 2, "success": 0, "abandoned": 2, "messages": 6, "avgQuality": 1.02, "opus": 2, "sonnet": 0, "haiku": 0}]};
    const PACK_DATA = {"status": "active", "generated": "2026-02-12T21:54:02.892986", "global": {"total_sessions": 2664, "total_token_savings": 6999702, "total_cost_savings": 3553.32, "avg_reduction_rate": 99.99574285714286, "cache_hit_rate": 0.9345, "total_packs": 8, "total_tokens": 3700, "recent_sessions": 1}, "top_packs": [{"name": "multi-agent-orchestration", "times_selected": 1, "total_tokens_loaded": 298, "avg_dq_score": 0.85, "avg_consensus_score": 0.88, "combined_with": ["agentic-memory", "llm-optimization"]}, {"name": "agentic-memory", "times_selected": 1, "total_tokens_loaded": 298, "avg_dq_score": 0.85, "avg_consensus_score": 0.88, "combined_with": ["multi-agent-orchestration", "llm-optimization"]}, {"name": "llm-optimization", "times_selected": 1, "total_tokens_loaded": 298, "avg_dq_score": 0.85, "avg_consensus_score": 0.88, "combined_with": ["multi-agent-orchestration", "agentic-memory"]}], "daily_trend": [{"date": "2026-01-09", "sessions": 29, "messages": 203, "token_savings": 304500, "cost_savings": 0.95}, {"date": "2026-01-10", "sessions": 15, "messages": 30, "token_savings": 45000, "cost_savings": 0.29}, {"date": "2026-01-11", "sessions": 13, "messages": 82, "token_savings": 123000, "cost_savings": 0.36}, {"date": "2026-01-12", "sessions": 26, "messages": 384, "token_savings": 576000, "cost_savings": 1.19}, {"date": "2026-01-13", "sessions": 8, "messages": 443, "token_savings": 664500, "cost_savings": 1.05}, {"date": "2026-01-14", "sessions": 39, "messages": 5176, "token_savings": 7764000, "cost_savings": 72.73}, {"date": "2026-01-15", "sessions": 18, "messages": 3084, "token_savings": 4626000, "cost_savings": 54.2}, {"date": "2026-01-16", "sessions": 33, "messages": 3291, "token_savings": 4936500, "cost_savings": 35.38}, {"date": "2026-01-17", "sessions": 48, "messages": 6283, "token_savings": 9424500, "cost_savings": 98.59}, {"date": "2026-01-18", "sessions": 30, "messages": 7316, "token_savings": 10974000, "cost_savings": 97.82}, {"date": "2026-01-19", "sessions": 59, "messages": 12531, "token_savings": 18796500, "cost_savings": 190.23}, {"date": "2026-01-20", "sessions": 24, "messages": 4401, "token_savings": 6601500, "cost_savings": 69.35}, {"date": "2026-01-21", "sessions": 109, "messages": 14306, "token_savings": 21459000, "cost_savings": 207.17}, {"date": "2026-01-22", "sessions": 51, "messages": 7245, "token_savings": 10867500, "cost_savings": 113.82}, {"date": "2026-01-23", "sessions": 49, "messages": 11396, "token_savings": 17094000, "cost_savings": 171.49}, {"date": "2026-01-24", "sessions": 45, "messages": 6024, "token_savings": 9036000, "cost_savings": 75.66}, {"date": "2026-01-25", "sessions": 7, "messages": 378, "token_savings": 567000, "cost_savings": 3.6}, {"date": "2026-01-26", "sessions": 26, "messages": 10606, "token_savings": 15909000, "cost_savings": 150.88}, {"date": "2026-01-27", "sessions": 18, "messages": 2290, "token_savings": 3435000, "cost_savings": 22.26}, {"date": "2026-01-28", "sessions": 12, "messages": 2086, "token_savings": 3129000, "cost_savings": 22.57}, {"date": "2026-01-29", "sessions": 210, "messages": 6852, "token_savings": 10278000, "cost_savings": 103.77}, {"date": "2026-01-30", "sessions": 45, "messages": 2190, "token_savings": 3285000, "cost_savings": 26.22}, {"date": "2026-01-31", "sessions": 348, "messages": 16429, "token_savings": 24643500, "cost_savings": 202.85}, {"date": "2026-02-01", "sessions": 392, "messages": 28803, "token_savings": 43204500, "cost_savings": 398.85}, {"date": "2026-02-02", "sessions": 67, "messages": 1466, "token_savings": 2199000, "cost_savings": 20.75}, {"date": "2026-02-03", "sessions": 168, "messages": 7903, "token_savings": 11854500, "cost_savings": 98.57}, {"date": "2026-02-04", "sessions": 45, "messages": 7099, "token_savings": 10648500, "cost_savings": 115.67}, {"date": "2026-02-05", "sessions": 20, "messages": 3437, "token_savings": 5155500, "cost_savings": 52.88}, {"date": "2026-02-06", "sessions": 75, "messages": 6382, "token_savings": 9573000, "cost_savings": 87.8}, {"date": "2026-02-07", "sessions": 185, "messages": 17098, "token_savings": 25647000, "cost_savings": 223.14}, {"date": "2026-02-08", "sessions": 110, "messages": 10758, "token_savings": 16137000, "cost_savings": 141.57}, {"date": "2026-02-09", "sessions": 207, "messages": 18143, "token_savings": 27214500, "cost_savings": 239.05}, {"date": "2026-02-10", "sessions": 68, "messages": 6046, "token_savings": 9069000, "cost_savings": 79.19}, {"date": "2026-02-11", "sessions": 74, "messages": 7073, "token_savings": 10609500, "cost_savings": 94.41}, {"date": "2026-02-12", "sessions": 197, "messages": 20965, "token_savings": 31447500, "cost_savings": 278.7}, {"date": "2026-02-13", "sessions": 6, "messages": 22, "token_savings": 33000, "cost_savings": 0.3}], "pack_inventory": [{"name": "multi-agent-orchestration", "type": "domain", "tokens": 480, "version": "2.0.0", "created": "2026-01-18T16:53:19.114831Z", "file": "domain/multi-agent-orchestration.pack.json", "times_used": 1, "last_used": "test-session-001", "avg_dq_score": 0.85}, {"name": "agentic-memory", "type": "domain", "tokens": 500, "version": "2.0.0", "created": "2026-01-18T16:53:19.539131Z", "file": "domain/agentic-memory.pack.json", "times_used": 1, "last_used": "test-session-001", "avg_dq_score": 0.85}, {"name": "llm-optimization", "type": "domain", "tokens": 500, "version": "2.0.0", "created": "2026-01-18T16:53:19.950798Z", "file": "domain/llm-optimization.pack.json", "times_used": 1, "last_used": "test-session-001", "avg_dq_score": 0.85}, {"name": "os-app-architecture", "type": "project", "tokens": 450, "version": "2.0.0", "created": "2026-01-18T16:53:28.069351Z", "file": "project/os-app-architecture.pack.json", "times_used": 0, "last_used": "", "avg_dq_score": 0}, {"name": "debugging-patterns", "type": "pattern", "tokens": 420, "version": "2.0.0", "created": "2026-01-18T16:53:28.491306Z", "file": "pattern/debugging-patterns.pack.json", "times_used": 0, "last_used": "", "avg_dq_score": 0}, {"name": "career-coaching", "type": "domain", "tokens": 450, "version": "2.0.0", "created": "2026-01-19T14:00:00Z", "file": "domain/career-coaching.pack.json", "times_used": 0, "last_used": "", "avg_dq_score": 0}, {"name": "session-analysis", "type": "domain", "tokens": 450, "version": "2.0.0", "created": "2026-01-19T14:00:00Z", "file": "domain/session-analysis.pack.json", "times_used": 0, "last_used": "", "avg_dq_score": 0}, {"name": "research-workflow", "type": "domain", "tokens": 450, "version": "2.0.0", "created": "2026-01-19T14:00:00Z", "file": "domain/research-workflow.pack.json", "times_used": 0, "last_used": "", "avg_dq_score": 0}]};
    const SESSION_WINDOW_DATA = {"window": {"id": "window-2026-02-13-1700", "startedAt": "2026-02-12T22:00:00.000Z", "estimatedEndAt": "2026-02-13T12:00:00.000Z", "positionPercent": 31, "remainingMinutes": 580, "confidence": 0.7}, "budget": {"windowCapacity": 10000000, "used": {"opus": 0, "sonnet": 0, "haiku": 0}, "allocated": {"opus": 5000000, "sonnet": 3000000, "haiku": 1000000, "reserve": 1000000}, "utilizationPercent": 0, "recommendedModel": "opus"}, "capacity": {"tier": "COMFORTABLE", "remaining": {"opus": 50, "sonnet": 200, "haiku": 1000}, "projectedWindowEnd": 10000000, "switchThresholds": {"downgradeAt": 0.85, "upgradeAt": 0.3}}, "queue": {"pending": 0}, "recommendations": ["Session healthy - proceed normally"]};
    const FILE_ACTIVITY_DATA = [{"file": "coherence_engine/daemon.py", "project": "ResearchGravity", "count": 9}, {"file": "coherence_engine/__main__.py", "project": "ResearchGravity", "count": 8}, {"file": "app/components/sections/JobsSection.tsx", "project": "CareerCoach", "count": 7}, {"file": "public/codebase_graph.json", "project": "OS-App", "count": 6}, {"file": "components/voice/VoiceManager/index.tsx", "project": "OS-App", "count": 6}, {"file": "types/domain/slices.ts", "project": "OS-App", "count": 5}, {"file": "app/components/job-tracker/ApplicationQueueModal.tsx", "project": "CareerCoach", "count": 5}, {"file": "lib/ai/tools/tools.test.ts", "project": "CareerCoach", "count": 5}, {"file": "services/selfEvolution.ts", "project": "OS-App", "count": 4}, {"file": "services/capabilities/index.ts", "project": "OS-App", "count": 4}, {"file": "services/capabilities/registry.ts", "project": "OS-App", "count": 4}, {"file": "services/organisms/GenomeLayer.ts", "project": "OS-App", "count": 4}, {"file": "services/DynamicToolRegistry.ts", "project": "OS-App", "count": 4}, {"file": "services/unifiedActionRegistry.ts", "project": "OS-App", "count": 4}, {"file": "app/components/Providers.tsx", "project": "CareerCoach", "count": 4}];
    const PRICING_DATA = {"_meta": {"version": "2026-02", "updated": "2026-02-05", "source": "https://docs.anthropic.com/en/docs/about-claude/models/all-models", "notes": "Opus 4.6 released Feb 5 2026. 1M context, agent teams, adaptive thinking. All prices per million tokens."}, "models": {"opus": {"id": "claude-opus-4-6", "display": "Opus 4.6", "input": 5.0, "output": 25.0, "cache_read": 0.5, "cache_write": 6.25, "context_window": 1000000, "supports_thinking_levels": true, "thinking_levels": ["low", "medium", "high", "max"], "features": ["agent_teams", "adaptive_thinking", "1m_context"]}, "sonnet": {"id": "claude-sonnet-4-20250514", "display": "Sonnet 4", "input": 3.0, "output": 15.0, "cache_read": 0.3, "cache_write": 3.75}, "haiku": {"id": "claude-haiku-3-5-20241022", "display": "Haiku 3.5", "input": 0.8, "output": 4.0, "cache_read": 0.08, "cache_write": 1.0}}, "estimates": {"_notes": "Average cost per message assuming ~1.5K input + ~0.8K output tokens", "opus": 0.027, "sonnet": 0.017, "haiku": 0.004}, "subscription": {"plan": "Max 20x", "monthly_rate": 280, "currency": "CAD"}};
    const SUPERMEMORY_DATA = {"status": "active", "totals": {"memory_items": 4975, "learnings": 871, "error_patterns": 8, "review_items": 309}, "review": {"due_count": 152, "upcoming_count": 157, "items": [{"id": "a45f37741ef23152", "content": "Auto-fixed: com.claude.dashboard-refresh: Loaded but exited with code -15. Solution: Reloaded com.claude.dashboard-refresh", "category": "daemons", "next_review": "2026-01-31"}, {"id": "7b4879e17c8aa468", "content": "Completed: \u276f /Users/dicoangelo/researchgravity/tasks/prd-agen | Goal: \u276f /Users/dicoangelo/researchgravity/tasks/prd-agentic-organism-framework.md     ", "category": "research", "next_review": "2026-01-31"}, {"id": "00ef89195216c523", "content": "Completed: please pick up where we left off and immediately c | Goal: please pick up where we left off and immediately continue                       ", "category": "general", "next_review": "2026-01-31"}, {"id": "5a65e519779f948e", "content": "Completed: ## Your Task: US-001 - Create useApplications hook | Goal: ## Your Task: US-001 - Create useApplications hook for agent-core sync\n\n### Desc", "category": "feature", "next_review": "2026-01-31"}, {"id": "2c62141ba7374fa4", "content": "Completed: resume  Session Summary: Agentic Organism Framewor | Goal: resume  Session Summary: Agentic Organism Framework                             ", "category": "general", "next_review": "2026-01-31"}, {"id": "e97daf7708d33dce", "content": "Completed: please continue our session errored out ", "category": "bug_fix", "next_review": "2026-02-01"}, {"id": "f169bccc8390366d", "content": "Completed: please continue this project/task, we got cut out  | Goal: please continue this project/task, we got cut out this was the progress of the l", "category": "general", "next_review": "2026-02-01"}, {"id": "c428c4c07fe00efc", "content": "Completed: I WANT TO OPEN THE FOLDER LOCATION FOR THE DICOANG | Goal: I WANT TO OPEN THE FOLDER LOCATION FOR THE DICOANGELO.COM VERCEL SITE, WHERE THE", "category": "general", "next_review": "2026-02-01"}, {"id": "9f99b8864d4ef2d7", "content": "Completed: please continue where we left off                  | Goal: please continue where we left off                                               ", "category": "general", "next_review": "2026-02-01"}, {"id": "7f037209adc23917", "content": "Completed: my task immadiately ended what todo i do here", "category": "general", "next_review": "2026-02-01"}], "byCategory": {"general": {"total": 144, "due": 88}, "feature": {"total": 83, "due": 35}, "architecture": {"total": 23, "due": 3}, "bug_fix": {"total": 12, "due": 6}, "devops": {"total": 11, "due": 3}, "research": {"total": 7, "due": 5}, "data": {"total": 7, "due": 5}, "documentation": {"total": 6, "due": 3}, "daemons": {"total": 5, "due": 3}, "system": {"total": 4, "due": 0}, "testing": {"total": 2, "due": 1}, "python": {"total": 1, "due": 0}, "optimization": {"total": 1, "due": 0}, "daemon": {"total": 1, "due": 0}, "compatibility": {"total": 1, "due": 0}, "bug-pattern": {"total": 1, "due": 0}}}, "recent_learnings": [{"content": "Completed: This session is being continued from a previous co | Goal: This session is being continued from a previous conversation that ran out of con", "category": "general", "project": "general", "date": "2026-02-12"}, {"content": "Completed: Research the agentic memory ecosystem across the u | Goal: Research the agentic memory ecosystem across the user's codebase for enriching a", "category": "architecture", "project": "research", "date": "2026-02-12"}, {"content": "Completed: Audit the unified data capture architecture for th | Goal: Audit the unified data capture architecture for the CCC dashboard. I need to und", "category": "architecture", "project": "general", "date": "2026-02-12"}, {"content": "Completed: I need you to add `import { logger } from '../lib/ | Goal: I need you to add `import { logger } from '../lib/logger.js';` (or appropriate r", "category": "feature", "project": "general", "date": "2026-02-12"}, {"content": "Completed: In the project at /Users/dicoangelo/projects/produ | Goal: In the project at /Users/dicoangelo/projects/products/frontier-alpha, audit ALL ", "category": "general", "project": "general", "date": "2026-02-12"}, {"content": "Completed: Fix ALL ESLint warnings in these files under /User | Goal: Fix ALL ESLint warnings in these files under /Users/dicoangelo/projects/products", "category": "bug_fix", "project": "general", "date": "2026-02-12"}, {"content": "Completed: ## Your Task: US-001 - Fix all ESLint warnings in  | Goal: ## Your Task: US-001 - Fix all ESLint warnings in server codebase\n\n### Descripti", "category": "bug_fix", "project": "general", "date": "2026-02-12"}, {"content": "Completed: ## Your Task: US-008 - Add dataSource field to API | Goal: ## Your Task: US-008 - Add dataSource field to API responses for mock data detec", "category": "feature", "project": "general", "date": "2026-02-12"}, {"content": "Completed: let's continue where we left off \n\u2597 \u2597   \u2596 \u2596  Claud | Goal: let's continue where we left off \n\u2597 \u2597   \u2596 \u2596  Claude Code v2.1.39\n           Opus", "category": "general", "project": "general", "date": "2026-02-12"}, {"content": "Completed: Implement the following plan:\n\n# Metaventions-AI-L | Goal: Implement the following plan:\n\n# Metaventions-AI-Landing V2 Upgrade Plan\n\n## Con", "category": "feature", "project": "metaventions", "date": "2026-02-12"}], "error_patterns": [{"category": "memory", "pattern": "OOM", "count": 613890, "solution": null}, {"category": "git", "pattern": "fatal:", "count": 388198, "solution": "YOUR DOCUMENTED GIT FIXES:\n\nRepository Not Found:\n- Case sensitivity issue: Always use `Dicoangelo` (not `dicoangelo`)\n- Verify repo exists: `gh repo view owner/repo` before cloning\n- Update old references in scripts\n\nTag/Branch Conflicts:\n- Check before creating: `git tag -l | grep <tag>`\n- Check before cloning: `[ -d <dir> ] || git clone ...`\n\nWrong Directory:\n- Verify first: `git rev-parse --git-dir` before operations\n- Use absolute paths when possible\n\nExamples from your history:\n- fatal: destination path 'OS-App' already exists and is not an empty directory.\n- fatal: tag 'v1.1.0' already exists\n- 2026-01-15T01:59:10.798Z [ERROR] Error: Error: NON-FATAL: Lock acquisition failed for /Users/dicoang\n- 2026-01-20T00:51:11.868Z [ERROR] Error: Error: NON-FATAL: Lock acquisition failed for /Users/dicoang\n- fatal: not a git repository (or any of the parent directories): .git"}, {"category": "concurrency", "pattern": "race condition", "count": 69348, "solution": "YOUR DOCUMENTED CONCURRENCY FIXES:\n\nParallel Claude Sessions Issue:\n- 5+ sessions running = race conditions corrupting shared files\n- Sessions overwriting each other's data\n\nPrevention:\n- Check for other sessions: `pgrep -f \"claude\"` at start\n- Use file locks for critical writes\n- Close other Claude instances before heavy work\n- ONE SESSION AT A TIME rule\n\nExamples from your history:\n- - This causes race conditions when multiple sessions write to the same files\n- 1. **Race conditions** - Both sessions overwrite each other's data\n- \"text\": \"5+ parallel Claude sessions causing race conditions. User closed other sessions.\",\n- \"text\": \"parallel sessions causing data corruption through race conditions\",\n- Race conditions are the hardest to find, averaging 5.1 years to discovery because they're non-determ"}, {"category": "permissions", "pattern": "permission denied", "count": 32835, "solution": "YOUR DOCUMENTED PERMISSION FIXES:\n\nCauses:\n- Running commands without proper permissions\n- Accessing protected files/directories\n\nPrevention:\n- Check permissions first: `ls -la <file>`\n- Use `sudo` when appropriate\n- Ensure scripts are executable: `chmod +x`\n\nExamples from your history:\n- 272\u2192      if (errorMsg.includes('Permission denied') || errorMsg.includes('NotAllowedError')) {\n- (eval):1: permission denied:\n- 269\u2192      if (errorMsg.includes('Permission denied') || errorMsg.includes('NotAllowedError')) {\n- if (errorMsg.includes('Permission denied') || errorMsg.includes('NotAllowedError')) {\n- \"Permission denied\""}, {"category": "crash", "pattern": "SIGKILL", "count": 15978, "solution": "YOUR DOCUMENTED CRASH FIXES:\n\nStatus: Resolved\n\nPrevention:\n- Monitor memory usage\n- Implement streaming/chunking for large data\n- Resource limits configured\n\nExamples from your history:\n- The exit code 144 = SIGKILL (128 + 16), which was our `pkill` command terminating the test server.\n- [FAILED] prettier --write [SIGKILL]\n- Command was terminated with SIGKILL: prettier --write /Users/dicoangelo/OS-App/.github/workflows/bui"}, {"category": "quota", "pattern": "quota exceeded", "count": 15976, "solution": "YOUR DOCUMENTED QUOTA FIXES:\n\nStatus: Managed by DQ routing system\n\nPrevention:\n- DQ routing handles this (Haiku/Sonnet for simple tasks)\n- Exponential backoff implemented in code\n- Model downgrades automatic when hitting limits\n\nExamples from your history:\n- 401\u2192            // This prevents \"Quota Exceeded\" on high-end models for simple tasks\n- 375\u2192            // This prevents \"Quota Exceeded\" on high-end models for simple tasks\n- 186\u2192                console.warn(`\u26a0\ufe0f RATE_LIMITED: API quota exceeded, waiting ${delay}ms...`);"}, {"category": "recursion", "pattern": "infinite loop", "count": 9186, "solution": "YOUR DOCUMENTED RECURSION FIXES:\n\nStatus: Prevented\n\nPrevention:\n- Add explicit base cases\n- Add iteration limits\n- Use visited sets to detect cycles\n\nExamples from your history:\n- 224\u2192- [ ] No infinite loops (MAX_ROUNDS enforced)"}, {"category": "syntax", "pattern": "SyntaxError", "count": 3374, "solution": "YOUR DOCUMENTED SYNTAX FIXES:\n\nStatus: One-off occurrence\n\nPrevention:\n- Run linters before execution\n- Use IDE with syntax highlighting\n- Use formatters: `black`, `prettier`\n\nExamples from your history:\n- 4\u2192const MOCK_PEER_NAMES = ['AlphaNode', 'BinaryArch', 'ZeroVector', 'NexusOne', 'VoidWalker', 'Synta"}], "projects": {"career": 219, "claude-system": 17, "general": 2824, "metaventions": 118, "os-app": 951, "research": 488}, "sources": {"daily": 2645, "outcome": 1972, "error": 352, "knowledge": 6}, "learningCategories": {"anomaly": 295, "general": 203, "feature": 131, "system": 115, "architecture": 41, "bug_fix": 18, "daemons": 16, "research": 15, "devops": 12, "data": 7, "documentation": 6, "testing": 3, "debugging": 2, "python": 1, "patterns": 1, "optimization": 1, "features": 1, "daemon": 1, "compatibility": 1, "bug-pattern": 1}, "dailyGrowth": [{"date": "2026-01-21", "count": 53}, {"date": "2026-01-22", "count": 43}, {"date": "2026-01-23", "count": 39}, {"date": "2026-01-24", "count": 62}, {"date": "2026-01-25", "count": 25}, {"date": "2026-01-26", "count": 89}, {"date": "2026-01-27", "count": 92}, {"date": "2026-01-28", "count": 50}, {"date": "2026-01-29", "count": 156}, {"date": "2026-01-30", "count": 46}, {"date": "2026-01-31", "count": 222}, {"date": "2026-02-01", "count": 314}, {"date": "2026-02-02", "count": 71}, {"date": "2026-02-03", "count": 104}, {"date": "2026-02-04", "count": 114}, {"date": "2026-02-05", "count": 85}, {"date": "2026-02-06", "count": 157}, {"date": "2026-02-07", "count": 268}, {"date": "2026-02-08", "count": 84}, {"date": "2026-02-09", "count": 185}, {"date": "2026-02-10", "count": 119}, {"date": "2026-02-11", "count": 125}, {"date": "2026-02-12", "count": 273}, {"date": "2026-02-13", "count": 2199}], "dailyLearnings": [{"date": "2026-01-14", "count": 3}, {"date": "2026-01-15", "count": 4}, {"date": "2026-01-16", "count": 4}, {"date": "2026-01-17", "count": 9}, {"date": "2026-01-18", "count": 5}, {"date": "2026-01-19", "count": 12}, {"date": "2026-01-20", "count": 6}, {"date": "2026-01-21", "count": 25}, {"date": "2026-01-22", "count": 12}, {"date": "2026-01-23", "count": 120}, {"date": "2026-01-24", "count": 215}, {"date": "2026-01-25", "count": 4}, {"date": "2026-01-26", "count": 24}, {"date": "2026-01-27", "count": 13}, {"date": "2026-01-28", "count": 10}, {"date": "2026-01-29", "count": 22}, {"date": "2026-01-30", "count": 12}, {"date": "2026-01-31", "count": 29}, {"date": "2026-02-01", "count": 45}, {"date": "2026-02-02", "count": 9}, {"date": "2026-02-03", "count": 25}, {"date": "2026-02-04", "count": 16}, {"date": "2026-02-05", "count": 16}, {"date": "2026-02-06", "count": 21}, {"date": "2026-02-07", "count": 37}, {"date": "2026-02-08", "count": 25}, {"date": "2026-02-09", "count": 31}, {"date": "2026-02-10", "count": 22}, {"date": "2026-02-11", "count": 17}, {"date": "2026-02-12", "count": 26}], "last_sync": null, "automations": {"session_sync": true, "error_lookup": true, "daily_cron": true, "weekly_rollup": true}};
    const COGNITIVE_DATA = {"status": "active", "current_state": {"mode": "evening", "energy_level": 0.39, "recommended_tasks": ["creative work", "design", "exploration"], "warnings": ["Low energy day - consider lighter tasks"]}, "flow": {"state": "focused", "score": 0.72, "in_flow": false}, "fate": {"predicted_outcome": "partial"}, "weekly": {"Monday": {"level": 0.51, "energy": "MED", "stats": {"success_rate": 0.51}}, "Tuesday": {"level": 0.49, "energy": "LOW", "stats": {"success_rate": 0.49}}, "Wednesday": {"level": 0.76, "energy": "HIGH", "stats": {"success_rate": 0.76}}, "Thursday": {"level": 0.39, "energy": "LOW", "stats": {"success_rate": 0.39}}, "Friday": {"level": 0.61, "energy": "MED", "stats": {"success_rate": 0.61}}, "Saturday": {"level": 0.56, "energy": "MED", "stats": {"success_rate": 0.56}}, "Sunday": {"level": 0.54, "energy": "MED", "stats": {"success_rate": 0.54}}}, "routing": {"recommended_model": "sonnet"}, "peak_hours": [20, 19, 3], "fate_accuracy": {"total": 681, "correct": 277}, "fate_distribution": {"success": 158, "abandon": 142, "partial": 0, "unknown": 381}, "flow_history": [{"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-09T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-10T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-10T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-10T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-11T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-11T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-11T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-12T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-12T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-12T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-14T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-14T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.936, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-16T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-17T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-17T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-19T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-19T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.948, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.939, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.925, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-21T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-22T00:00:00", "flow_score": 0.93, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-22T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-22T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.806, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-23T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.907, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.802, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-24T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.94, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-26T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-27T00:00:00", "flow_score": 0.662, "state": "focused", "in_flow": false}, {"timestamp": "2026-01-27T00:00:00", "flow_score": 0.733, "state": "focused", "in_flow": false}, {"timestamp": "2026-01-28T00:00:00", "flow_score": 0.839, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-28T00:00:00", "flow_score": 0.732, "state": "focused", "in_flow": false}, {"timestamp": "2026-01-28T00:00:00", "flow_score": 0.872, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-28T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-28T00:00:00", "flow_score": 0.79, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-29T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-01-31T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.896, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.78, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.479, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.872, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.817, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.877, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.892, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.339, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.484, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.409, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.339, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.339, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.409, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.387, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.387, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.339, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.409, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.88, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.387, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.88, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.457, "state": "working", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.73, "state": "focused", "in_flow": false}, {"timestamp": "2026-02-01T00:00:00", "flow_score": 0.387, "state": "working", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.424, "state": "working", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-03T00:00:00", "flow_score": 0.473, "state": "working", "in_flow": false}, {"timestamp": "2026-02-04T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-04T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-04T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-04T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.91, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.66, "state": "focused", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.715, "state": "focused", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.329, "state": "working", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.827, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.887, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-06T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.948, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.829, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.775, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.855, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}, {"timestamp": "2026-02-07T00:00:00", "flow_score": 0.915, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-08T00:00:00", "flow_score": 0.95, "state": "flow", "in_flow": true}, {"timestamp": "2026-02-08T00:00:00", "flow_score": 0.1, "state": "distracted", "in_flow": false}], "routing_history": [{"timestamp": "2026-02-12T17:16:51.285278", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:17:11.473673", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:17:23.012485", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:20:52.188559", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:37:20.958335", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:39:01.818755", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:39:30.460044", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:40:02.274897", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:41:10.394506", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T17:53:14.193135", "recommended_model": "haiku", "cognitive_mode": "peak_afternoon", "dq_score": 0}, {"timestamp": "2026-02-12T18:55:17.979600", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T18:55:33.212268", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T18:55:51.549313", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T19:16:16.039998", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T19:28:10.788129", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T19:42:06.750737", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T19:54:07.486397", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T20:07:00.250845", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T20:17:59.826847", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}, {"timestamp": "2026-02-12T21:20:29.334214", "recommended_model": "haiku", "cognitive_mode": "evening", "dq_score": 0}], "routing_sqlite": {"byModel": {"haiku": 609, "opus": 318, "sonnet": 247, "flash": 4, "local-fast": 4, "local": 3}, "daily": [{"date": "2026-01-21", "count": 791, "avg_dq": 0.615, "avg_complexity": 0.44}, {"date": "2026-01-22", "count": 73, "avg_dq": 0.687, "avg_complexity": 0.54}, {"date": "2026-01-23", "count": 189, "avg_dq": 0.759, "avg_complexity": 0.68}, {"date": "2026-01-24", "count": 53, "avg_dq": 0.78, "avg_complexity": 0.667}, {"date": "2026-01-25", "count": 9, "avg_dq": 0.779, "avg_complexity": 0.617}, {"date": "2026-01-26", "count": 24, "avg_dq": 0.605, "avg_complexity": 0.545}, {"date": "2026-01-27", "count": 1, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-01-28", "count": 1, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-01-31", "count": 2, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-02-01", "count": 5, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-02-06", "count": 2, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-02-07", "count": 6, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-02-08", "count": 12, "avg_dq": 0.87, "avg_complexity": 0.8}, {"date": "2026-02-11", "count": 17, "avg_dq": 0.87, "avg_complexity": 0.8}], "total": 1185}, "fate_daily": [{"date": "2026-01-09", "total": 6, "correct": 6, "accuracy": 100.0}, {"date": "2026-01-10", "total": 3, "correct": 3, "accuracy": 100.0}, {"date": "2026-01-11", "total": 3, "correct": 3, "accuracy": 100.0}, {"date": "2026-01-12", "total": 11, "correct": 11, "accuracy": 100.0}, {"date": "2026-01-14", "total": 2, "correct": 2, "accuracy": 100.0}, {"date": "2026-01-15", "total": 1, "correct": 1, "accuracy": 100.0}, {"date": "2026-01-16", "total": 11, "correct": 11, "accuracy": 100.0}, {"date": "2026-01-17", "total": 2, "correct": 2, "accuracy": 100.0}, {"date": "2026-01-19", "total": 2, "correct": 2, "accuracy": 100.0}, {"date": "2026-01-21", "total": 12, "correct": 12, "accuracy": 100.0}, {"date": "2026-01-22", "total": 3, "correct": 3, "accuracy": 100.0}, {"date": "2026-01-23", "total": 8, "correct": 8, "accuracy": 100.0}, {"date": "2026-01-24", "total": 6, "correct": 6, "accuracy": 100.0}, {"date": "2026-01-26", "total": 6, "correct": 6, "accuracy": 100.0}, {"date": "2026-01-27", "total": 2, "correct": 2, "accuracy": 100.0}, {"date": "2026-01-28", "total": 5, "correct": 5, "accuracy": 100.0}, {"date": "2026-01-29", "total": 1, "correct": 1, "accuracy": 100.0}, {"date": "2026-01-30", "total": 14, "correct": 14, "accuracy": 100.0}, {"date": "2026-01-31", "total": 59, "correct": 53, "accuracy": 89.8}, {"date": "2026-02-01", "total": 50, "correct": 36, "accuracy": 72.0}, {"date": "2026-02-03", "total": 12, "correct": 10, "accuracy": 83.3}, {"date": "2026-02-04", "total": 4, "correct": 4, "accuracy": 100.0}, {"date": "2026-02-06", "total": 24, "correct": 23, "accuracy": 95.8}, {"date": "2026-02-07", "total": 51, "correct": 51, "accuracy": 100.0}, {"date": "2026-02-08", "total": 86, "correct": 2, "accuracy": 2.3}, {"date": "2026-02-09", "total": 45, "correct": 0, "accuracy": 0.0}, {"date": "2026-02-10", "total": 21, "correct": 0, "accuracy": 0.0}, {"date": "2026-02-11", "total": 78, "correct": 0, "accuracy": 0.0}, {"date": "2026-02-12", "total": 153, "correct": 0, "accuracy": 0.0}]};
    const RECOVERY_DATA = {"stats": {"total": 200, "autoFix": 5, "autoFixRate": 2.5, "successRate": 47.5}, "categories": {"test-pattern": 1, "unknown": 198, "test-error": 1}, "outcomes": [{"action": "test fix", "category": "test-pattern", "ts": 1769593710, "success": true, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769429207, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769429061, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769428760, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769428538, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769428459, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769428158, "success": true, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769427859, "success": false, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769427858, "success": true, "auto": true}, {"action": "unknown", "category": "unknown", "ts": 1769427557, "success": false, "auto": true}, {"action": "restart", "category": "test-error", "ts": 1769593710, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768997598, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994599, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994595, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994525, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994512, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994403, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994403, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994403, "success": true, "auto": false}, {"action": "unknown", "category": "unknown", "ts": 1768994370, "success": true, "auto": false}], "timeline": [], "successByCategory": {"test-pattern": 100.0, "unknown": 47.0, "test-error": 100.0}, "matrix": [{"category": "Git", "errors": 560, "autoFix": "username, locks", "suggestOnly": "merge conflicts, force push"}, {"category": "Concurrency", "errors": 55, "autoFix": "stale locks, zombies", "suggestOnly": "parallel sessions"}, {"category": "Permissions", "errors": 40, "autoFix": "safe paths", "suggestOnly": "system paths"}, {"category": "Quota", "errors": 25, "autoFix": "cache", "suggestOnly": "model switch"}, {"category": "Crash", "errors": 15, "autoFix": "corrupt state", "suggestOnly": "restore backup"}, {"category": "Recursion", "errors": 3, "autoFix": "kill runaway", "suggestOnly": "\u2014"}, {"category": "Syntax", "errors": 2, "autoFix": "\u2014", "suggestOnly": "always suggest"}]};
    const COORDINATOR_DATA = {"registry": {"total_agents": 0, "by_state": {}, "by_model": {}, "total_cost_estimate": 0, "active_count": 0, "stale_count": 0}, "locks": {"total_locks": 0, "read_locks": 0, "write_locks": 0, "files_locked": 0, "agents_with_locks": 0}, "agents": [], "lockDetails": [], "history": [{"timestamp": "2026-01-21T15:46:31.949708", "task_id": "coord-435d2ec9", "task": "How does the routing system work?", "strategy": "research", "status": "failed", "duration_seconds": 180.06, "total_cost": 0.03285, "agent_count": 3}, {"timestamp": "2026-01-21T07:58:51.285684", "task_id": "coord-f1abcb04", "task": "Add a dashboard tab for the coordinator system to the Command Center", "strategy": "full", "status": "failed", "duration_seconds": 434.95, "total_cost": 0.0219, "agent_count": 4}, {"timestamp": "2026-01-21T07:49:57.827014", "task_id": "coord-395bf92d", "task": "How does the DQ scoring system work in this codebase?", "strategy": "research", "status": "failed", "duration_seconds": 165.0, "total_cost": 0.03285, "agent_count": 3}]};
    const SESSIONS_DATA = {"sessions": [{"pid": "48646", "model": "sonnet", "runtime": "0:41.03", "runtime_mins": 0, "cpu": "64.7", "mem": "0.1", "cwd": "~"}, {"pid": "94853", "model": "opus", "runtime": "9:26.87", "runtime_mins": 9, "cpu": "17.2", "mem": "2.2", "cwd": "~"}, {"pid": "42287", "model": "sonnet", "runtime": "0:06.84", "runtime_mins": 0, "cpu": "0.0", "mem": "0.1", "cwd": "~"}, {"pid": "292", "model": "opus", "runtime": "0:20.59", "runtime_mins": 0, "cpu": "0.0", "mem": "0.3", "cwd": "~"}, {"pid": "70511", "model": "sonnet", "runtime": "0:00.01", "runtime_mins": 0, "cpu": "0.0", "mem": "0.0", "cwd": "~"}, {"pid": "48626", "model": "sonnet", "runtime": "0:00.01", "runtime_mins": 0, "cpu": "0.0", "mem": "0.0", "cwd": "~"}, {"pid": "48615", "model": "sonnet", "runtime": "0:00.01", "runtime_mins": 0, "cpu": "0.0", "mem": "0.0", "cwd": "~"}], "stats": {"total": 7, "opus": 2, "sonnet": 5, "haiku": 0, "total_runtime_minutes": 9}};
    const INFRASTRUCTURE_DATA = {"status": "healthy", "daemons": [{"name": "com.claude.watchdog", "description": "Watchdog (guardian)", "critical": true, "loaded": true, "pid": "-", "plistExists": true}, {"name": "com.claude.dashboard-refresh", "description": "Dashboard Refresh (60s)", "critical": true, "loaded": true, "pid": "48615", "plistExists": true}, {"name": "com.claude.supermemory", "description": "Supermemory (daily)", "critical": true, "loaded": true, "pid": "48626", "plistExists": true}, {"name": "com.claude.session-analysis", "description": "Session Analysis (30m)", "critical": false, "loaded": true, "pid": "-", "plistExists": true}, {"name": "com.claude.autonomous-maintenance", "description": "Auto Maintenance (1h)", "critical": false, "loaded": true, "pid": "-", "plistExists": true}, {"name": "com.claude.self-heal", "description": "Self Heal (6h)", "critical": true, "loaded": true, "pid": "-", "plistExists": true}, {"name": "com.claude.bootstrap", "description": "Bootstrap (login)", "critical": false, "loaded": true, "pid": "-", "plistExists": true}, {"name": "com.claude.wake-hook", "description": "Wake Hook (sleep)", "critical": false, "loaded": true, "pid": "-", "plistExists": true}], "heartbeat": "2026-02-12T21:53:55.445047-05:00", "healingEvents": [{"timestamp": "2026-02-11 22:00:33", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-11 22:00:33", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-11 22:00:33", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-11 03:39:02", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-10 21:45:00", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 19:54:36", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 19:54:35", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 16:28:59", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-10 14:38:23", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-09 22:35:50", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-09 22:35:50", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-09 22:35:50", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-02-09 13:05:58", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-09 13:05:58", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-09 13:05:58", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-09 12:03:04", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-08 18:37:09", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-08 18:37:09", "daemon": "com.claude.autonomous-maintenance", "action": "reload", "success": true, "message": "Reloaded com.claude.autonomous-maintenance"}, {"timestamp": "2026-02-08 18:37:08", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-02-08 17:23:10", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-08 17:23:10", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-08 17:23:09", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-08 08:56:26", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-08 08:56:26", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-08 08:56:26", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-08 07:56:46", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-02-07 23:34:59", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 23:34:59", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-07 23:34:59", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-07 19:52:08", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 19:52:08", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-07 19:52:08", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-07 18:58:07", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 18:58:07", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-07 18:58:07", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-07 16:27:03", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-07 16:27:02", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-07 14:53:17", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 14:53:17", "daemon": "com.claude.autonomous-maintenance", "action": "reload", "success": true, "message": "Reloaded com.claude.autonomous-maintenance"}, {"timestamp": "2026-02-07 14:53:17", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-02-07 13:13:33", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 13:13:33", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-07 13:13:33", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-07 10:31:54", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-06 09:52:17", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-02-06 07:15:38", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-06 07:15:38", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-06 07:15:38", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-02-06 02:28:40", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-06 02:28:40", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-06 02:28:40", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-02-05 23:04:39", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-05 23:04:39", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-05 23:04:39", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-04 04:58:54", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-04 03:17:43", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-04 03:17:43", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-02-04 03:17:43", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-02-03 16:37:41", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-03 16:37:41", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-03 16:37:41", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-02-03 14:57:54", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-03 14:57:54", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-03 14:57:54", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-02-02 12:12:18", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-02-01 03:35:20", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-02-01 03:35:20", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-02-01 03:35:20", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-31 20:48:31", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-31 20:48:31", "daemon": "com.claude.autonomous-maintenance", "action": "reload", "success": true, "message": "Reloaded com.claude.autonomous-maintenance"}, {"timestamp": "2026-01-31 20:48:31", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-01-31 05:43:32", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-31 05:43:32", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-31 05:43:32", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-31 05:40:26", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-31 05:40:26", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-01-31 05:40:26", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-01-30 23:48:07", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-30 23:48:07", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-30 23:48:06", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-29 21:12:30", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-29 21:12:27", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-29 16:06:44", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-29 16:06:44", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-29 16:06:44", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-29 12:00:13", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-29 12:00:13", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-29 12:00:13", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-29 05:58:38", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-29 05:58:38", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-29 05:58:38", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-28 10:24:40", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-28 10:24:40", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-28 10:24:40", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-27 02:25:33", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-27 02:25:33", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-01-27 02:25:33", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-01-26 17:02:14", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-26 17:02:14", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-26 17:02:14", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-26 02:26:02", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "com.claude.self-heal", "action": "reload", "success": true, "message": "Reloaded com.claude.self-heal"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-25 21:42:37", "daemon": "com.claude.self-heal", "action": "detected", "success": false, "message": "Detected com.claude.self-heal down"}, {"timestamp": "2026-01-25 10:07:57", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-25 10:07:57", "daemon": "com.claude.autonomous-maintenance", "action": "reload", "success": true, "message": "Reloaded com.claude.autonomous-maintenance"}, {"timestamp": "2026-01-25 10:07:57", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-01-25 05:57:04", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-25 05:57:04", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-25 05:57:04", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-24 23:30:50", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-24 23:30:50", "daemon": "com.claude.session-analysis", "action": "reload", "success": true, "message": "Reloaded com.claude.session-analysis"}, {"timestamp": "2026-01-24 23:30:50", "daemon": "com.claude.session-analysis", "action": "detected", "success": false, "message": "Detected com.claude.session-analysis down"}, {"timestamp": "2026-01-24 17:08:11", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-24 17:08:11", "daemon": "com.claude.autonomous-maintenance", "action": "reload", "success": true, "message": "Reloaded com.claude.autonomous-maintenance"}, {"timestamp": "2026-01-24 17:08:11", "daemon": "com.claude.autonomous-maintenance", "action": "detected", "success": false, "message": "Detected com.claude.autonomous-maintenance down"}, {"timestamp": "2026-01-24 15:29:02", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-24 15:29:02", "daemon": "com.claude.supermemory", "action": "reload", "success": true, "message": "Reloaded com.claude.supermemory"}, {"timestamp": "2026-01-24 15:29:02", "daemon": "com.claude.supermemory", "action": "detected", "success": false, "message": "Detected com.claude.supermemory down"}, {"timestamp": "2026-01-24 06:22:59", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-24 06:22:59", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-24 06:22:59", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-23 16:57:15", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 1 daemon(s)"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "com.claude.dashboard-refresh", "action": "reload", "success": true, "message": "Reloaded com.claude.dashboard-refresh"}, {"timestamp": "2026-01-23 14:51:52", "daemon": "com.claude.dashboard-refresh", "action": "detected", "success": false, "message": "Detected com.claude.dashboard-refresh down"}, {"timestamp": "2026-01-23 14:30:06", "daemon": "watchdog", "action": "heal", "success": true, "message": "Healed 2 daemon(s)"}, {"timestamp": "2026-01-23 14:30:06", "daemon": "com.claude.wake-hook", "action": "reload", "success": true, "message": "Reloaded com.claude.wake-hook"}, {"timestamp": "2026-01-23 14:30:06", "daemon": "com.claude.wake-hook", "action": "detected", "success": false, "message": "Detected com.claude.wake-hook down"}, {"timestamp": "2026-01-23 14:30:06", "daemon": "com.claude.bootstrap", "action": "reload", "success": true, "message": "Reloaded com.claude.bootstrap"}, {"timestamp": "2026-01-23 14:30:06", "daemon": "com.claude.bootstrap", "action": "detected", "success": false, "message": "Detected com.claude.bootstrap down"}, {"timestamp": "2026-01-26 05:06:15", "daemon": "self-heal", "action": "deep-heal", "success": true, "message": "Deep heal fixed 1 issue(s)"}, {"timestamp": "2026-01-26 06:44:18", "daemon": "self-heal", "action": "deep-heal", "success": true, "message": "Deep heal fixed 1 issue(s)"}, {"timestamp": "2026-01-26 06:49:18", "daemon": "self-heal", "action": "deep-heal", "success": true, "message": "Deep heal fixed 1 issue(s)"}], "dataFreshness": [{"name": "Dashboard", "fresh": true, "age": "3m ago", "hours": 0.06, "maxHours": 1}, {"name": "Session State", "fresh": true, "age": "33m ago", "hours": 0.56, "maxHours": 2}, {"name": "Supermemory DB", "fresh": true, "age": "0m ago", "hours": 0.0, "maxHours": 24}, {"name": "Claude DB", "fresh": true, "age": "0m ago", "hours": 0.0, "maxHours": 1}, {"name": "Cost Data", "fresh": true, "age": "1m ago", "hours": 0.02, "maxHours": 24}, {"name": "Stats Cache", "fresh": true, "age": "1.3h ago", "hours": 1.33, "maxHours": 12}, {"name": "Watchdog Log", "fresh": false, "age": "23.9h ago", "hours": 23.89, "maxHours": 2}], "watchdogDaily": [{"date": "2026-01-23", "down": 6, "loaded": 6, "healed": 5}, {"date": "2026-01-24", "down": 4, "loaded": 4, "healed": 4}, {"date": "2026-01-25", "down": 5, "loaded": 4, "healed": 4}, {"date": "2026-01-26", "down": 4, "loaded": 3, "healed": 3}, {"date": "2026-01-27", "down": 1, "loaded": 1, "healed": 1}, {"date": "2026-01-28", "down": 1, "loaded": 1, "healed": 1}, {"date": "2026-01-29", "down": 6, "loaded": 5, "healed": 5}, {"date": "2026-01-30", "down": 1, "loaded": 1, "healed": 1}, {"date": "2026-01-31", "down": 3, "loaded": 3, "healed": 3}, {"date": "2026-02-01", "down": 1, "loaded": 1, "healed": 1}, {"date": "2026-02-02", "down": 2, "loaded": 2, "healed": 2}, {"date": "2026-02-03", "down": 2, "loaded": 2, "healed": 2}, {"date": "2026-02-04", "down": 2, "loaded": 1, "healed": 1}, {"date": "2026-02-05", "down": 1, "loaded": 1, "healed": 1}, {"date": "2026-02-06", "down": 5, "loaded": 4, "healed": 4}, {"date": "2026-02-07", "down": 9, "loaded": 8, "healed": 7}, {"date": "2026-02-08", "down": 4, "loaded": 3, "healed": 3}, {"date": "2026-02-09", "down": 4, "loaded": 4, "healed": 4}, {"date": "2026-02-10", "down": 11, "loaded": 8, "healed": 8}, {"date": "2026-02-11", "down": 2, "loaded": 1, "healed": 1}], "selfHealDaily": [{"date": "2026-01-23", "ok": 2608, "warn": 10, "error": 0, "fixed": 7, "runs": 155}, {"date": "2026-01-24", "ok": 7620, "warn": 13, "error": 0, "fixed": 13, "runs": 449}, {"date": "2026-01-25", "ok": 7747, "warn": 4, "error": 1, "fixed": 5, "runs": 456}, {"date": "2026-01-26", "ok": 2291, "warn": 4, "error": 0, "fixed": 4, "runs": 135}], "daemonHealCounts": {"bootstrap": 1, "wake-hook": 1, "dashboard-refresh": 17, "supermemory": 10, "autonomous-maintenance": 5, "session-analysis": 12, "self-heal": 17}, "recoveryStats": {"total": 151, "successful": 135, "byType": {"unknown": 150, "test-error": 1}, "byMethod": {"auto": 151}}, "selfHealSummary": {"totalRuns": 1195, "totalFixed": 29, "totalChecks": 20298, "totalWarn": 31, "totalError": 1}};
    const DAILY_ACTIVITY_DATA = {"allTime": {"total": 101070, "writes": 4373, "edits": 12925, "bash": 38803, "reads": 27656}, "daily": [{"date": "2026-01-09", "total": 739, "writes": 47, "edits": 127, "bash": 297, "reads": 156}, {"date": "2026-01-10", "total": 135, "writes": 22, "edits": 27, "bash": 46, "reads": 16}, {"date": "2026-01-11", "total": 101, "writes": 15, "edits": 7, "bash": 44, "reads": 28}, {"date": "2026-01-12", "total": 548, "writes": 14, "edits": 67, "bash": 264, "reads": 106}, {"date": "2026-01-13", "total": 1252, "writes": 111, "edits": 106, "bash": 559, "reads": 235}, {"date": "2026-01-14", "total": 2339, "writes": 116, "edits": 207, "bash": 803, "reads": 625}, {"date": "2026-01-15", "total": 1416, "writes": 96, "edits": 98, "bash": 570, "reads": 136}, {"date": "2026-01-16", "total": 3056, "writes": 132, "edits": 226, "bash": 1132, "reads": 908}, {"date": "2026-01-17", "total": 3936, "writes": 46, "edits": 298, "bash": 1140, "reads": 578}, {"date": "2026-01-18", "total": 2800, "writes": 168, "edits": 304, "bash": 1116, "reads": 728}, {"date": "2026-01-19", "total": 8742, "writes": 411, "edits": 759, "bash": 4231, "reads": 1872}, {"date": "2026-01-20", "total": 2756, "writes": 105, "edits": 405, "bash": 1087, "reads": 732}, {"date": "2026-01-21", "total": 8645, "writes": 351, "edits": 1072, "bash": 3395, "reads": 2300}, {"date": "2026-01-22", "total": 3200, "writes": 104, "edits": 416, "bash": 1241, "reads": 897}, {"date": "2026-01-23", "total": 6908, "writes": 250, "edits": 1046, "bash": 2753, "reads": 1738}, {"date": "2026-01-24", "total": 5443, "writes": 471, "edits": 584, "bash": 2020, "reads": 1563}, {"date": "2026-01-25", "total": 231, "writes": 0, "edits": 3, "bash": 88, "reads": 93}, {"date": "2026-01-26", "total": 5881, "writes": 195, "edits": 816, "bash": 2527, "reads": 1576}, {"date": "2026-01-27", "total": 1196, "writes": 70, "edits": 160, "bash": 572, "reads": 298}, {"date": "2026-01-28", "total": 838, "writes": 43, "edits": 67, "bash": 444, "reads": 179}, {"date": "2026-01-29", "total": 0, "writes": 0, "edits": 0, "bash": 0, "reads": 0}, {"date": "2026-01-30", "total": 0, "writes": 0, "edits": 0, "bash": 0, "reads": 0}, {"date": "2026-01-31", "total": 1769, "writes": 42, "edits": 203, "bash": 627, "reads": 545}, {"date": "2026-02-01", "total": 6830, "writes": 230, "edits": 881, "bash": 2222, "reads": 2277}, {"date": "2026-02-02", "total": 326, "writes": 11, "edits": 28, "bash": 148, "reads": 57}, {"date": "2026-02-03", "total": 2136, "writes": 197, "edits": 143, "bash": 1040, "reads": 551}, {"date": "2026-02-04", "total": 2060, "writes": 168, "edits": 405, "bash": 757, "reads": 554}, {"date": "2026-02-05", "total": 780, "writes": 69, "edits": 96, "bash": 370, "reads": 177}, {"date": "2026-02-06", "total": 1858, "writes": 63, "edits": 108, "bash": 818, "reads": 577}, {"date": "2026-02-07", "total": 5566, "writes": 324, "edits": 814, "bash": 2009, "reads": 1803}, {"date": "2026-02-08", "total": 3459, "writes": 68, "edits": 826, "bash": 1097, "reads": 985}, {"date": "2026-02-09", "total": 5982, "writes": 133, "edits": 1155, "bash": 1944, "reads": 1864}, {"date": "2026-02-10", "total": 1750, "writes": 47, "edits": 163, "bash": 790, "reads": 533}, {"date": "2026-02-11", "total": 1526, "writes": 81, "edits": 133, "bash": 676, "reads": 456}, {"date": "2026-02-12", "total": 6685, "writes": 172, "edits": 1167, "bash": 1885, "reads": 2450}], "byTool": {"Bash": 38803, "Read": 27656, "Edit": 12925, "Grep": 5159, "Write": 4373, "Glob": 3910, "TodoWrite": 2107, "WebSearch": 1489, "Task": 1415, "WebFetch": 974, "mcp__chrome-devtools__click": 328, "mcp__chrome-devtools__take_snapshot": 247, "TaskUpdate": 217, "mcp__chrome-devtools__take_screenshot": 215, "mcp__chrome-devtools__evaluate_script": 143, "TaskCreate": 127, "mcp__chrome-devtools__navigate_page": 127, "mcp__chrome-devtools__press_key": 107, "mcp__chrome-devtools__list_pages": 101, "mcp__chrome-devtools__fill": 88, "ExitPlanMode": 75, "AskUserQuestion": 70, "mcp__chrome-devtools__new_page": 69, "TaskOutput": 55, "Skill": 32, "KillShell": 30, "EnterPlanMode": 26, "mcp__chrome-devtools__wait_for": 25, "mcp__chrome-devtools__list_console_messages": 22, "TaskList": 15, "mcp__chrome-devtools__fill_form": 14, "mcp__supabase__execute_sql": 13, "mcp__supabase__list_tables": 12, "mcp__supabase__search_docs": 10, "mcp__supabase__apply_migration": 8, "unknown": 8, "mcp__supabase__get_project_url": 6, "mcp__chrome-devtools__get_console_message": 5, "mcp__chrome-devtools__list_network_requests": 5, "mcp__researchgravity__get_session_stats": 5, "mcp__supabase__get_advisors": 5, "mcp__chrome-devtools__handle_dialog": 4, "mcp__chrome-devtools__select_page": 4, "mcp__supabase__deploy_edge_function": 4, "mcp__supabase__get_publishable_keys": 4, "TestTool": 3, "ListMcpResourcesTool": 2, "Test": 2, "mcp__chrome-devtools__close_page": 2, "mcp__chrome-devtools__resize_page": 2, "mcp__chrome-devtools__upload_file": 2, "mcp__notebooklm-mcp__notebook_list": 2, "mcp__notebooklm-mcp__notebook_query": 2, "mcp__researchgravity__get_research_index": 2, "mcp__researchgravity__list_projects": 2, "mcp__researchgravity__select_context_packs": 2, "mcp__supabase__get_logs": 2, "mcp__supabase__list_edge_functions": 2, "DiagTest": 1, "FixedTest": 1, "TestBash": 1, "mcp__github__list_issues": 1, "mcp__researchgravity__get_project_research": 1, "mcp__supabase__list_migrations": 1}};
    const TOOL_USAGE_DATA = {"total": 101070, "byTool": {"Bash": 38803, "Read": 27656, "Edit": 12925, "Grep": 5159, "Write": 4373, "Glob": 3910, "TodoWrite": 2107, "WebSearch": 1489, "Task": 1415, "WebFetch": 974, "mcp__chrome-devtools__click": 328, "mcp__chrome-devtools__take_snapshot": 247, "TaskUpdate": 217, "mcp__chrome-devtools__take_screenshot": 215, "mcp__chrome-devtools__evaluate_script": 143, "TaskCreate": 127, "mcp__chrome-devtools__navigate_page": 127, "mcp__chrome-devtools__press_key": 107, "mcp__chrome-devtools__list_pages": 101, "mcp__chrome-devtools__fill": 88}, "successRates": {"AskUserQuestion": 100.0, "Bash": 100.0, "DiagTest": 100.0, "Edit": 100.0, "EnterPlanMode": 100.0, "ExitPlanMode": 100.0, "FixedTest": 100.0, "Glob": 100.0, "Grep": 100.0, "KillShell": 100.0, "ListMcpResourcesTool": 100.0, "Read": 100.0, "Skill": 100.0, "Task": 100.0, "TaskCreate": 100.0, "TaskList": 100.0, "TaskOutput": 100.0, "TaskUpdate": 100.0, "Test": 100.0, "TestBash": 100.0, "TestTool": 100.0, "TodoWrite": 100.0, "WebFetch": 100.0, "WebSearch": 100.0, "Write": 100.0, "mcp__chrome-devtools__click": 100.0, "mcp__chrome-devtools__close_page": 100.0, "mcp__chrome-devtools__evaluate_script": 100.0, "mcp__chrome-devtools__fill": 100.0, "mcp__chrome-devtools__fill_form": 100.0, "mcp__chrome-devtools__get_console_message": 100.0, "mcp__chrome-devtools__handle_dialog": 100.0, "mcp__chrome-devtools__list_console_messages": 100.0, "mcp__chrome-devtools__list_network_requests": 100.0, "mcp__chrome-devtools__list_pages": 100.0, "mcp__chrome-devtools__navigate_page": 100.0, "mcp__chrome-devtools__new_page": 100.0, "mcp__chrome-devtools__press_key": 100.0, "mcp__chrome-devtools__resize_page": 100.0, "mcp__chrome-devtools__select_page": 100.0, "mcp__chrome-devtools__take_screenshot": 100.0, "mcp__chrome-devtools__take_snapshot": 100.0, "mcp__chrome-devtools__upload_file": 100.0, "mcp__chrome-devtools__wait_for": 100.0, "mcp__github__list_issues": 100.0, "mcp__notebooklm-mcp__notebook_list": 100.0, "mcp__notebooklm-mcp__notebook_query": 100.0, "mcp__researchgravity__get_project_research": 100.0, "mcp__researchgravity__get_research_index": 100.0, "mcp__researchgravity__get_session_stats": 100.0, "mcp__researchgravity__list_projects": 100.0, "mcp__researchgravity__select_context_packs": 100.0, "mcp__supabase__apply_migration": 100.0, "mcp__supabase__deploy_edge_function": 100.0, "mcp__supabase__execute_sql": 100.0, "mcp__supabase__get_advisors": 100.0, "mcp__supabase__get_logs": 100.0, "mcp__supabase__get_project_url": 100.0, "mcp__supabase__get_publishable_keys": 100.0, "mcp__supabase__list_edge_functions": 100.0, "mcp__supabase__list_migrations": 100.0, "mcp__supabase__list_tables": 100.0, "mcp__supabase__search_docs": 100.0, "unknown": 100.0}, "daily": [{"date": "2026-01-09", "count": 739}, {"date": "2026-01-10", "count": 135}, {"date": "2026-01-11", "count": 101}, {"date": "2026-01-12", "count": 548}, {"date": "2026-01-13", "count": 1252}, {"date": "2026-01-14", "count": 2339}, {"date": "2026-01-15", "count": 1416}, {"date": "2026-01-16", "count": 3056}, {"date": "2026-01-17", "count": 3936}, {"date": "2026-01-18", "count": 2800}, {"date": "2026-01-19", "count": 8742}, {"date": "2026-01-20", "count": 2756}, {"date": "2026-01-21", "count": 8645}, {"date": "2026-01-22", "count": 3200}, {"date": "2026-01-23", "count": 6908}, {"date": "2026-01-24", "count": 5443}, {"date": "2026-01-25", "count": 231}, {"date": "2026-01-26", "count": 5881}, {"date": "2026-01-27", "count": 1196}, {"date": "2026-01-28", "count": 838}, {"date": "2026-01-29", "count": 0}, {"date": "2026-01-30", "count": 0}, {"date": "2026-01-31", "count": 1769}, {"date": "2026-02-01", "count": 6830}, {"date": "2026-02-02", "count": 326}, {"date": "2026-02-03", "count": 2136}, {"date": "2026-02-04", "count": 2060}, {"date": "2026-02-05", "count": 780}, {"date": "2026-02-06", "count": 1858}, {"date": "2026-02-07", "count": 5566}, {"date": "2026-02-08", "count": 3459}, {"date": "2026-02-09", "count": 5982}, {"date": "2026-02-10", "count": 1750}, {"date": "2026-02-11", "count": 1526}, {"date": "2026-02-12", "count": 6685}], "topTools": [{"tool": "Bash", "count": 38803}, {"tool": "Read", "count": 27656}, {"tool": "Edit", "count": 12925}, {"tool": "Grep", "count": 5159}, {"tool": "Write", "count": 4373}, {"tool": "Glob", "count": 3910}, {"tool": "TodoWrite", "count": 2107}, {"tool": "WebSearch", "count": 1489}, {"tool": "Task", "count": 1415}, {"tool": "WebFetch", "count": 974}], "totalFailures": 0, "failurePatterns": []};
    const GIT_ACTIVITY_DATA = {"commits": [{"id": 386, "timestamp": 1770937435, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "1c718110", "message": "UCW Chrome Extension v0.3.0: full capture pipeline with 60 tests", "files_changed": 18, "additions": null, "deletions": null, "author": null}, {"id": 385, "timestamp": 1770935473, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "0020eb15", "message": "Wire arc detection into daemon as periodic background task", "files_changed": 1, "additions": null, "deletions": null, "author": null}, {"id": 384, "timestamp": 1770935319, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "09cf8dd9", "message": "Set hnsw.ef_search=100 per-connection for better similarity recall", "files_changed": 2, "additions": null, "deletions": null, "author": null}, {"id": 383, "timestamp": 1770929068, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "34397af2", "message": "Phase 2B/2C: FSRS insight notifier, daemon KG extraction, review-due CLI", "files_changed": 4, "additions": null, "deletions": null, "author": null}, {"id": 382, "timestamp": 1770927790, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "9fbf1921", "message": "Phase 2A: Drop duplicate HNSW index (595MB), sync schema with production", "files_changed": 3, "additions": null, "deletions": null, "author": null}, {"id": 381, "timestamp": 1770927365, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "e0857f8f", "message": "Add webhook capture server, Chrome extension plan, and cognitive profile", "files_changed": 18, "additions": null, "deletions": null, "author": null}, {"id": 380, "timestamp": 1770926642, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "16a58a74", "message": "Add NotebookLM cookie persistence and fix context pack null-safety", "files_changed": 4, "additions": null, "deletions": null, "author": null}, {"id": 379, "timestamp": 1770917347, "event_type": "commit", "repo": "CareerCoachAntigravity", "branch": "main", "commit_hash": "a033b4d0", "message": "Update Next.js version from 15 to 16 in CLAUDE.md", "files_changed": 1, "additions": null, "deletions": null, "author": null}, {"id": 378, "timestamp": 1770917346, "event_type": "commit", "repo": "meta-vengine", "branch": "main", "commit_hash": "374a0450", "message": "Replace stale global config copy with project-specific CLAUDE.md", "files_changed": 1, "additions": null, "deletions": null, "author": null}, {"id": 377, "timestamp": 1770914437, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "043cab71", "message": "Fix MCP server name collision and PostgreSQL session key conflicts", "files_changed": 5, "additions": null, "deletions": null, "author": null}, {"id": 376, "timestamp": 1770877533, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "50fda642", "message": "Fix notebooklm MCP server transport API mismatch preventing connection", "files_changed": 11, "additions": null, "deletions": null, "author": null}, {"id": 375, "timestamp": 1770875483, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "73b74180", "message": "Phase 8 complete: Deep Cognitive Substrate + Chrome Extension", "files_changed": 18, "additions": null, "deletions": null, "author": null}, {"id": 374, "timestamp": 1770874746, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "777c0591", "message": "Update beads tracker state", "files_changed": 1, "additions": null, "deletions": null, "author": null}, {"id": 373, "timestamp": 1770874714, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "9866726d", "message": "UCW Phase 8.4b: Wire emergence listener into daemon + alerts", "files_changed": 3, "additions": null, "deletions": null, "author": null}, {"id": 372, "timestamp": 1770874637, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "e96be03b", "message": "UCW Phase 8.4: Emergence Listener \u2014 breakthrough detection", "files_changed": 3, "additions": null, "deletions": null, "author": null}, {"id": 371, "timestamp": 1770874466, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "fb073d31", "message": "UCW Phase 8.3: Session-level coherence + insight backfill", "files_changed": 4, "additions": null, "deletions": null, "author": null}, {"id": 370, "timestamp": 1770874257, "event_type": "commit", "repo": "researchgravity", "branch": "main", "commit_hash": "f6b43a9a", "message": "UCW Phase 8.1-8.2: Deep Cognitive Substrate foundation", "files_changed": 15, "additions": null, "deletions": null, "author": null}, {"id": 366, "timestamp": 1770803659, "event_type": "commit", "repo": "dicoangelo.metaventions", "branch": "main", "commit_hash": "12e5066", "message": "Dico Angelo", "files_changed": 2, "additions": 129, "deletions": 176, "author": "fix: smooth voice orb animation, remove static/jitter effects"}, {"id": 367, "timestamp": 1770801971, "event_type": "commit", "repo": "dicoangelo.metaventions", "branch": "main", "commit_hash": "bc7294c", "message": "Dico Angelo", "files_changed": 2, "additions": 14, "deletions": 2, "author": "fix: prevent keyboard shortcuts from firing in chat input"}, {"id": 368, "timestamp": 1770800351, "event_type": "commit", "repo": "dicoangelo.metaventions", "branch": "main", "commit_hash": "6615d41", "message": "Dico Angelo", "files_changed": 1, "additions": 4, "deletions": 3, "author": "fix: remove duplicate ProjectsSection from homepage"}], "stats": {"total": 100, "today": 17, "week": 55, "insertions": 383, "deletions": 274}, "byRepo": {"researchgravity": 48, "CareerCoachAntigravity": 34, "meta-vengine": 5, "dicoangelo.metaventions": 4, "Blackamethyst-ai-profile": 1, "Dicoangelo": 2, "The-Decosystem": 2, "Metaventions-AI-Landing": 2, "career-coach-mvp": 2}, "byDay": [{"date": "2026-02-12", "count": 17}, {"date": "2026-02-11", "count": 4}, {"date": "2026-02-09", "count": 13}, {"date": "2026-02-08", "count": 1}, {"date": "2026-02-07", "count": 20}, {"date": "2026-02-01", "count": 29}, {"date": "2026-01-31", "count": 25}, {"date": "2026-01-29", "count": 2}, {"date": "2026-01-28", "count": 2}, {"date": "2026-01-26", "count": 69}, {"date": "2026-01-25", "count": 23}, {"date": "2026-01-24", "count": 46}, {"date": "2026-01-23", "count": 44}, {"date": "2026-01-22", "count": 18}, {"date": "2026-01-21", "count": 29}, {"date": "2026-01-20", "count": 11}, {"date": "2026-01-19", "count": 7}, {"date": "2026-01-18", "count": 11}, {"date": "2026-01-17", "count": 15}], "topAuthors": [{"author": "Dico Angelo", "commits": 22}, {"author": "fix: update resume, role positioning, and metrics across site", "commits": 1}, {"author": "fix: smooth voice orb animation, remove static/jitter effects", "commits": 1}, {"author": "fix: remove duplicate ProjectsSection from homepage", "commits": 1}, {"author": "fix: prevent keyboard shortcuts from firing in chat input", "commits": 1}]};

    function formatNumber(n) {
      if (n >= 1000000000) return (n / 1000000000).toFixed(1) + 'B';
      if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
      if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
      return n?.toString() || '0';
    }

    function formatCost(n) {
      if (n >= 1000) return '$' + (n / 1000).toFixed(1) + 'K';
      if (n >= 1) return '$' + n.toFixed(2);
      return '$' + n.toFixed(4);
    }

    // Proactive suggestion executor
    function executeSuggestion(type, value) {
      const msg = `Suggestion: ${type} - ${value}\n\nTo use this suggestion:\n`;
      switch(type) {
        case 'skill':
          alert(msg + `Run this in Claude: ${value}`);
          break;
        case 'command':
          alert(msg + `Run in terminal: ${value}`);
          break;
        case 'model':
          alert(msg + `Switch to ${value} model for this task`);
          break;
        case 'memory':
          alert(msg + `Query memory for: ${value}`);
          break;
        default:
          alert(msg + value);
      }
    }

    function init() {
      // Stats row
      const days = STATS_DATA.dailyActivity?.length || 1;
      const totalTools = STATS_DATA.dailyActivity?.reduce((s, d) => s + d.toolCallCount, 0) || 0;
      const avgPerDay = Math.round((STATS_DATA.totalMessages || 0) / days);

      // Calculate week-over-week trends from dailyActivity
      const calculateWeekTrend = (metric) => {
        const daily = STATS_DATA.dailyActivity || [];
        if (daily.length < 8) return null;

        // Last 7 days vs previous 7 days
        const thisWeek = daily.slice(-7);
        const lastWeek = daily.slice(-14, -7);

        if (lastWeek.length < 7) return null;

        const thisSum = thisWeek.reduce((s, d) => s + (d[metric] || 0), 0);
        const lastSum = lastWeek.reduce((s, d) => s + (d[metric] || 0), 0);

        if (lastSum === 0) return { value: null, label: '' };
        const change = ((thisSum - lastSum) / lastSum * 100);
        return {
          value: change >= 0 ? `+${change.toFixed(0)}%` : `${change.toFixed(0)}%`,
          label: 'vs last wk',
          up: change >= 0
        };
      };

      const roiMultiplier = SUBSCRIPTION_DATA?.multiplier || 0;
      const sessionTrend = calculateWeekTrend('sessionCount');
      const messageTrend = calculateWeekTrend('messageCount');
      const toolTrend = calculateWeekTrend('toolCallCount');

      // Get longest session info
      const longest = STATS_DATA.longestSession || {};
      const longestLabel = longest.messageCount > 0 ? `${longest.messageCount} msgs` : '‚Äî';

      const stats = [
        { icon: 'üìä', value: STATS_DATA.totalSessions || 0, label: 'Sessions', trend: sessionTrend?.value, trendLabel: sessionTrend?.label, up: sessionTrend?.up },
        { icon: 'üí¨', value: STATS_DATA.totalMessages || 0, label: 'Messages', trend: messageTrend?.value, trendLabel: messageTrend?.label, up: messageTrend?.up },
        { icon: 'üîß', value: totalTools, label: 'Tool Calls', trend: toolTrend?.value, trendLabel: toolTrend?.label, up: toolTrend?.up },
        { icon: 'üìà', value: avgPerDay, label: 'Avg/Day', trend: null },
        { icon: 'üí∞', value: roiMultiplier + 'x', label: 'ROI', trend: roiMultiplier > 50 ? 'üî•' : null, up: true, raw: true },
        { icon: '‚è±Ô∏è', value: longestLabel, label: 'Longest Session', trend: null, raw: true },
      ];

      document.getElementById('statsRow').innerHTML = stats.map(s => `
        <div class="stat-card">
          <div class="icon">${s.icon}</div>
          <div class="value">${s.raw ? s.value : formatNumber(s.value)}</div>
          <div class="label">${s.label}</div>
          ${s.trend ? `<div class="trend ${s.up ? 'up' : 'down'}">${s.trend}${s.trendLabel ? ` <span style="font-size:0.7em;opacity:0.7">${s.trendLabel}</span>` : ''}</div>` : ''}
        </div>
      `).join('');

      // Proactive suggestions (Phase 4 - ProactiveVA)
      if (PROACTIVE_DATA.hasContext && PROACTIVE_DATA.suggestions?.length > 0) {
        const panel = document.getElementById('proactivePanel');
        const pattern = PROACTIVE_DATA.topPattern || {};

        document.getElementById('proactiveIcon').textContent = pattern.icon || 'üéØ';
        document.getElementById('proactiveTitle').textContent = 'Proactive Suggestions';
        document.getElementById('proactivePattern').textContent = pattern.name || 'Pattern Detected';
        document.getElementById('proactiveContext').textContent =
          `Based on your recent activity, you appear to be in a ${pattern.name || 'focused'} session.`;

        document.getElementById('proactiveSuggestions').innerHTML =
          PROACTIVE_DATA.suggestions.slice(0, 4).map(s => `
            <div class="suggestion-item" onclick="executeSuggestion('${s.type}', '${s.value}')">
              <div class="suggestion-type">${s.type}</div>
              <div class="suggestion-label">${s.label}</div>
              <div class="suggestion-desc">${s.desc}</div>
            </div>
          `).join('');

        panel.style.display = 'block';
      }

      // Session Window Panel
      if (SESSION_WINDOW_DATA) {
        const sw = SESSION_WINDOW_DATA;
        const position = sw.window?.positionPercent || 0;
        const remaining = sw.window?.remainingMinutes || 0;
        const tier = sw.capacity?.tier || 'UNKNOWN';
        const capacity = sw.capacity?.remaining || {};
        const budget = sw.budget?.utilizationPercent || 0;
        const queueCount = sw.queue?.pending || 0;

        // Update progress bar
        document.getElementById('sessionProgressFill').style.width = position + '%';
        document.getElementById('sessionPosition').textContent = position + '%';

        // Update remaining time
        const hours = Math.floor(remaining / 60);
        const mins = remaining % 60;
        document.getElementById('sessionRemaining').textContent = hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;

        // Update capacity stats
        document.getElementById('sessionOpus').textContent = capacity.opus || 0;
        document.getElementById('sessionSonnet').textContent = capacity.sonnet || 0;
        document.getElementById('sessionHaiku').textContent = capacity.haiku || 0;
        document.getElementById('sessionBudget').textContent = budget + '%';
        document.getElementById('sessionQueue').textContent = queueCount;

        // Update tier badge
        const tierBadge = document.getElementById('sessionTierBadge');
        tierBadge.textContent = tier;
        tierBadge.className = 'card-badge tier-' + tier.toLowerCase();

        // Update recommendations
        const recs = sw.recommendations || [];
        if (recs.length > 0) {
          document.getElementById('sessionRecommendations').innerHTML = recs.slice(0, 3).map(r =>
            `<span class="session-rec">${r}</span>`
          ).join('');
        }
      }

      // Token breakdown
      const modelData = Object.values(STATS_DATA.modelUsage || {})[0] || {};
      const tokens = [
        { label: 'Output', value: modelData.outputTokens || 0, color: 'var(--accent-red)' },
        { label: 'Input', value: modelData.inputTokens || 0, color: 'var(--accent-orange)' },
        { label: 'Cache Read', value: modelData.cacheReadInputTokens || 0, color: 'var(--accent-yellow)' },
        { label: 'Cache Create', value: modelData.cacheCreationInputTokens || 0, color: 'var(--accent-cyan)' }
      ];
      document.getElementById('tokenBreakdown').innerHTML = tokens.map(t => `
        <div class="token-item">
          <div class="value" style="color: ${t.color}">${formatNumber(t.value)}</div>
          <div class="label">${t.label}</div>
        </div>
      `).join('');

      // Charts
      Chart.defaults.color = '#888';
      Chart.defaults.borderColor = 'rgba(255,255,255,0.05)';
      Chart.defaults.font.family = 'Inter';

      const chartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        layout: {
          padding: { left: 10, right: 10, top: 10, bottom: 10 }
        },
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { display: false }, ticks: { maxRotation: 0, autoSkip: true } },
          y: {
            beginAtZero: true,
            grid: { color: 'rgba(255,255,255,0.05)' },
            ticks: {
              padding: 8,
              callback: function(value) {
                if (value >= 1000000) return (value / 1000000).toFixed(1) + 'M';
                if (value >= 1000) return (value / 1000).toFixed(0) + 'K';
                return value;
              }
            }
          }
        }
      };

      if (STATS_DATA.dailyActivity?.length) {
        const labels = STATS_DATA.dailyActivity.map(d => d.date.slice(5));

        new Chart(document.getElementById('messagesChart'), {
          type: 'bar',
          data: {
            labels,
            datasets: [{
              data: STATS_DATA.dailyActivity.map(d => d.messageCount),
              backgroundColor: 'rgba(233,69,96,0.8)',
              borderRadius: 8,
              borderSkipped: false
            }]
          },
          options: chartOptions
        });

        new Chart(document.getElementById('toolsChart'), {
          type: 'bar',
          data: {
            labels,
            datasets: [{
              data: STATS_DATA.dailyActivity.map(d => d.toolCallCount),
              backgroundColor: 'rgba(254,202,87,0.8)',
              borderRadius: 8,
              borderSkipped: false
            }]
          },
          options: chartOptions
        });
      }

      if (STATS_DATA.dailyModelTokens?.length) {
        new Chart(document.getElementById('tokensChart'), {
          type: 'line',
          data: {
            labels: STATS_DATA.dailyModelTokens.map(d => d.date.slice(5)),
            datasets: [{
              data: STATS_DATA.dailyModelTokens.map(d => Object.values(d.tokensByModel).reduce((a, b) => a + b, 0)),
              borderColor: 'rgba(72,219,251,1)',
              backgroundColor: 'rgba(72,219,251,0.1)',
              fill: true,
              tension: 0.4,
              pointRadius: 6,
              pointBackgroundColor: 'rgba(72,219,251,1)'
            }]
          },
          options: chartOptions
        });
      }

      // Hour chart
      const hourData = Array(24).fill(0);
      Object.entries(STATS_DATA.hourCounts || {}).forEach(([h, c]) => hourData[parseInt(h)] = c);
      const maxHour = Math.max(...hourData);

      new Chart(document.getElementById('hourChart'), {
        type: 'bar',
        data: {
          labels: Array.from({length: 24}, (_, i) => i + 'h'),
          datasets: [{
            data: hourData,
            backgroundColor: hourData.map(v => `rgba(233,69,96,${0.2 + (v/maxHour)*0.8})`),
            borderRadius: 4,
            borderSkipped: false
          }]
        },
        options: chartOptions
      });

      // Memory tab
      {
        const facts = MEMORY_DATA.facts || [];
        const decisions = MEMORY_DATA.decisions || [];
        const patterns = MEMORY_DATA.patterns || [];
        const memProjects = MEMORY_DATA.projects || {};
        const allItems = [...facts, ...decisions, ...patterns];

        // Stat cards
        const nFacts = facts.length, nDec = decisions.length, nPat = patterns.length, nProj = Object.keys(memProjects).length;
        document.getElementById('memTotalItems').textContent = (nFacts + nDec + nPat).toLocaleString();
        document.getElementById('memFactCount').textContent = nFacts;
        document.getElementById('memDecisionCount').textContent = nDec;
        document.getElementById('memPatternCount').textContent = nPat;
        document.getElementById('memProjectCount').textContent = nProj;

        // Compute all tags
        const tagCounts = {};
        const tagsByType = { facts: {}, decisions: {}, patterns: {} };
        const countTags = (items, type) => {
          items.forEach(item => {
            (item.tags || []).forEach(t => {
              tagCounts[t] = (tagCounts[t] || 0) + 1;
              tagsByType[type][t] = (tagsByType[type][t] || 0) + 1;
            });
          });
        };
        countTags(facts, 'facts');
        countTags(decisions, 'decisions');
        countTags(patterns, 'patterns');
        const uniqueTags = Object.keys(tagCounts).length;
        document.getElementById('memTagCount').textContent = uniqueTags;

        // --- Chart 1: Knowledge Distribution (doughnut) ---
        if (nFacts + nDec + nPat > 0) {
          new Chart(document.getElementById('memDistChart'), {
            type: 'doughnut',
            data: {
              labels: ['Facts', 'Decisions', 'Patterns'],
              datasets: [{
                data: [nFacts, nDec, nPat],
                backgroundColor: ['rgba(72,219,251,0.8)', 'rgba(177,78,255,0.8)', 'rgba(255,204,0,0.8)'],
                borderWidth: 0
              }]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              plugins: {
                legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } },
                tooltip: { callbacks: { label: ctx => {
                  const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                  return ` ${ctx.label}: ${ctx.raw} (${(ctx.raw / total * 100).toFixed(1)}%)`;
                }}}
              }
            }
          });
          document.getElementById('memDistBadge').textContent = (nFacts + nDec + nPat) + ' items';
        }

        // --- Chart 2: Top Tags (horizontal bar) ---
        const sortedTags = Object.entries(tagCounts).sort((a, b) => b[1] - a[1]).slice(0, 12);
        if (sortedTags.length > 0) {
          const tagColors = ['rgba(72,219,251,0.7)', 'rgba(0,255,136,0.7)', 'rgba(177,78,255,0.7)', 'rgba(255,204,0,0.7)', 'rgba(233,69,96,0.7)', 'rgba(255,152,0,0.7)', 'rgba(100,181,246,0.7)', 'rgba(174,213,129,0.7)', 'rgba(255,112,67,0.7)', 'rgba(77,208,225,0.7)', 'rgba(156,39,176,0.7)', 'rgba(139,195,74,0.7)'];
          new Chart(document.getElementById('memTagChart'), {
            type: 'bar',
            data: {
              labels: sortedTags.map(([t]) => t),
              datasets: [{
                label: 'Count',
                data: sortedTags.map(([, c]) => c),
                backgroundColor: sortedTags.map((_, i) => tagColors[i % tagColors.length]),
                borderRadius: 4
              }]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: false } },
              scales: {
                x: { beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)', stepSize: 5 }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 11 } }, grid: { display: false } }
              }
            }
          });
          document.getElementById('memTagBadge').textContent = uniqueTags + ' unique';
        }

        // --- Chart 3: Knowledge Growth (grouped bar by month) ---
        const monthlyGrowth = {};
        const addToMonth = (items, type) => {
          items.forEach(item => {
            const m = (item.timestamp || '').substring(0, 7);
            if (m) {
              if (!monthlyGrowth[m]) monthlyGrowth[m] = { facts: 0, decisions: 0, patterns: 0 };
              monthlyGrowth[m][type]++;
            }
          });
        };
        addToMonth(facts, 'facts');
        addToMonth(decisions, 'decisions');
        addToMonth(patterns, 'patterns');
        const months = Object.keys(monthlyGrowth).sort();
        if (months.length > 0) {
          new Chart(document.getElementById('memGrowthChart'), {
            type: 'bar',
            data: {
              labels: months,
              datasets: [
                { label: 'Facts', data: months.map(m => monthlyGrowth[m].facts), backgroundColor: 'rgba(72,219,251,0.8)' },
                { label: 'Decisions', data: months.map(m => monthlyGrowth[m].decisions), backgroundColor: 'rgba(177,78,255,0.8)' },
                { label: 'Patterns', data: months.map(m => monthlyGrowth[m].patterns), backgroundColor: 'rgba(255,204,0,0.8)' }
              ]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              scales: {
                x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { display: false } },
                y: { stacked: true, beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
              },
              plugins: { legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } } }
            }
          });
          document.getElementById('memGrowthBadge').textContent = months.length + ' months';
        }

        // --- Chart 4: Tags by Knowledge Type (stacked horizontal bar) ---
        const topTagNames = sortedTags.slice(0, 8).map(([t]) => t);
        if (topTagNames.length > 0) {
          new Chart(document.getElementById('memTagTypeChart'), {
            type: 'bar',
            data: {
              labels: topTagNames,
              datasets: [
                { label: 'Facts', data: topTagNames.map(t => tagsByType.facts[t] || 0), backgroundColor: 'rgba(72,219,251,0.8)' },
                { label: 'Decisions', data: topTagNames.map(t => tagsByType.decisions[t] || 0), backgroundColor: 'rgba(177,78,255,0.8)' },
                { label: 'Patterns', data: topTagNames.map(t => tagsByType.patterns[t] || 0), backgroundColor: 'rgba(255,204,0,0.8)' }
              ]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              scales: {
                x: { stacked: true, beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)', stepSize: 5 }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { stacked: true, ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 11 } }, grid: { display: false } }
              },
              plugins: { legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } } }
            }
          });
        }

        // --- Render item lists (enhanced with tag colors) ---
        const tagColorMap = { usage: '#48dbfb', patterns: '#ffcc00', history: '#b14eff', research: '#00ff88', ucw: '#ff6b6b', architecture: '#ff9f43', infrastructure: '#a29bfe', dashboard: '#ffeaa7', workflow: '#55efc4', data: '#74b9ff' };
        const renderMemoryItems = (items, containerId, countId, typeColor) => {
          const container = document.getElementById(containerId);
          document.getElementById(countId).textContent = items?.length || 0;
          if (!items?.length) { container.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No items yet</p>'; return; }
          const sorted = [...items].sort((a, b) => new Date(b.timestamp || 0) - new Date(a.timestamp || 0));
          container.innerHTML = sorted.map(item => `
            <div class="memory-item" style="border-left:3px solid ${typeColor};padding:0.75rem;margin-bottom:0.5rem;background:var(--bg-glass);border-radius:6px;">
              <div class="content" style="color:var(--text-primary);font-size:0.85rem;line-height:1.4;">${item.content}</div>
              <div class="meta" style="display:flex;justify-content:space-between;align-items:center;margin-top:0.4rem;">
                <span class="time" style="color:var(--text-muted);font-size:0.7rem;">${item.timestamp ? new Date(item.timestamp).toLocaleDateString() : ''}</span>
                <div class="tags" style="display:flex;gap:4px;flex-wrap:wrap;">
                  ${(item.tags || []).map(t => `<span style="background:${(tagColorMap[t] || '#888')}22;color:${tagColorMap[t] || '#888'};padding:1px 6px;border-radius:3px;font-size:0.65rem;">${t}</span>`).join('')}
                </div>
              </div>
            </div>
          `).join('');
        };

        renderMemoryItems(decisions, 'memoryDecisions', 'decisionCount', '#b14eff');
        renderMemoryItems(facts, 'memoryFacts', 'factCount', '#48dbfb');
        renderMemoryItems(patterns, 'memoryPatterns', 'patternCount', '#ffcc00');

        // Project context
        document.getElementById('projectMemCount').textContent = nProj;
        const projectsContainer = document.getElementById('memoryProjects');
        if (nProj > 0) {
          projectsContainer.innerHTML = Object.entries(memProjects).map(([key, val]) => `
            <div class="memory-item" style="border-left:3px solid #00ff88;padding:0.75rem;margin-bottom:0.5rem;background:var(--bg-glass);border-radius:6px;">
              <div class="content" style="color:var(--text-primary);font-size:0.85rem;line-height:1.4;"><strong style="color:#00ff88;">${key}:</strong> ${val.content}</div>
              <div class="meta" style="display:flex;justify-content:space-between;align-items:center;margin-top:0.4rem;">
                <span style="color:var(--text-muted);font-size:0.7rem;">${val.timestamp ? new Date(val.timestamp).toLocaleDateString() : ''}</span>
                <div style="display:flex;gap:4px;flex-wrap:wrap;">
                  ${(val.tags || []).map(t => `<span style="background:${(tagColorMap[t] || '#888')}22;color:${tagColorMap[t] || '#888'};padding:1px 6px;border-radius:3px;font-size:0.65rem;">${t}</span>`).join('')}
                </div>
              </div>
            </div>
          `).join('');
        } else {
          projectsContainer.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No project context yet</p>';
        }

        // Memory filter search
        document.getElementById('memorySearch').addEventListener('input', (e) => {
          const query = e.target.value.toLowerCase();
          document.querySelectorAll('.memory-item').forEach(item => {
            const content = item.textContent.toLowerCase();
            item.style.display = content.includes(query) ? '' : 'none';
          });
        });

        // --- Interactive Memory Chat ---
        const memChatMessages = document.getElementById('memChatMessages');
        const memChatInput = document.getElementById('memChatInput');
        const memChatSend = document.getElementById('memChatSend');
        const memChatSource = document.getElementById('memChatSource');

        // Update badge with total searchable count
        fetch('http://localhost:8766/api/memory/stats')
          .then(r => r.json())
          .then(stats => {
            const total = stats.total_searchable || 0;
            document.getElementById('memChatBadge').textContent = total.toLocaleString() + ' searchable';
          })
          .catch(() => {});

        const srcColors = {
          knowledge: '#48dbfb', supermemory: '#a29bfe',
          sessions: '#00ff88', error_pattern: '#ff6b6b'
        };
        const catColors = {
          facts: '#48dbfb', decisions: '#b14eff', patterns: '#ffcc00',
          learning: '#55efc4', memory: '#a29bfe', error_pattern: '#ff6b6b',
          session: '#00ff88', routing: '#ff9f43'
        };

        function addChatMessage(type, content) {
          const div = document.createElement('div');
          div.style.cssText = type === 'user'
            ? 'align-self:flex-end;background:rgba(108,92,231,0.2);border:1px solid rgba(108,92,231,0.3);border-radius:12px 12px 2px 12px;padding:0.6rem 0.8rem;max-width:80%;font-size:0.85rem;color:var(--text-primary);'
            : 'align-self:flex-start;max-width:100%;';
          div.innerHTML = content;
          memChatMessages.appendChild(div);
          memChatMessages.scrollTop = memChatMessages.scrollHeight;
          return div;
        }

        function renderResults(data) {
          const results = data.results || [];
          const summary = data.summary || {};
          if (results.length === 0) {
            return '<div style="color:var(--text-muted);font-size:0.85rem;padding:0.5rem;">No results found. Try different keywords or broader terms.</div>';
          }

          let html = '<div style="display:flex;gap:0.4rem;margin-bottom:0.5rem;flex-wrap:wrap;">';
          html += `<span style="background:rgba(255,255,255,0.06);color:var(--text-muted);padding:2px 8px;border-radius:4px;font-size:0.7rem;">${summary.total || results.length} results</span>`;
          for (const [src, cnt] of Object.entries(summary.by_source || {})) {
            if (cnt > 0) {
              html += `<span style="background:${(srcColors[src] || '#888')}22;color:${srcColors[src] || '#888'};padding:2px 8px;border-radius:4px;font-size:0.7rem;">${src}: ${cnt}</span>`;
            }
          }
          html += '</div>';

          html += '<div style="display:flex;flex-direction:column;gap:0.4rem;">';
          for (const r of results) {
            const srcColor = srcColors[r.source] || '#888';
            const catColor = catColors[r.category] || srcColor;
            const sim = r.similarity ? (r.similarity * 100).toFixed(0) + '%' : '';
            const content = (r.content || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            const tags = Array.isArray(r.tags) ? r.tags : [];
            const tagHtml = tags.map(t => `<span style="background:${(tagColorMap[t] || '#888')}22;color:${tagColorMap[t] || '#888'};padding:1px 5px;border-radius:3px;font-size:0.6rem;">${t}</span>`).join('');

            html += `<div style="border-left:3px solid ${catColor};padding:0.5rem 0.6rem;background:var(--bg-glass);border-radius:4px;font-size:0.8rem;">`;
            html += `<div style="display:flex;gap:0.3rem;margin-bottom:0.3rem;align-items:center;">`;
            html += `<span style="background:${srcColor}22;color:${srcColor};padding:1px 6px;border-radius:3px;font-size:0.65rem;font-weight:600;">${r.source}</span>`;
            html += `<span style="background:${catColor}22;color:${catColor};padding:1px 6px;border-radius:3px;font-size:0.65rem;">${r.category}</span>`;
            if (sim) html += `<span style="color:var(--text-muted);font-size:0.65rem;margin-left:auto;">${sim} ${r.search_type || ''}</span>`;
            html += '</div>';
            html += `<div style="color:var(--text-primary);line-height:1.4;">${content}</div>`;
            if (tagHtml) html += `<div style="display:flex;gap:3px;flex-wrap:wrap;margin-top:0.3rem;">${tagHtml}</div>`;
            html += '</div>';
          }
          html += '</div>';
          return html;
        }

        async function sendMemoryQuery() {
          const query = memChatInput.value.trim();
          if (!query) return;

          memChatInput.value = '';
          addChatMessage('user', query.replace(/</g, '&lt;'));

          const loadingDiv = addChatMessage('system', '<div style="color:var(--text-muted);font-size:0.8rem;padding:0.4rem;">Searching...</div>');

          try {
            const source = memChatSource.value;
            const resp = await fetch('http://localhost:8766/api/memory/query', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ query, source, limit: 10 })
            });
            const data = await resp.json();
            loadingDiv.innerHTML = renderResults(data);
          } catch (err) {
            loadingDiv.innerHTML = `<div style="color:#ff6b6b;font-size:0.8rem;padding:0.4rem;">API unavailable. Start the server: <code style="background:rgba(255,255,255,0.06);padding:2px 6px;border-radius:3px;">python3 ~/.claude/scripts/ccc-api-server.py</code></div>`;
          }
          memChatMessages.scrollTop = memChatMessages.scrollHeight;
        }

        memChatSend.addEventListener('click', sendMemoryQuery);
        memChatInput.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMemoryQuery(); }
        });
      }

      // Activity tab
      const activityLog = document.getElementById('activityLog');
      document.getElementById('activityCount').textContent = ACTIVITY_DATA.length + ' entries';

      activityLog.innerHTML = ACTIVITY_DATA.slice().reverse().map(line => {
        if (line.includes('SESSION')) {
          return `<div class="activity-item"><span class="type session">SESSION</span><span class="detail">${line}</span></div>`;
        }
        const match = line.match(/^(\d{2}:\d{2}:\d{2})\s+(\w+)\s*(.*)?$/);
        if (match) {
          const [, time, type, detail] = match;
          return `<div class="activity-item">
            <span class="time">${time}</span>
            <span class="type ${type.toLowerCase()}">${type}</span>
            <span class="detail">${detail || ''}</span>
          </div>`;
        }
        return `<div class="activity-item"><span class="detail">${line}</span></div>`;
      }).join('');

      // Activity stats ‚Äî all-time from SQLite tool_events
      const dailyAct = DAILY_ACTIVITY_DATA || {};
      const allTime = dailyAct.allTime || {};
      document.getElementById('todayActions').textContent = formatNumber(allTime.total || 0);
      document.getElementById('todayWrites').textContent = formatNumber(allTime.writes || 0);
      document.getElementById('todayEdits').textContent = formatNumber(allTime.edits || 0);
      document.getElementById('todayBash').textContent = formatNumber(allTime.bash || 0);

      // Daily Tool Activity Chart (stacked bar ‚Äî Bash, Write, Edit, Read over time)
      const dailyToolData = dailyAct.daily || [];
      if (dailyToolData.length) {
        document.getElementById('toolDaysCount').textContent = dailyToolData.length + ' days';
        new Chart(document.getElementById('dailyToolActivityChart'), {
          type: 'bar',
          data: {
            labels: dailyToolData.map(d => d.date.slice(5)),
            datasets: [
              { label: 'Bash', data: dailyToolData.map(d => d.bash), backgroundColor: 'rgba(233,69,96,0.8)', borderRadius: 2 },
              { label: 'Read', data: dailyToolData.map(d => d.reads), backgroundColor: 'rgba(72,219,251,0.8)', borderRadius: 2 },
              { label: 'Edit', data: dailyToolData.map(d => d.edits), backgroundColor: 'rgba(254,202,87,0.8)', borderRadius: 2 },
              { label: 'Write', data: dailyToolData.map(d => d.writes), backgroundColor: 'rgba(0,230,118,0.8)', borderRadius: 2 }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#888', boxWidth: 12 } } },
            scales: {
              x: { stacked: true, ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } },
              y: { stacked: true, ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });
      }

      // Tool Breakdown Chart (horizontal bar ‚Äî top tools)
      const toolUsage = TOOL_USAGE_DATA || {};
      const byTool = toolUsage.byTool || {};
      const toolNames = Object.keys(byTool).slice(0, 12);
      const toolCounts = toolNames.map(t => byTool[t]);
      if (toolNames.length) {
        document.getElementById('toolTotalCount').textContent = formatNumber(toolUsage.total || 0) + ' total';
        new Chart(document.getElementById('toolBreakdownChart'), {
          type: 'bar',
          data: {
            labels: toolNames,
            datasets: [{
              data: toolCounts,
              backgroundColor: toolNames.map((_, i) => {
                const colors = ['rgba(233,69,96,0.8)','rgba(72,219,251,0.8)','rgba(254,202,87,0.8)','rgba(0,230,118,0.8)','rgba(155,89,182,0.8)','rgba(243,156,18,0.8)','rgba(46,204,113,0.8)','rgba(52,152,219,0.8)','rgba(231,76,60,0.8)','rgba(26,188,156,0.8)','rgba(241,196,15,0.8)','rgba(230,126,34,0.8)'];
                return colors[i % colors.length];
              }),
              borderRadius: 4
            }]
          },
          options: {
            responsive: true, maintainAspectRatio: false, indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
              x: { ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } },
              y: { ticks: { color: '#888', font: { size: 11 } }, grid: { display: false } }
            }
          }
        });
      }

      // Heatmap
      const heatmapGrid = document.getElementById('heatmapGrid');
      heatmapGrid.innerHTML = Array.from({length: 24}, (_, i) => {
        const intensity = hourData[i] / maxHour;
        const color = `rgba(233,69,96,${0.1 + intensity * 0.9})`;
        return `<div class="heatmap-cell" style="background:${color}" data-hour="${i}h" title="${hourData[i]} sessions at ${i}:00"></div>`;
      }).join('');

      // Cost tab ‚Äî aggregate ALL models
      const mu = STATS_DATA.modelUsage || {};
      const allCacheRead = Object.values(mu).reduce((s, m) => s + (m.cacheReadInputTokens || 0), 0);
      const allInputTokens = Object.values(mu).reduce((s, m) => s + (m.inputTokens || 0), 0);
      const allOutputTokens = Object.values(mu).reduce((s, m) => s + (m.outputTokens || 0), 0);

      // Per-model API pricing (per million tokens)
      const pricing = {
        opus: { input: 15, output: 75, cacheRead: 1.50 },
        sonnet: { input: 3, output: 15, cacheRead: 0.30 },
        haiku: { input: 0.80, output: 4, cacheRead: 0.08 }
      };

      // Calculate per-model costs (API value = what you'd pay at API rates)
      const modelCosts = {};
      let totalApiValue = 0;
      let totalCacheSavings = 0;
      for (const [model, data] of Object.entries(mu)) {
        const p = pricing[model] || pricing.opus;
        const inputCost = ((data.inputTokens || 0) * p.input) / 1e6;
        const outputCost = ((data.outputTokens || 0) * p.output) / 1e6;
        const cacheReadCost = ((data.cacheReadInputTokens || 0) * p.cacheRead) / 1e6;
        // Cache savings = difference between full input price and discounted cache read price
        const cacheSaving = ((data.cacheReadInputTokens || 0) * (p.input - p.cacheRead)) / 1e6;
        modelCosts[model] = inputCost + outputCost + cacheReadCost;
        totalApiValue += inputCost + outputCost + cacheReadCost;
        totalCacheSavings += cacheSaving;
      }

      const subscriptionCost = days * (200 / 1); // $200/day
      const roiMultiplierVal = totalApiValue / Math.max(subscriptionCost, 1);

      // Hero cards
      document.getElementById('costApiValue').textContent = formatCost(totalApiValue);
      document.getElementById('costSubscription').textContent = formatCost(subscriptionCost);
      document.getElementById('costRoi').textContent = roiMultiplierVal.toFixed(1) + 'x';
      document.getElementById('costSaved').textContent = formatCost(totalCacheSavings);

      // Per-model breakdown cards
      for (const model of ['opus', 'sonnet', 'haiku']) {
        const cost = modelCosts[model] || 0;
        const pct = totalApiValue > 0 ? ((cost / totalApiValue) * 100).toFixed(1) : '0';
        document.getElementById('cost' + model.charAt(0).toUpperCase() + model.slice(1)).textContent = formatCost(cost);
        document.getElementById('cost' + model.charAt(0).toUpperCase() + model.slice(1) + 'Pct').textContent = pct + '% of total';
      }
      document.getElementById('costAvgDay').textContent = formatCost(totalApiValue / Math.max(days, 1));
      document.getElementById('costDaysCount').textContent = days + ' days tracked';

      // Cache efficiency
      const efficiency = allCacheRead / (allCacheRead + allInputTokens) * 100 || 0;
      document.getElementById('efficiencyPercent').textContent = efficiency.toFixed(1) + '%';
      document.getElementById('efficiencyFill').style.width = efficiency + '%';
      document.getElementById('cacheMissLabel').textContent = (100 - efficiency).toFixed(1) + '% Cache Miss (Paid)';
      document.getElementById('cacheHitLabel').textContent = efficiency.toFixed(1) + '% Cache Hit (Free)';
      document.getElementById('inputTokensDisplay').textContent = formatNumber(allInputTokens);
      document.getElementById('outputTokensDisplay').textContent = formatNumber(allOutputTokens);
      document.getElementById('cacheReadDisplay').textContent = formatNumber(allCacheRead);

      // Charts
      if (STATS_DATA.dailyModelTokens?.length) {
        const dmt = STATS_DATA.dailyModelTokens;
        const costLabels = dmt.map(d => d.date.slice(5));

        // Daily API Cost vs $200 subscription line
        // tokensByModel includes input+output+cache_read totals, apply blended rate per model
        const dailyCosts = dmt.map(d => {
          const m = d.tokensByModel || {};
          // Cache reads are ~95% of tokens, at $1.50/M opus, $0.30/M sonnet, $0.08/M haiku
          // Use blended rates reflecting cache-heavy usage
          return +((m.opus || 0) * 1.50 / 1e6 + (m.sonnet || 0) * 0.30 / 1e6 + (m.haiku || 0) * 0.08 / 1e6).toFixed(2);
        });

        new Chart(document.getElementById('costChart'), {
          type: 'bar',
          data: {
            labels: costLabels,
            datasets: [
              {
                label: 'API Value',
                data: dailyCosts,
                backgroundColor: 'rgba(233,69,96,0.8)',
                borderRadius: 4,
                order: 2
              },
              {
                label: '$200 Subscription',
                data: Array(dmt.length).fill(200),
                type: 'line',
                borderColor: 'rgba(0,230,118,0.8)',
                borderDash: [5, 5],
                borderWidth: 2,
                pointRadius: 0,
                fill: false,
                order: 1
              }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#888', boxWidth: 12 } } },
            scales: {
              y: { ticks: { color: '#666', callback: v => '$' + v }, grid: { color: 'rgba(255,255,255,0.05)' } },
              x: { ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } }
            }
          }
        });

        // Stacked cost by model per day (cache-weighted rates)
        new Chart(document.getElementById('modelCostChart'), {
          type: 'bar',
          data: {
            labels: costLabels,
            datasets: [
              {
                label: 'Opus',
                data: dmt.map(d => +((d.tokensByModel?.opus || 0) * 1.50 / 1e6).toFixed(2)),
                backgroundColor: 'rgba(233,69,96,0.8)',
                borderRadius: 2
              },
              {
                label: 'Sonnet',
                data: dmt.map(d => +((d.tokensByModel?.sonnet || 0) * 0.30 / 1e6).toFixed(2)),
                backgroundColor: 'rgba(72,219,251,0.8)',
                borderRadius: 2
              },
              {
                label: 'Haiku',
                data: dmt.map(d => +((d.tokensByModel?.haiku || 0) * 0.08 / 1e6).toFixed(2)),
                backgroundColor: 'rgba(254,202,87,0.8)',
                borderRadius: 2
              }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#888', boxWidth: 12 } } },
            scales: {
              x: { stacked: true, ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } },
              y: { stacked: true, ticks: { color: '#666', callback: v => '$' + v }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });

        // Token distribution doughnut ‚Äî all models
        new Chart(document.getElementById('efficiencyChart'), {
          type: 'doughnut',
          data: {
            labels: ['Cache Hit', 'Input (Paid)', 'Output'],
            datasets: [{
              data: [allCacheRead, allInputTokens, allOutputTokens],
              backgroundColor: ['rgba(74,222,128,0.8)', 'rgba(233,69,96,0.8)', 'rgba(254,202,87,0.8)'],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: {
              legend: { position: 'bottom', labels: { color: '#888' } },
              tooltip: { callbacks: { label: ctx => ctx.label + ': ' + formatNumber(ctx.raw) + ' tokens' } }
            }
          }
        });

        // Cumulative ROI chart (cache-weighted rates matching total)
        let cumApi = 0, cumSub = 0;
        const roiData = dmt.map(d => {
          const m = d.tokensByModel || {};
          cumApi += (m.opus || 0) * 1.50 / 1e6 + (m.sonnet || 0) * 0.30 / 1e6 + (m.haiku || 0) * 0.08 / 1e6;
          cumSub += 200;
          return { api: +cumApi.toFixed(0), sub: +cumSub.toFixed(0) };
        });
        document.getElementById('roiBadge').textContent = roiMultiplierVal.toFixed(1) + 'x';

        new Chart(document.getElementById('roiChart'), {
          type: 'line',
          data: {
            labels: costLabels,
            datasets: [
              {
                label: 'API Value',
                data: roiData.map(r => r.api),
                borderColor: 'rgba(233,69,96,1)',
                backgroundColor: 'rgba(233,69,96,0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: 3
              },
              {
                label: 'Subscription Cost',
                data: roiData.map(r => r.sub),
                borderColor: 'rgba(0,230,118,1)',
                backgroundColor: 'rgba(0,230,118,0.1)',
                fill: true,
                tension: 0,
                pointRadius: 0,
                borderDash: [5, 5]
              }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#888', boxWidth: 12 } } },
            scales: {
              y: { ticks: { color: '#666', callback: v => '$' + formatNumber(v) }, grid: { color: 'rgba(255,255,255,0.05)' } },
              x: { ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } }
            }
          }
        });
      }

      // Projects tab
      // --- Projects Tab: Stats + Charts + Enhanced Cards ---
      {
        const projs = PROJECTS_DATA || [];
        const totalProjects = projs.length;
        const totalCommits = projs.reduce((s, p) => s + (parseInt(p.commits) || 0), 0);
        const totalFiles = projs.reduce((s, p) => s + (parseInt(p.files) || 0), 0);
        const totalLines = projs.reduce((s, p) => s + (p.linesRaw || 0), 0);
        const activeRecent = projs.filter(p => (p.recentCommits || 0) > 0).length;
        const totalRecent = projs.reduce((s, p) => s + (p.recentCommits || 0), 0);

        // Stat cards
        document.getElementById('projectsStatsRow').innerHTML = [
          { icon: 'üìÇ', value: totalProjects, label: 'Repositories' },
          { icon: 'üìù', value: totalCommits.toLocaleString(), label: 'Total Commits' },
          { icon: 'üìÑ', value: totalFiles.toLocaleString(), label: 'Code Files' },
          { icon: 'üìè', value: totalLines > 1000 ? (totalLines/1000).toFixed(1) + 'K' : totalLines, label: 'Lines of Code' },
          { icon: 'üî•', value: activeRecent, label: 'Active (7d)' },
          { icon: '‚ö°', value: totalRecent, label: 'Recent Commits' },
        ].map(s => `
          <div class="stat-card">
            <div class="stat-value">${s.value}</div>
            <div class="stat-label">${s.label}</div>
          </div>
        `).join('');

        // Color palette for projects
        const projColors = ['rgba(233,69,96,0.8)', 'rgba(72,219,251,0.8)', 'rgba(177,78,255,0.8)', 'rgba(255,204,0,0.8)', 'rgba(0,255,136,0.8)', 'rgba(255,152,0,0.8)', 'rgba(100,181,246,0.8)', 'rgba(174,213,129,0.8)', 'rgba(255,112,67,0.8)', 'rgba(77,208,225,0.8)', 'rgba(156,39,176,0.8)', 'rgba(139,195,74,0.8)', 'rgba(255,183,77,0.8)', 'rgba(100,200,200,0.8)', 'rgba(239,83,80,0.8)', 'rgba(129,212,250,0.8)', 'rgba(186,104,200,0.8)', 'rgba(255,241,118,0.8)', 'rgba(165,214,167,0.8)', 'rgba(255,138,101,0.8)', 'rgba(128,203,196,0.8)'];

        // Chart 1: Lines of Code by Project (horizontal bar, top 10)
        const byLines = [...projs].filter(p => p.linesRaw > 0).sort((a, b) => b.linesRaw - a.linesRaw).slice(0, 10);
        if (byLines.length > 0) {
          new Chart(document.getElementById('projLinesChart'), {
            type: 'bar',
            data: {
              labels: byLines.map(p => p.name),
              datasets: [{
                data: byLines.map(p => p.linesRaw),
                backgroundColor: byLines.map((_, i) => projColors[i % projColors.length]),
                borderRadius: 4
              }]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ctx.raw.toLocaleString() + ' lines' } } },
              scales: {
                x: { beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)', callback: v => v >= 1000 ? (v/1000).toFixed(0)+'K' : v }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 11 } }, grid: { display: false } }
              }
            }
          });
          document.getElementById('projLinesBadge').textContent = byLines.length + ' projects';
        }

        // Chart 2: File Type Distribution (doughnut, aggregated)
        const allFileTypes = {};
        projs.forEach(p => {
          Object.entries(p.fileTypes || {}).forEach(([ext, cnt]) => {
            allFileTypes[ext] = (allFileTypes[ext] || 0) + cnt;
          });
        });
        const ftSorted = Object.entries(allFileTypes).sort((a, b) => b[1] - a[1]);
        if (ftSorted.length > 0) {
          const ftColors = ['rgba(72,219,251,0.8)', 'rgba(233,69,96,0.8)', 'rgba(177,78,255,0.8)', 'rgba(255,204,0,0.8)', 'rgba(0,255,136,0.8)', 'rgba(255,152,0,0.8)', 'rgba(100,181,246,0.8)', 'rgba(174,213,129,0.8)', 'rgba(255,112,67,0.8)', 'rgba(77,208,225,0.8)'];
          new Chart(document.getElementById('projFilesChart'), {
            type: 'doughnut',
            data: {
              labels: ftSorted.map(([ext]) => '.' + ext),
              datasets: [{
                data: ftSorted.map(([, c]) => c),
                backgroundColor: ftSorted.map((_, i) => ftColors[i % ftColors.length]),
                borderWidth: 0
              }]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              plugins: {
                legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 10, font: { size: 11 } } },
                tooltip: { callbacks: { label: ctx => ` .${ftSorted[ctx.dataIndex][0]}: ${ctx.raw} files` } }
              }
            }
          });
          document.getElementById('projFilesBadge').textContent = totalFiles + ' files';
        }

        // Chart 3: Recent Activity (horizontal bar, projects with commits in 7d)
        const recentActive = projs.filter(p => (p.recentCommits || 0) > 0).sort((a, b) => b.recentCommits - a.recentCommits);
        if (recentActive.length > 0) {
          new Chart(document.getElementById('projActivityChart'), {
            type: 'bar',
            data: {
              labels: recentActive.map(p => p.name),
              datasets: [{
                data: recentActive.map(p => p.recentCommits),
                backgroundColor: 'rgba(0,255,136,0.7)',
                borderRadius: 4
              }]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: false } },
              scales: {
                x: { beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)', stepSize: 1 }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 11 } }, grid: { display: false } }
              }
            }
          });
        }

        // Chart 4: Total Commits by Project (horizontal bar, top 10)
        const byCommits = [...projs].sort((a, b) => (parseInt(b.commits)||0) - (parseInt(a.commits)||0)).slice(0, 10);
        if (byCommits.length > 0) {
          new Chart(document.getElementById('projCommitsChart'), {
            type: 'bar',
            data: {
              labels: byCommits.map(p => p.name),
              datasets: [{
                data: byCommits.map(p => parseInt(p.commits) || 0),
                backgroundColor: 'rgba(177,78,255,0.7)',
                borderRadius: 4
              }]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: false } },
              scales: {
                x: { beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 11 } }, grid: { display: false } }
              }
            }
          });
          document.getElementById('projCommitsBadge').textContent = totalCommits.toLocaleString() + ' total';
        }

        // Enhanced project cards
        document.getElementById('projectsList').innerHTML = projs.map((p, i) => {
          const recentBadge = (p.recentCommits || 0) > 0
            ? `<span style="background:rgba(0,255,136,0.15);color:#00ff88;padding:2px 6px;border-radius:4px;font-size:0.65rem;">${p.recentCommits} commits (7d)</span>`
            : '';
          const branchBadge = p.branch
            ? `<span style="background:rgba(177,78,255,0.15);color:#b14eff;padding:2px 6px;border-radius:4px;font-size:0.65rem;">${p.branch}</span>`
            : '';
          return `
          <div class="project-card ${p.class || ''}" style="border-left:3px solid ${projColors[i % projColors.length]};">
            <div class="project-header">
              <div class="project-name">${p.name}</div>
              <div class="project-status ${p.status}">${p.status}</div>
            </div>
            <div class="project-stack">${p.stack}</div>
            <div style="display:flex;gap:4px;margin:0.4rem 0;flex-wrap:wrap;">
              ${branchBadge}${recentBadge}
              ${p.lastCommit ? `<span style="color:var(--text-muted);font-size:0.65rem;">Last: ${p.lastCommit}</span>` : ''}
            </div>
            <div class="project-stats">
              <div class="project-stat">
                <div class="value">${p.files || '‚Äî'}</div>
                <div class="label">Files</div>
              </div>
              <div class="project-stat">
                <div class="value">${p.commits || '‚Äî'}</div>
                <div class="label">Commits</div>
              </div>
              <div class="project-stat">
                <div class="value">${p.lines || '‚Äî'}</div>
                <div class="label">Lines</div>
              </div>
            </div>
          </div>`;
        }).join('');
      }

      // --- Commands Tab: Stats + Search ---
      {
        const cmdSections = document.querySelectorAll('#commands .commands-section');
        const cmdCards = document.querySelectorAll('#commands .command-card');
        const totalCmds = cmdCards.length;
        const totalSections = cmdSections.length;

        // Stat cards
        document.getElementById('commandsStatsRow').innerHTML = [
          { icon: '‚å®Ô∏è', value: totalCmds, label: 'Total Commands' },
          { icon: 'üìë', value: totalSections, label: 'Categories' },
          { icon: 'ü§ñ', value: '3', label: 'Model Aliases' },
          { icon: 'üîç', value: 'Active', label: 'Search' },
        ].map(s => `
          <div class="stat-card">
            <div class="stat-value">${s.value}</div>
            <div class="stat-label">${s.label}</div>
          </div>
        `).join('');

        // Search filter
        document.getElementById('commandSearch').addEventListener('input', (e) => {
          const q = e.target.value.toLowerCase();
          cmdCards.forEach(card => {
            const text = card.textContent.toLowerCase();
            card.style.display = (!q || text.includes(q)) ? '' : 'none';
          });
          // Hide empty sections
          cmdSections.forEach(sec => {
            const visibleCards = sec.querySelectorAll('.command-card:not([style*="display: none"])');
            sec.style.display = (!q || visibleCards.length > 0) ? '' : 'none';
          });
        });
      }

      // Co-Evolution tab
      if (COEVO_DATA) {
        const patternColors = {
          implementation: 'rgba(168,85,247,0.8)', research: 'rgba(72,219,251,0.8)',
          architecture: 'rgba(254,202,87,0.8)', testing: 'rgba(100,200,200,0.8)',
          review: 'rgba(74,222,128,0.8)', documentation: 'rgba(255,107,107,0.8)',
          debugging: 'rgba(233,69,96,0.8)', optimization: 'rgba(150,100,200,0.8)',
          deployment: 'rgba(100,150,200,0.8)', learning: 'rgba(200,150,100,0.8)',
          coding: 'rgba(168,85,247,0.8)'
        };

        // --- 6 Stat Cards ---
        document.getElementById('coevoCacheEfficiency').textContent = (COEVO_DATA.cacheEfficiency || 0).toFixed(1) + '%';
        document.getElementById('coevoDqScore').textContent = (COEVO_DATA.dqScore || 0).toFixed(3);
        document.getElementById('coevoDominantPattern').textContent = COEVO_DATA.dominantPattern || 'none';
        document.getElementById('coevoModsApplied').textContent = COEVO_DATA.modsApplied || 0;

        const topPatterns = (PATTERN_TRENDS_DATA && PATTERN_TRENDS_DATA.top_patterns) || [];
        const definitions = (PATTERN_TRENDS_DATA && PATTERN_TRENDS_DATA.pattern_definitions) || {};
        const totalSess = (PATTERN_TRENDS_DATA && PATTERN_TRENDS_DATA.total_sessions) || 0;
        document.getElementById('coevoTotalSessions').textContent = totalSess.toLocaleString();
        document.getElementById('coevoTopPct').textContent = topPatterns.length > 0 ? topPatterns[0].percentage + '%' : '‚Äî';

        // --- Meta-Vengine Status ---
        document.getElementById('coevoAutoApply').textContent = COEVO_DATA.autoApply ? 'Enabled' : 'Disabled';
        document.getElementById('coevoAutoApply').style.color = COEVO_DATA.autoApply ? 'var(--accent-green)' : 'var(--accent-yellow)';
        document.getElementById('coevoMinConfidence').textContent = (COEVO_DATA.minConfidence || 0.7).toFixed(2);
        const lastA = COEVO_DATA.lastAnalysis || 'Never';
        document.getElementById('coevoLastAnalysis').textContent = lastA !== 'Never' ? new Date(lastA).toLocaleString('en-US', {month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'}) : 'Never';

        // Evolution Weights visualization
        const weights = COEVO_DATA.configWeights || {};
        const weightsEl = document.getElementById('coevoWeights');
        if (Object.keys(weights).length > 0) {
          weightsEl.innerHTML = Object.entries(weights).sort((a,b) => b[1] - a[1]).map(([k, v]) => {
            const pct = Math.round(v * 100);
            return `<div style="display:flex;align-items:center;gap:0.5rem;">
              <span style="width:110px;font-size:0.75rem;color:var(--text-secondary);">${k.replace(/([A-Z])/g, ' $1').trim()}</span>
              <div style="flex:1;background:var(--bg-glass);border-radius:3px;height:12px;overflow:hidden;">
                <div style="background:var(--gradient-primary);width:${pct}%;height:100%;border-radius:3px;"></div>
              </div>
              <span style="font-size:0.7rem;color:var(--accent-cyan);width:30px;text-align:right;">${pct}%</span>
            </div>`;
          }).join('');
        }

        // --- Chart 1: Pattern Distribution (doughnut from pattern-trends top_patterns) ---
        let patterns = topPatterns.length > 0 ? topPatterns : [];
        // Fallback to COEVO_DATA.runtimePatterns if no trends data
        if (patterns.length === 0 && COEVO_DATA.runtimePatterns) {
          patterns = Object.entries(COEVO_DATA.runtimePatterns).map(([k, v]) => ({
            id: k, pattern: k, count: v, percentage: 0
          }));
        }

        const patCtx = document.getElementById('patternChart')?.getContext('2d');
        if (patCtx && patterns.length > 0) {
          document.getElementById('patternCount').textContent = patterns.length;
          const topN = patterns.slice(0, 8);
          const totalCount = topN.reduce((s, p) => s + (p.count || 0), 0);
          new Chart(patCtx, {
            type: 'doughnut',
            data: {
              labels: topN.map(p => p.pattern || p.id || 'Unknown'),
              datasets: [{
                data: topN.map(p => p.count || 1),
                backgroundColor: topN.map(p => patternColors[p.pattern || p.id] || 'rgba(128,128,128,0.8)'),
                borderWidth: 0
              }]
            },
            options: {
              responsive: true, maintainAspectRatio: false, cutout: '50%',
              plugins: {
                legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 6, font: { size: 10 } } },
                tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.raw} sessions (${totalCount > 0 ? Math.round(ctx.raw/totalCount*100) : 0}%)` } }
              }
            }
          });
        }

        // --- Patterns List ---
        const patternsListEl = document.getElementById('patternsList');
        if (patterns.length > 0) {
          patternsListEl.innerHTML = patterns.map(p => {
            const name = p.pattern || p.id || 'Unknown';
            const def = definitions[name] || {};
            const color = patternColors[name] || 'rgba(128,128,128,0.8)';
            const count = p.count || 0;
            const pct = p.percentage || 0;
            return `
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.6rem;border-bottom:1px solid var(--border);">
                <span style="font-size:1.2rem;">${def.icon || 'üìä'}</span>
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--text-primary);font-size:0.85rem;">${def.name || name}</div>
                  <div style="font-size:0.7rem;color:var(--text-secondary);">${count} sessions</div>
                </div>
                <div style="display:flex;align-items:center;gap:0.5rem;">
                  <div style="width:60px;background:var(--bg-glass);border-radius:3px;height:8px;overflow:hidden;">
                    <div style="background:${color};width:${pct}%;height:100%;border-radius:3px;"></div>
                  </div>
                  <span style="font-size:0.8rem;font-weight:600;color:${color};width:40px;text-align:right;">${pct}%</span>
                </div>
              </div>
            `;
          }).join('');
        } else {
          patternsListEl.innerHTML = '<p style="color:var(--text-muted);padding:1rem;text-align:center;">No patterns detected. Run meta-analyzer analyze.</p>';
        }
      }

      // Pattern Trends (from backfill)
      if (PATTERN_TRENDS_DATA) {
        const weekly = PATTERN_TRENDS_DATA.weekly || {};
        const weeks = Object.keys(weekly).sort().slice(-8);
        const topPatterns = PATTERN_TRENDS_DATA.top_patterns || [];
        const definitions = PATTERN_TRENDS_DATA.pattern_definitions || {};
        const dailyList = PATTERN_TRENDS_DATA.dailyList || [];

        document.getElementById('patternTrendsWeeks').textContent = weeks.length + ' weeks';
        document.getElementById('patternTotalSessions').textContent = (PATTERN_TRENDS_DATA.total_sessions || 0).toLocaleString() + ' sessions';

        const patternIds = ['implementation', 'research', 'architecture', 'testing', 'review', 'debugging', 'documentation', 'optimization', 'deployment'];
        const patternColors = {
          implementation: 'rgba(168,85,247,0.8)', research: 'rgba(72,219,251,0.8)',
          architecture: 'rgba(254,202,87,0.8)', testing: 'rgba(100,200,200,0.8)',
          review: 'rgba(74,222,128,0.8)', debugging: 'rgba(233,69,96,0.8)',
          documentation: 'rgba(255,107,107,0.8)', optimization: 'rgba(150,100,200,0.8)',
          deployment: 'rgba(100,150,200,0.8)'
        };

        // --- Chart 2: Weekly Pattern Trends (stacked bar) ---
        if (weeks.length > 0) {
          const datasets = patternIds.filter(pid => {
            return weeks.some(w => (weekly[w] || {})[pid] > 0);
          }).map(pid => ({
            label: (definitions[pid] && definitions[pid].name) || pid,
            data: weeks.map(w => (weekly[w] || {})[pid] || 0),
            backgroundColor: patternColors[pid] || 'rgba(128,128,128,0.8)'
          }));

          const wCtx = document.getElementById('patternTrendsChart')?.getContext('2d');
          if (wCtx) {
            new Chart(wCtx, {
              type: 'bar',
              data: { labels: weeks.map(w => w.substring(5)), datasets },
              options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                  x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { display: false } },
                  y: { stacked: true, beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
                },
                plugins: { legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 6, font: { size: 10 } } } }
              }
            });
          }
        }

        // --- Chart 3: Daily Pattern Activity (stacked bar, last 21 days) ---
        if (dailyList.length > 0) {
          document.getElementById('patternDailyBadge').textContent = dailyList.length + ' Days';
          const dLabels = dailyList.map(d => { const p = d.date.split('-'); return p[1] + '/' + p[2]; });
          // Find all patterns present in daily data
          const allDailyPatterns = new Set();
          dailyList.forEach(d => { Object.keys(d).filter(k => k !== 'date').forEach(k => allDailyPatterns.add(k)); });
          const dailyPatternIds = patternIds.filter(p => allDailyPatterns.has(p));

          const dDatasets = dailyPatternIds.map(pid => ({
            label: (definitions[pid] && definitions[pid].name) || pid,
            data: dailyList.map(d => d[pid] || 0),
            backgroundColor: patternColors[pid] || 'rgba(128,128,128,0.8)'
          }));

          const dCtx = document.getElementById('patternDailyChart')?.getContext('2d');
          if (dCtx) {
            new Chart(dCtx, {
              type: 'bar',
              data: { labels: dLabels, datasets: dDatasets },
              options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                  x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 9 } }, grid: { display: false } },
                  y: { stacked: true, beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
                },
                plugins: { legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 6, font: { size: 9 } } } }
              }
            });
          }
        }

        // --- All-time stats grid ---
        if (topPatterns.length > 0) {
          document.getElementById('patternStatsGrid').innerHTML = topPatterns.slice(0, 8).map(p => {
            const def = definitions[p.id || p.pattern] || {};
            const color = ({
              implementation: 'var(--accent-purple)', research: 'var(--accent-cyan)',
              architecture: 'var(--accent-yellow)', testing: 'var(--accent-cyan)',
              review: 'var(--accent-green)', debugging: 'var(--accent-red)',
              documentation: 'var(--accent-orange)', optimization: 'var(--accent-purple)'
            })[p.id || p.pattern] || 'var(--text-primary)';
            return `
              <div style="background:var(--bg-glass);border:1px solid var(--border);border-radius:8px;padding:0.75rem;text-align:center;">
                <div style="font-size:1.3rem;">${def.icon || 'üìä'}</div>
                <div style="font-weight:700;color:${color};font-size:1.1rem;">${p.count}</div>
                <div style="font-size:0.75rem;color:var(--text-secondary);">${def.name || p.id || p.pattern}</div>
                <div style="font-size:0.7rem;color:var(--text-muted);">${p.percentage}%</div>
              </div>
            `;
          }).join('');
        }
      }

      // Routing tab
      if (ROUTING_DATA) {
        const rModelColors = { haiku: '#ffcc00', sonnet: '#48dbfb', opus: '#b14eff', flash: '#ff6b6b', local: '#888', 'local-fast': '#aaa' };

        // Stats row
        document.getElementById('routingQueries').textContent = (ROUTING_DATA.totalQueries || 0).toLocaleString();
        document.getElementById('routingDqScore').textContent = (ROUTING_DATA.avgDqScore || 0).toFixed(3);
        document.getElementById('routingCostSavings').textContent = (ROUTING_DATA.costReduction || 0).toFixed(1) + '%';
        document.getElementById('routingAccuracy').textContent = (ROUTING_DATA.accuracy || 0).toFixed(1) + '%';
        const expDomains = ROUTING_DATA.expertiseDomains || [];
        document.getElementById('routingDomains').textContent = expDomains.length;
        const modelCounts = ROUTING_DATA.modelCounts || {};
        document.getElementById('routingModels').textContent = Object.keys(modelCounts).length;

        // DQ Components
        const dqComp = ROUTING_DATA.dqComponents || {};
        document.getElementById('dqValidity').textContent = (dqComp.validity || 0).toFixed(3);
        document.getElementById('dqSpecificity').textContent = (dqComp.specificity || 0).toFixed(3);
        document.getElementById('dqCorrectness').textContent = (dqComp.correctness || 0).toFixed(3);
        const compositeDq = (ROUTING_DATA.avgDqScore || 0);
        document.getElementById('dqComposite').textContent = compositeDq.toFixed(3) + ' / 1.000';
        document.getElementById('dqCompositeBar').style.width = (compositeDq * 100) + '%';
        document.getElementById('dqComponentsBadge').textContent = 'V:40% S:30% C:30%';

        // Performance targets
        const accuracy = ROUTING_DATA.accuracy || 0;
        const costReduction = ROUTING_DATA.costReduction || 0;
        const latency = ROUTING_DATA.routingLatency || 0;
        const dqScore = ROUTING_DATA.avgDqScore || 0;
        const targetAccuracy = ROUTING_DATA.targetAccuracy || 60;
        const targetDq = ROUTING_DATA.targetDataQuality || 0.60;

        document.getElementById('accuracyTarget').textContent = accuracy.toFixed(1) + '% (target: ' + targetAccuracy + '%)';
        document.getElementById('accuracyStatus').textContent = accuracy >= targetAccuracy ? '‚úÖ' : '‚è≥';
        document.getElementById('costTarget').textContent = costReduction.toFixed(1) + '% (target: 20%)';
        document.getElementById('costStatus').textContent = costReduction >= 20 ? '‚úÖ' : '‚è≥';
        if (latency > 0) {
          document.getElementById('latencyTarget').textContent = latency.toFixed(0) + 'ms (target: <50ms)';
          document.getElementById('latencyStatus').textContent = latency < 50 ? '‚úÖ' : '‚è≥';
        } else {
          document.getElementById('latencyTarget').textContent = 'N/A (target: <50ms)';
          document.getElementById('latencyStatus').textContent = '‚è≥';
        }
        document.getElementById('dqTarget').textContent = dqScore.toFixed(3) + ' (target: ' + targetDq.toFixed(2) + ')';
        document.getElementById('dqStatus').textContent = dqScore >= targetDq ? '‚úÖ' : '‚è≥';

        const targetsMet = [
          accuracy >= targetAccuracy, costReduction >= 20,
          latency > 0 && latency < 50, dqScore >= targetDq
        ].filter(Boolean).length;
        document.getElementById('targetsMetBadge').textContent = `${targetsMet}/4`;

        // --- Chart 1: Daily DQ Score & Complexity (dual Y-axis) ---
        const dailyTrend = ROUTING_DATA.dailyTrend || [];
        if (dailyTrend.length > 0) {
          const dqCtx = document.getElementById('routingDqTrendChart')?.getContext('2d');
          if (dqCtx) {
            new Chart(dqCtx, {
              type: 'line',
              data: {
                labels: dailyTrend.map(d => d.date.substring(5)),
                datasets: [
                  {
                    label: 'DQ Score',
                    data: dailyTrend.map(d => d.avgDq),
                    borderColor: '#00ff88',
                    backgroundColor: 'rgba(0,255,136,0.1)',
                    fill: true, tension: 0.4, yAxisID: 'y',
                    pointRadius: 4, pointBackgroundColor: '#00ff88'
                  },
                  {
                    label: 'Complexity',
                    data: dailyTrend.map(d => d.avgComplexity),
                    borderColor: '#b14eff',
                    backgroundColor: 'rgba(177,78,255,0.1)',
                    fill: true, tension: 0.4, yAxisID: 'y',
                    pointRadius: 4, pointBackgroundColor: '#b14eff',
                    borderDash: [5, 5]
                  }
                ]
              },
              options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                  y: { min: 0, max: 1, ticks: { color: 'rgba(255,255,255,0.6)', callback: v => v.toFixed(1) }, grid: { color: 'rgba(255,255,255,0.05)' } },
                  x: { ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 10 } }, grid: { display: false } }
                },
                plugins: {
                  legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } },
                  annotation: { annotations: {
                    targetLine: { type: 'line', yMin: targetDq, yMax: targetDq, borderColor: 'rgba(255,204,0,0.5)', borderWidth: 1, borderDash: [4,4],
                      label: { display: true, content: 'Target ' + targetDq.toFixed(2), position: 'end', color: '#ffcc00', font: { size: 9 } }
                    }
                  }}
                }
              }
            });
          }
          document.getElementById('routingDqTrendBadge').textContent = dailyTrend.length + ' days';
        }

        // --- Chart 2: Daily Queries by Model (stacked bar) ---
        if (dailyTrend.length > 0) {
          const mCtx = document.getElementById('routingModelTrendChart')?.getContext('2d');
          if (mCtx) {
            new Chart(mCtx, {
              type: 'bar',
              data: {
                labels: dailyTrend.map(d => d.date.substring(5)),
                datasets: [
                  { label: 'Haiku', data: dailyTrend.map(d => d.haiku || 0), backgroundColor: 'rgba(255,204,0,0.8)' },
                  { label: 'Sonnet', data: dailyTrend.map(d => d.sonnet || 0), backgroundColor: 'rgba(72,219,251,0.8)' },
                  { label: 'Opus', data: dailyTrend.map(d => d.opus || 0), backgroundColor: 'rgba(177,78,255,0.8)' }
                ]
              },
              options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                  x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 10 } }, grid: { display: false } },
                  y: { stacked: true, beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.6)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
                },
                plugins: { legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } } }
              }
            });
          }
          document.getElementById('routingModelTrendBadge').textContent = dailyTrend.reduce((s, d) => s + d.queries, 0).toLocaleString() + ' total';
        }

        // --- Chart 3: Model Complexity Ranges (horizontal bar) ---
        const complexityData = ROUTING_DATA.complexityByModel || [];
        if (complexityData.length > 0) {
          const cCtx = document.getElementById('routingComplexityChart')?.getContext('2d');
          if (cCtx) {
            const cLabels = complexityData.map(c => c.model.charAt(0).toUpperCase() + c.model.slice(1));
            new Chart(cCtx, {
              type: 'bar',
              data: {
                labels: cLabels,
                datasets: [
                  { label: 'Min', data: complexityData.map(c => c.min), backgroundColor: 'rgba(0,255,136,0.4)', borderColor: '#00ff88', borderWidth: 1 },
                  { label: 'Average', data: complexityData.map(c => c.avg), backgroundColor: 'rgba(72,219,251,0.6)', borderColor: '#48dbfb', borderWidth: 1 },
                  { label: 'Max', data: complexityData.map(c => c.max), backgroundColor: 'rgba(177,78,255,0.4)', borderColor: '#b14eff', borderWidth: 1 }
                ]
              },
              options: {
                indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                scales: {
                  x: { min: 0, max: 1, ticks: { color: 'rgba(255,255,255,0.6)', callback: v => v.toFixed(1) }, grid: { color: 'rgba(255,255,255,0.05)' },
                    title: { display: true, text: 'Complexity', color: 'rgba(255,255,255,0.5)', font: { size: 10 } } },
                  y: { ticks: { color: 'rgba(255,255,255,0.7)' }, grid: { display: false } }
                },
                plugins: {
                  legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } },
                  tooltip: { callbacks: { afterLabel: (ctx) => {
                    const item = complexityData[ctx.dataIndex];
                    return item ? `${item.count} queries` : '';
                  }}}
                }
              }
            });
          }
        }

        // --- Chart 4: Expertise Domain Routing (horizontal bar with expertise + complexity) ---
        if (expDomains.length > 0) {
          const eCtx = document.getElementById('routingExpertiseChart')?.getContext('2d');
          if (eCtx) {
            new Chart(eCtx, {
              type: 'bar',
              data: {
                labels: expDomains.map(d => d.domain.charAt(0).toUpperCase() + d.domain.slice(1)),
                datasets: [
                  { label: 'Expertise Level', data: expDomains.map(d => d.avgExpertise), backgroundColor: 'rgba(0,255,136,0.7)', borderWidth: 0 },
                  { label: 'Avg Complexity', data: expDomains.map(d => d.avgComplexity), backgroundColor: 'rgba(177,78,255,0.7)', borderWidth: 0 }
                ]
              },
              options: {
                indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                scales: {
                  x: { min: 0, max: 1, ticks: { color: 'rgba(255,255,255,0.6)', callback: v => v.toFixed(1) }, grid: { color: 'rgba(255,255,255,0.05)' } },
                  y: { ticks: { color: 'rgba(255,255,255,0.7)' }, grid: { display: false } }
                },
                plugins: {
                  legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } },
                  tooltip: { callbacks: { afterLabel: (ctx) => {
                    const dom = expDomains[ctx.dataIndex];
                    return dom ? `${dom.count} queries | Model: ${dom.primaryModel}` : '';
                  }}}
                }
              }
            });
          }
          document.getElementById('expertiseBadge').textContent = expDomains.length + ' domains';
        }

        // --- Model Distribution Doughnut (by absolute count) ---
        if (Object.keys(modelCounts).length > 0) {
          const mainModels = ['haiku', 'sonnet', 'opus'];
          const otherCount = Object.entries(modelCounts).filter(([k]) => !mainModels.includes(k)).reduce((s, [,v]) => s + v, 0);
          const distLabels = mainModels.filter(m => modelCounts[m]).map(m => m.charAt(0).toUpperCase() + m.slice(1));
          const distValues = mainModels.filter(m => modelCounts[m]).map(m => modelCounts[m]);
          const distColors = mainModels.filter(m => modelCounts[m]).map(m => rModelColors[m]);
          if (otherCount > 0) { distLabels.push('Other'); distValues.push(otherCount); distColors.push('rgba(136,136,136,0.8)'); }

          new Chart(document.getElementById('modelDistChart'), {
            type: 'doughnut',
            data: {
              labels: distLabels,
              datasets: [{ data: distValues, backgroundColor: distColors, borderWidth: 0 }]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              plugins: {
                legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12 } },
                tooltip: { callbacks: { label: (ctx) => {
                  const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                  return ` ${ctx.label}: ${ctx.raw} (${(ctx.raw / total * 100).toFixed(1)}%)`;
                }}}
              }
            }
          });
        }

        // --- Model Success Rates ---
        const successRates = ROUTING_DATA.modelSuccessRates || {};
        const successGrid = document.getElementById('modelSuccessGrid');
        if (Object.keys(successRates).length > 0) {
          successGrid.innerHTML = Object.entries(successRates).map(([model, data]) => `
            <div style="background:var(--bg-glass);border:1px solid var(--border);border-radius:8px;padding:1rem;text-align:center;">
              <div style="font-size:1.5rem;font-weight:700;color:${rModelColors[model] || '#888'}">${data.success_rate}%</div>
              <div style="font-size:0.85rem;color:var(--text-secondary);text-transform:capitalize;">${model}</div>
              <div style="font-size:0.7rem;color:var(--text-muted);">${data.total} sessions</div>
            </div>
          `).join('');
        } else {
          successGrid.innerHTML = '<p class="empty-state" style="grid-column:span 3;">No session outcomes yet</p>';
        }

        // --- Expertise Domain Detail Grid ---
        if (expDomains.length > 0) {
          document.getElementById('expertiseCountBadge').textContent = expDomains.reduce((s, d) => s + d.count, 0) + ' events';
          document.getElementById('expertiseDetailGrid').innerHTML = expDomains.map(d => {
            const mColor = rModelColors[d.primaryModel] || '#888';
            const expPct = ((d.avgExpertise || 0) * 100).toFixed(0);
            return `
              <div style="background:var(--bg-glass);border:1px solid var(--border);border-radius:10px;padding:1rem;">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;">
                  <span style="font-weight:700;color:var(--text-primary);text-transform:capitalize;">${d.domain}</span>
                  <span style="background:${mColor}22;color:${mColor};padding:2px 8px;border-radius:4px;font-size:0.75rem;font-weight:600;text-transform:capitalize;">${d.primaryModel}</span>
                </div>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;font-size:0.8rem;">
                  <div><span style="color:var(--text-muted);">Queries:</span> <span style="color:var(--text-primary);font-weight:600;">${d.count}</span></div>
                  <div><span style="color:var(--text-muted);">Complexity:</span> <span style="color:#b14eff;font-weight:600;">${(d.avgComplexity || 0).toFixed(2)}</span></div>
                </div>
                <div style="margin-top:0.5rem;">
                  <div style="display:flex;justify-content:space-between;font-size:0.75rem;color:var(--text-muted);margin-bottom:2px;">
                    <span>Expertise</span><span style="color:#00ff88;">${expPct}%</span>
                  </div>
                  <div style="background:rgba(255,255,255,0.1);border-radius:4px;height:6px;overflow:hidden;">
                    <div style="height:100%;width:${expPct}%;background:linear-gradient(90deg,#00ff88,#48dbfb);border-radius:4px;"></div>
                  </div>
                </div>
              </div>
            `;
          }).join('');
        }
      }

      // Render 10x Power Dashboard
      renderPowerDashboard();

      // Render Observatory Tabs
      renderObservatoryTabs();
    }

    // 10x Power Dashboard Rendering
    function renderPowerDashboard() {
      // Cognitive State - read from actual COGNITIVE_DATA structure
      const cognitive = COGNITIVE_DATA || {};
      const currentState = cognitive.current_state || {};
      const mode = currentState.mode || cognitive.mode || 'unknown';
      const energyLevel = currentState.energy_level || 0.5;
      const recommendedTasks = currentState.recommended_tasks || [];
      const hour = new Date().getHours();

      // Use actual data if available, fallback to time-based calculation
      let displayMode = mode !== 'unknown' ? mode : null;
      let energy = energyLevel > 0.7 ? 'High' : energyLevel > 0.4 ? 'Medium' : 'Low';
      let bestFor = recommendedTasks.length > 0 ? recommendedTasks.slice(0, 2).join(', ') : 'General tasks';

      // Fallback to time-based if no cognitive data
      if (!displayMode) {
        if (hour >= 5 && hour < 9) {
          displayMode = 'morning';
          energy = 'High';
          bestFor = 'Planning, reviews';
        } else if (hour >= 9 && hour < 12) {
          displayMode = 'peak';
          energy = 'Maximum';
          bestFor = 'Complex coding';
        } else if (hour >= 12 && hour < 14) {
          displayMode = 'dip';
          energy = 'Low';
          bestFor = 'Reviews, docs';
        } else if (hour >= 14 && hour < 18) {
          displayMode = 'peak';
          energy = 'High';
          bestFor = 'Implementation';
        } else if (hour >= 18 && hour < 22) {
          displayMode = 'evening';
          energy = 'Medium';
          bestFor = 'Creative work';
        } else {
          displayMode = 'deep_night';
          energy = 'Variable';
          bestFor = 'Deep focus';
        }
      }

      const modeIndicator = document.getElementById('cogModeIndicator');
      const modeLabel = document.getElementById('cogModeLabel');
      const energyEl = document.getElementById('cogEnergy');
      const bestForEl = document.getElementById('cogBestFor');

      if (modeIndicator) {
        modeIndicator.className = 'mode-indicator ' + displayMode;
        modeIndicator.textContent = '‚óè';
      }
      if (modeLabel) modeLabel.textContent = displayMode.replace('_', ' ');
      if (energyEl) energyEl.textContent = energy;
      if (bestForEl) bestForEl.textContent = bestFor;

      // Session Status
      const session = SESSION_WINDOW_DATA || {};
      const position = session.window?.positionPercent || session.window?.position || 0;
      const budget = session.budget?.utilizationPercent || session.budget?.utilization || 0;

      const progressEl = document.getElementById('sessionProgress');
      const positionEl = document.getElementById('sessionPosition');
      const budgetEl = document.getElementById('sessionBudget');

      if (progressEl) progressEl.style.width = position + '%';
      if (positionEl) positionEl.textContent = position + '%';
      if (budgetEl) budgetEl.textContent = budget + '% used';

      // Supermemory Quick Stats (field names from ccc-generator.sh)
      const supermemory = SUPERMEMORY_DATA || {};
      const dueReviews = supermemory.review?.due_count || supermemory.dueReviews || 0;
      const totalMemories = supermemory.totals?.memory_items || supermemory.totalMemories || 0;

      const dueEl = document.getElementById('memoryDue');
      const totalEl = document.getElementById('memoryTotal');

      if (dueEl) dueEl.textContent = dueReviews;
      if (totalEl) totalEl.textContent = totalMemories;

      // Autonomous Agents (check from sessions data)
      const sessions = SESSIONS_DATA || {};
      const activeSessions = sessions.sessions || [];
      const bgAgents = activeSessions.length;
      const ralphRunning = activeSessions.some(s => s.cwd?.includes('ralph') || s.model === 'ralph');

      const ralphIndicator = document.getElementById('ralphIndicator');
      const ralphStatus = document.getElementById('ralphStatus');
      const bgIndicator = document.getElementById('bgIndicator');
      const bgAgentsEl = document.getElementById('bgAgents');

      if (ralphIndicator) {
        ralphIndicator.className = 'agent-indicator ' + (ralphRunning ? 'running' : 'stopped');
        ralphIndicator.textContent = ralphRunning ? '‚óè' : '‚óã';
      }
      if (ralphStatus) ralphStatus.textContent = ralphRunning ? 'Running' : 'Not running';
      if (bgIndicator) {
        bgIndicator.className = 'agent-indicator ' + (bgAgents > 0 ? 'running' : 'stopped');
        bgIndicator.textContent = bgAgents > 0 ? '‚óè' : '‚óã';
      }
      if (bgAgentsEl) bgAgentsEl.textContent = bgAgents + ' active';

      // Recommendations
      const recEl = document.getElementById('recommendationText');
      if (recEl) {
        if (hour >= 9 && hour < 12) {
          recEl.textContent = 'Peak hours - tackle complex architecture';
        } else if (hour >= 20 || hour < 2) {
          recEl.textContent = 'Your peak: 20:00, 02:00 - deep work time';
        } else if (hour >= 12 && hour < 14) {
          recEl.textContent = 'Energy dip - good for reviews and documentation';
        } else {
          recEl.textContent = 'Consider batching small tasks';
        }
      }

      // Power mode buttons - show/hide extended panels
      document.querySelectorAll('.power-mode-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.power-mode-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');

          const mode = btn.dataset.mode;
          const extendedEl = document.getElementById('powerExtended');
          const boostEl = document.getElementById('powerBoost');

          if (mode === 'quick') {
            extendedEl.style.display = 'none';
            boostEl.style.display = 'none';
          } else if (mode === 'full') {
            extendedEl.style.display = 'block';
            boostEl.style.display = 'none';
          } else if (mode === 'boost') {
            extendedEl.style.display = 'block';
            boostEl.style.display = 'block';
          }
        });
      });

      // Populate Full mode panels (Error Prevention, Observatory)
      const recovery = RECOVERY_DATA || {};
      const autoFixRate = document.getElementById('autoFixRate');
      const recentFixes = document.getElementById('recentFixes');
      if (autoFixRate) autoFixRate.textContent = (recovery.stats?.autoFixRate || 0) + '%';
      if (recentFixes) recentFixes.textContent = (recovery.outcomes?.length || 0) + ' recent';

      const observatory = OBSERVATORY_DATA || {};
      const obsSessions = document.getElementById('obsSessions');
      const obsSuccess = document.getElementById('obsSuccess');
      if (obsSessions) obsSessions.textContent = observatory.metrics?.sessions?.total || '--';
      if (obsSuccess) obsSuccess.textContent = (observatory.metrics?.sessions?.success_rate || '--') + '%';

      // Populate Boost mode panels (Context Packs, Model Routing)
      const packs = PACK_DATA || {};
      const activePacks = document.getElementById('activePacks');
      const tokensSaved = document.getElementById('tokensSaved');
      if (activePacks) activePacks.textContent = packs.global?.total_sessions || 0;
      if (tokensSaved) tokensSaved.textContent = '$' + (packs.global?.value_generated || 0).toFixed(0);

      const routing = ROUTING_DATA || {};
      // cognitive already declared above
      const recommendedModel = document.getElementById('recommendedModel');
      const dqScore = document.getElementById('dqScore');
      if (recommendedModel) recommendedModel.textContent = (COGNITIVE_DATA?.routing?.recommended_model) || routing.recommendedModel || 'sonnet';
      if (dqScore) dqScore.textContent = (COEVO_DATA?.dqScore || routing.dataQuality || 0).toFixed(3);
    }

    // Observatory Tabs Rendering
    function renderObservatoryTabs() {
      if (!OBSERVATORY_DATA || !OBSERVATORY_DATA.metrics) {
        console.log('No Observatory data available');
        return;
      }

      const metrics = OBSERVATORY_DATA.metrics;

      // Session Outcomes Tab (Tab 10) - Observatory data supplements embedded data
      if (metrics.sessions) {
        const sessions = metrics.sessions;
        const successRateEl = document.getElementById('sessionSuccessRate');
        if (successRateEl) successRateEl.textContent = ((sessions.success_rate || 0) * 100).toFixed(1) + '%';

        const avgQualityEl = document.getElementById('sessionAvgQuality');
        if (avgQualityEl) avgQualityEl.textContent = (sessions.avg_quality || 0).toFixed(1);

        const totalCountEl = document.getElementById('sessionTotalCount');
        if (totalCountEl) totalCountEl.textContent = sessions.total_sessions || 0;

        const lastQualityEl = document.getElementById('sessionLastQuality');
        if (lastQualityEl) lastQualityEl.textContent = sessions.last_quality ? `‚≠ê ${sessions.last_quality}/5` : '‚Äî';
      }

      // Productivity Tab (Tab 11) ‚Äî powered by DAILY_ACTIVITY_DATA + TOOL_USAGE_DATA from SQLite
      (function renderProductivityTab() {
        const daily = (typeof DAILY_ACTIVITY_DATA !== 'undefined' && DAILY_ACTIVITY_DATA.daily) ? DAILY_ACTIVITY_DATA.daily : [];
        const allTime = (typeof DAILY_ACTIVITY_DATA !== 'undefined' && DAILY_ACTIVITY_DATA.allTime) ? DAILY_ACTIVITY_DATA.allTime : {};
        const toolData = (typeof TOOL_USAGE_DATA !== 'undefined') ? TOOL_USAGE_DATA : {};

        // Filter to days with activity for charts
        const activeDays = daily.filter(d => d.total > 0);

        // Compute all-time stats
        const totalTools = allTime.total || 0;
        const totalReads = allTime.reads || 0;
        const totalEdits = allTime.edits || 0;
        const totalWrites = allTime.writes || 0;
        const totalBash = allTime.bash || 0;
        const totalWriteOps = totalEdits + totalWrites;
        const totalFileOps = totalReads + totalEdits + totalWrites;
        const prodScore = totalFileOps > 0 ? (totalWriteOps / totalFileOps) : 0;
        const searchCount = (toolData.byTool?.Grep || 0) + (toolData.byTool?.Glob || 0);

        // Find peak day
        let peakDay = { date: '‚Äî', total: 0 };
        daily.forEach(d => { if (d.total > peakDay.total) peakDay = d; });

        // Stat cards
        const el = (id, val) => { const e = document.getElementById(id); if (e) e.textContent = val; };
        el('prodTotalTools', formatNumber(totalTools));
        el('prodScore', (prodScore * 100).toFixed(1) + '%');
        el('prodWriteOps', formatNumber(totalWriteOps));
        el('prodReadOps', formatNumber(totalReads));
        el('prodPeakDay', peakDay.date !== '‚Äî' ? peakDay.date.slice(5) + ' (' + formatNumber(peakDay.total) + ')' : '‚Äî');
        el('prodActiveDays', activeDays.length);

        // Breakdown cards
        el('prodBashCount', formatNumber(totalBash));
        el('prodBashPct', totalTools > 0 ? ((totalBash / totalTools) * 100).toFixed(1) + '%' : '0%');
        el('prodEditWriteCount', formatNumber(totalWriteOps));
        el('prodEditWritePct', totalTools > 0 ? ((totalWriteOps / totalTools) * 100).toFixed(1) + '%' : '0%');
        el('prodSearchCount', formatNumber(searchCount));
        el('prodSearchPct', totalTools > 0 ? ((searchCount / totalTools) * 100).toFixed(1) + '%' : '0%');

        // Productivity Assessment
        const writeIntensity = totalTools > 0 ? ((totalWriteOps / totalTools) * 100).toFixed(1) : 0;
        let modeLabel, modeReco;
        if (prodScore > 0.4) {
          modeLabel = 'High Output';
          modeReco = 'Strong write ratio ‚Äî lots of creation and modification';
        } else if (prodScore > 0.25) {
          modeLabel = 'Balanced';
          modeReco = 'Good balance between reading and writing code';
        } else if (prodScore > 0.1) {
          modeLabel = 'Research Heavy';
          modeReco = 'Lots of reading ‚Äî typical during exploration and debugging';
        } else {
          modeLabel = 'Exploration';
          modeReco = 'Mostly reading ‚Äî common when learning a new codebase';
        }
        el('productivityMode', modeLabel);
        el('productivityReco', modeReco);
        el('productivityWriteIntensity', writeIntensity + '% of all tool calls are write operations');
        el('productivityBestDay', peakDay.date !== '‚Äî' ? peakDay.date + ' with ' + formatNumber(peakDay.total) + ' tool calls' : '‚Äî');

        // Shared chart options
        const prodChartOpts = {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { labels: { color: '#999', font: { size: 11 } } } }
        };
        const gridOpts = { color: 'rgba(255,255,255,0.05)' };
        const tickOpts = { color: '#666' };

        // 1. Productivity Score Trend (real data: (edits+writes)/(reads+edits+writes) per day)
        const scoreData = daily.map(d => {
          const fileOps = (d.reads || 0) + (d.edits || 0) + (d.writes || 0);
          return fileOps > 0 ? ((d.edits || 0) + (d.writes || 0)) / fileOps : null;
        });
        // 7-day moving average
        const scoreMA = scoreData.map((v, i) => {
          const window = scoreData.slice(Math.max(0, i - 6), i + 1).filter(x => x !== null);
          return window.length > 0 ? window.reduce((a, b) => a + b, 0) / window.length : null;
        });

        new Chart(document.getElementById('productivityScoreChart'), {
          type: 'line',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Daily Score',
              data: scoreData,
              borderColor: 'rgba(0, 217, 255, 0.5)',
              backgroundColor: 'rgba(0, 217, 255, 0.05)',
              fill: true,
              tension: 0.3,
              pointRadius: 2,
              borderWidth: 1
            }, {
              label: '7-Day Average',
              data: scoreMA,
              borderColor: 'rgba(0, 217, 255, 1)',
              borderWidth: 2.5,
              tension: 0.4,
              pointRadius: 0,
              fill: false
            }]
          },
          options: {
            ...prodChartOpts,
            scales: {
              y: { min: 0, max: 1, ticks: { ...tickOpts, callback: v => (v * 100).toFixed(0) + '%' }, grid: gridOpts },
              x: { ticks: tickOpts, grid: { display: false } }
            },
            plugins: {
              ...prodChartOpts.plugins,
              tooltip: { callbacks: { label: ctx => ctx.dataset.label + ': ' + (ctx.raw * 100).toFixed(1) + '%' } }
            }
          }
        });

        // 2. Read vs Write Over Time (stacked bar: reads, edits, writes per day)
        new Chart(document.getElementById('readWriteChart'), {
          type: 'bar',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [
              { label: 'Read', data: daily.map(d => d.reads || 0), backgroundColor: 'rgba(233, 69, 96, 0.7)', borderRadius: 2 },
              { label: 'Edit', data: daily.map(d => d.edits || 0), backgroundColor: 'rgba(0, 230, 118, 0.7)', borderRadius: 2 },
              { label: 'Write', data: daily.map(d => d.writes || 0), backgroundColor: 'rgba(0, 217, 255, 0.7)', borderRadius: 2 }
            ]
          },
          options: {
            ...prodChartOpts,
            scales: {
              y: { stacked: true, ticks: tickOpts, grid: gridOpts },
              x: { stacked: true, ticks: tickOpts, grid: { display: false } }
            }
          }
        });

        // 3. Daily Tool Volume (bar with 7-day moving average line)
        const dailyTotals = daily.map(d => d.total || 0);
        const volumeMA = dailyTotals.map((v, i) => {
          const window = dailyTotals.slice(Math.max(0, i - 6), i + 1);
          return Math.round(window.reduce((a, b) => a + b, 0) / window.length);
        });

        new Chart(document.getElementById('velocityChart'), {
          type: 'bar',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Tool Calls',
              data: dailyTotals,
              backgroundColor: dailyTotals.map(v => v === peakDay.total ? 'rgba(255, 215, 0, 0.8)' : 'rgba(0, 230, 118, 0.5)'),
              borderRadius: 3,
              order: 2
            }, {
              label: '7-Day Avg',
              data: volumeMA,
              type: 'line',
              borderColor: 'rgba(0, 230, 118, 1)',
              borderWidth: 2,
              pointRadius: 0,
              tension: 0.4,
              fill: false,
              order: 1
            }]
          },
          options: {
            ...prodChartOpts,
            scales: {
              y: { ticks: tickOpts, grid: gridOpts },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });

        // 4. Tool Category Mix (doughnut)
        const categories = [
          { label: 'Bash', value: totalBash, color: 'rgba(0, 217, 255, 0.8)' },
          { label: 'Read', value: totalReads, color: 'rgba(233, 69, 96, 0.8)' },
          { label: 'Edit', value: totalEdits, color: 'rgba(0, 230, 118, 0.8)' },
          { label: 'Write', value: totalWrites, color: 'rgba(255, 215, 0, 0.8)' },
          { label: 'Grep', value: toolData.byTool?.Grep || 0, color: 'rgba(156, 39, 176, 0.8)' },
          { label: 'Glob', value: toolData.byTool?.Glob || 0, color: 'rgba(255, 152, 0, 0.8)' },
          { label: 'Other', value: Math.max(0, totalTools - totalBash - totalReads - totalEdits - totalWrites - (toolData.byTool?.Grep || 0) - (toolData.byTool?.Glob || 0)), color: 'rgba(120, 120, 120, 0.6)' }
        ].filter(c => c.value > 0);

        new Chart(document.getElementById('toolMixChart'), {
          type: 'doughnut',
          data: {
            labels: categories.map(c => c.label),
            datasets: [{
              data: categories.map(c => c.value),
              backgroundColor: categories.map(c => c.color),
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: '#999', font: { size: 11 }, padding: 12 } },
              tooltip: {
                callbacks: {
                  label: ctx => {
                    const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                    const pct = ((ctx.raw / total) * 100).toFixed(1);
                    return ctx.label + ': ' + formatNumber(ctx.raw) + ' (' + pct + '%)';
                  }
                }
              }
            }
          }
        });

        // File Activity (from git ‚Äî kept as-is)
        const fileActivityList = document.getElementById('fileActivityList');
        if (typeof FILE_ACTIVITY_DATA !== 'undefined' && FILE_ACTIVITY_DATA.length > 0) {
          fileActivityList.innerHTML = FILE_ACTIVITY_DATA.map(f => {
            const color = {
              'OS-App': 'var(--accent-cyan)',
              'CareerCoach': 'var(--accent-purple)',
              'ResearchGravity': 'var(--accent-green)'
            }[f.project] || 'var(--text-secondary)';
            return `
              <div class="activity-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border);">
                <div style="flex: 1; min-width: 0;">
                  <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${f.file}</div>
                  <div style="font-size: 0.75rem; color: ${color};">${f.project}</div>
                </div>
                <div style="background: var(--bg-hover); padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; color: var(--text-secondary);">${f.count}√ó</div>
              </div>
            `;
          }).join('');
        }
      })();

      // Tool Analytics Tab (Tab 12) ‚Äî powered by TOOL_USAGE_DATA + DAILY_ACTIVITY_DATA + GIT_ACTIVITY_DATA from SQLite
      (function renderToolAnalyticsTab() {
        const toolData = (typeof TOOL_USAGE_DATA !== 'undefined') ? TOOL_USAGE_DATA : {};
        const dailyAct = (typeof DAILY_ACTIVITY_DATA !== 'undefined' && DAILY_ACTIVITY_DATA.daily) ? DAILY_ACTIVITY_DATA.daily : [];
        const gitData = (typeof GIT_ACTIVITY_DATA !== 'undefined') ? GIT_ACTIVITY_DATA : {};
        const byTool = toolData.byTool || {};
        const successRates = toolData.successRates || {};
        const topTools = toolData.topTools || [];
        const dailyVolume = toolData.daily || [];
        const failurePatterns = toolData.failurePatterns || [];
        const totalCalls = toolData.total || 0;

        // Compute categories
        const coreTools = ['Bash', 'Read', 'Edit', 'Write'];
        const searchTools = ['Grep', 'Glob'];
        const coreCount = coreTools.reduce((s, t) => s + (byTool[t] || 0), 0);
        const searchCount = searchTools.reduce((s, t) => s + (byTool[t] || 0), 0);
        const advancedCount = Math.max(0, totalCalls - coreCount - searchCount);
        const uniqueTools = Object.keys(byTool).length;
        const activeDays = dailyVolume.filter(d => d.count > 0).length;
        const avgDaily = activeDays > 0 ? Math.round(totalCalls / activeDays) : 0;

        // Overall success rate
        const allRates = Object.values(successRates);
        const overallSuccess = allRates.length > 0 ? (allRates.reduce((a, b) => a + b, 0) / allRates.length) : 100;

        // Top tool
        const topTool = topTools.length > 0 ? topTools[0] : { tool: '‚Äî', count: 0 };

        const el = (id, val) => { const e = document.getElementById(id); if (e) e.textContent = val; };
        el('taTotalCalls', formatNumber(totalCalls));
        el('taUniqueTools', uniqueTools);
        el('taSuccessRate', overallSuccess.toFixed(1) + '%');
        el('taTotalFailures', formatNumber(toolData.totalFailures || 0));
        el('taAvgDaily', formatNumber(avgDaily));
        el('taTopTool', topTool.tool + ' (' + formatNumber(topTool.count) + ')');

        // Category breakdown
        el('taCoreCount', formatNumber(coreCount));
        el('taCorePct', totalCalls > 0 ? ((coreCount / totalCalls) * 100).toFixed(1) + '%' : '0%');
        el('taSearchCount', formatNumber(searchCount));
        el('taSearchPct', totalCalls > 0 ? ((searchCount / totalCalls) * 100).toFixed(1) + '%' : '0%');
        el('taAdvancedCount', formatNumber(advancedCount));
        el('taAdvancedPct', totalCalls > 0 ? ((advancedCount / totalCalls) * 100).toFixed(1) + '%' : '0%');

        const chartOpts = {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { labels: { color: '#999', font: { size: 11 } } } }
        };
        const gridOpts = { color: 'rgba(255,255,255,0.05)' };
        const tickOpts = { color: '#666' };

        // 1. Tool Usage Distribution (horizontal bar ‚Äî top 12)
        const toolColors = {
          'Bash': 'rgba(0, 217, 255, 0.8)',
          'Read': 'rgba(233, 69, 96, 0.8)',
          'Edit': 'rgba(0, 230, 118, 0.8)',
          'Write': 'rgba(255, 215, 0, 0.8)',
          'Grep': 'rgba(156, 39, 176, 0.8)',
          'Glob': 'rgba(255, 152, 0, 0.8)',
          'TodoWrite': 'rgba(100, 181, 246, 0.8)',
          'Task': 'rgba(255, 112, 67, 0.8)',
          'WebSearch': 'rgba(77, 208, 225, 0.8)',
          'WebFetch': 'rgba(174, 213, 129, 0.8)'
        };
        const top12 = topTools.slice(0, 12);
        new Chart(document.getElementById('commandUsageChart'), {
          type: 'bar',
          data: {
            labels: top12.map(t => t.tool),
            datasets: [{
              label: 'Calls',
              data: top12.map(t => t.count),
              backgroundColor: top12.map(t => toolColors[t.tool] || 'rgba(120, 120, 120, 0.6)'),
              borderRadius: 4
            }]
          },
          options: {
            ...chartOpts,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
              x: { ticks: tickOpts, grid: gridOpts },
              y: { ticks: { ...tickOpts, font: { size: 11, family: "'JetBrains Mono', monospace" } }, grid: { display: false } }
            }
          }
        });

        // 2. Success Rate by Tool (bar ‚Äî top 10 tools with real rates)
        const successTools = Object.entries(successRates)
          .sort((a, b) => (byTool[b[0]] || 0) - (byTool[a[0]] || 0))
          .slice(0, 10);
        new Chart(document.getElementById('toolSuccessChart'), {
          type: 'bar',
          data: {
            labels: successTools.map(([t]) => t),
            datasets: [{
              label: 'Success Rate',
              data: successTools.map(([, r]) => r),
              backgroundColor: successTools.map(([, r]) => r >= 95 ? 'rgba(0, 230, 118, 0.7)' : r >= 80 ? 'rgba(255, 215, 0, 0.7)' : 'rgba(233, 69, 96, 0.7)'),
              borderRadius: 4
            }]
          },
          options: {
            ...chartOpts,
            plugins: { legend: { display: false } },
            scales: {
              y: { min: 0, max: 100, ticks: { ...tickOpts, callback: v => v + '%' }, grid: gridOpts },
              x: { ticks: { ...tickOpts, font: { size: 10 } }, grid: { display: false } }
            }
          }
        });

        // 3. Daily Tool Volume (bar + 7-day MA line)
        const dailyTotals = dailyVolume.map(d => d.count || 0);
        const volumeMA = dailyTotals.map((v, i) => {
          const w = dailyTotals.slice(Math.max(0, i - 6), i + 1);
          return Math.round(w.reduce((a, b) => a + b, 0) / w.length);
        });
        new Chart(document.getElementById('toolDailyVolumeChart'), {
          type: 'bar',
          data: {
            labels: dailyVolume.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Tool Calls',
              data: dailyTotals,
              backgroundColor: 'rgba(0, 217, 255, 0.5)',
              borderRadius: 3,
              order: 2
            }, {
              label: '7-Day Avg',
              data: volumeMA,
              type: 'line',
              borderColor: 'rgba(0, 217, 255, 1)',
              borderWidth: 2,
              pointRadius: 0,
              tension: 0.4,
              fill: false,
              order: 1
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { ticks: tickOpts, grid: gridOpts },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });

        // 4. Tool Category Trend (stacked area from DAILY_ACTIVITY_DATA)
        new Chart(document.getElementById('toolTrendChart'), {
          type: 'line',
          data: {
            labels: dailyAct.map(d => d.date.slice(5)),
            datasets: [
              { label: 'Bash', data: dailyAct.map(d => d.bash || 0), borderColor: 'rgba(0, 217, 255, 1)', backgroundColor: 'rgba(0, 217, 255, 0.3)', fill: true, tension: 0.3, pointRadius: 0, borderWidth: 1.5 },
              { label: 'Read', data: dailyAct.map(d => d.reads || 0), borderColor: 'rgba(233, 69, 96, 1)', backgroundColor: 'rgba(233, 69, 96, 0.3)', fill: true, tension: 0.3, pointRadius: 0, borderWidth: 1.5 },
              { label: 'Edit', data: dailyAct.map(d => d.edits || 0), borderColor: 'rgba(0, 230, 118, 1)', backgroundColor: 'rgba(0, 230, 118, 0.3)', fill: true, tension: 0.3, pointRadius: 0, borderWidth: 1.5 },
              { label: 'Write', data: dailyAct.map(d => d.writes || 0), borderColor: 'rgba(255, 215, 0, 1)', backgroundColor: 'rgba(255, 215, 0, 0.3)', fill: true, tension: 0.3, pointRadius: 0, borderWidth: 1.5 }
            ]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { stacked: true, ticks: tickOpts, grid: gridOpts },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });

        // 5. Git Commits chart (bar by day)
        const gitByDay = (gitData.byDay || []).reverse();
        if (gitByDay.length > 0) {
          new Chart(document.getElementById('gitCommitsChart'), {
            type: 'bar',
            data: {
              labels: gitByDay.map(d => d.date.slice(5)),
              datasets: [{
                label: 'Commits',
                data: gitByDay.map(d => d.count),
                backgroundColor: 'rgba(0, 230, 118, 0.6)',
                borderRadius: 3
              }]
            },
            options: {
              ...chartOpts,
              plugins: { legend: { display: false } },
              scales: {
                y: { ticks: tickOpts, grid: gridOpts },
                x: { ticks: tickOpts, grid: { display: false } }
              }
            }
          });
        }

        // 6. Git Repos doughnut
        const byRepo = gitData.byRepo || {};
        const repoEntries = Object.entries(byRepo).sort((a, b) => b[1] - a[1]);
        const repoColors = ['rgba(0, 217, 255, 0.8)', 'rgba(0, 230, 118, 0.8)', 'rgba(233, 69, 96, 0.8)', 'rgba(255, 215, 0, 0.8)', 'rgba(156, 39, 176, 0.8)', 'rgba(255, 152, 0, 0.8)', 'rgba(100, 181, 246, 0.8)', 'rgba(174, 213, 129, 0.8)', 'rgba(255, 112, 67, 0.8)', 'rgba(77, 208, 225, 0.8)', 'rgba(149, 117, 205, 0.8)', 'rgba(120, 120, 120, 0.6)'];
        if (repoEntries.length > 0) {
          new Chart(document.getElementById('gitReposChart'), {
            type: 'doughnut',
            data: {
              labels: repoEntries.map(([r]) => r),
              datasets: [{
                data: repoEntries.map(([, c]) => c),
                backgroundColor: repoEntries.map((_, i) => repoColors[i % repoColors.length]),
                borderWidth: 0
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { position: 'right', labels: { color: '#999', font: { size: 10 }, padding: 8 } },
                tooltip: { callbacks: { label: ctx => ctx.label + ': ' + ctx.raw + ' commits' } }
              }
            }
          });
        }

        // Git stat cards
        const gitStats = gitData.stats || {};
        el('gitCommitCount', gitStats.total || 0);
        el('gitRepoCount', repoEntries.length);
        el('gitInsertions', formatNumber(gitStats.insertions || 0));
        el('gitDeletions', formatNumber(gitStats.deletions || 0));

        // Failure patterns
        if (failurePatterns.length > 0) {
          el('failurePatternsCount', failurePatterns.length);
          document.getElementById('failurePatternsList').innerHTML = failurePatterns.map(fp => `
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border);">
              <div style="flex: 1; min-width: 0;">
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--accent-red);">${fp.tool}</div>
                <div style="font-size: 0.75rem; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${fp.error}</div>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 0.85rem; color: var(--text-primary);">${fp.failures}x</div>
                <div style="font-size: 0.7rem; color: var(--text-secondary);">${fp.date}</div>
              </div>
            </div>
          `).join('');
        }
      })();
    }

    function getProductivityMode(reads, writes) {
      if (reads === 0 && writes === 0) {
        return { label: 'No activity', recommendation: 'Start tracking with Observatory commands' };
      }

      const ratio = reads / Math.max(writes, 1);

      if (ratio > 100) {
        return {
          label: 'Read-heavy (exploration mode)',
          recommendation: 'Consider writing more code or documentation'
        };
      } else if (ratio > 20) {
        return {
          label: 'Learning/researching',
          recommendation: 'Good balance for research phase'
        };
      } else if (ratio > 10) {
        return {
          label: 'Balanced productivity',
          recommendation: 'Excellent read/write balance'
        };
      } else {
        return {
          label: 'High productivity mode',
          recommendation: 'Great coding velocity!'
        };
      }
    }

    init();

    // Context Efficiency Tab - Load Pack Metrics
    async function loadPackMetrics() {
      try {
        const packData = PACK_DATA || {};

        if (packData.status === 'not_configured') {
          document.getElementById('totalSessions').textContent = '0';
          document.getElementById('totalTokenSavings').textContent = 'Not configured';
          document.getElementById('totalCostSavings').textContent = '‚Äî';
          document.getElementById('avgReduction').textContent = '‚Äî';
          document.getElementById('topPacksCount').textContent = '0';
          document.getElementById('topPacksList').innerHTML = '<div style="color:var(--text-secondary);padding:20px;text-align:center;"><div style="font-size:2rem;margin-bottom:10px;">üì¶</div><div>Context packs not configured</div><div style="font-size:0.85rem;margin-top:8px;opacity:0.7;">Run: python3 build_packs.py --create</div></div>';
          return;
        }

        const g = packData.global || {};
        const topPacks = packData.top_packs || [];
        const daily = packData.daily_trend || [];
        const inventory = packData.pack_inventory || [];

        // --- 6 Stat Cards ---
        document.getElementById('totalSessions').textContent = (g.total_sessions || 0).toLocaleString();
        const tokenSavings = g.total_token_savings || 0;
        document.getElementById('totalTokenSavings').textContent = tokenSavings >= 1000000 ? (tokenSavings / 1000000).toFixed(1) + 'M' : tokenSavings.toLocaleString();
        document.getElementById('totalCostSavings').textContent = `$${(g.total_cost_savings || 0).toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
        document.getElementById('avgReduction').textContent = `${(g.avg_reduction_rate || 0).toFixed(1)}%`;
        document.getElementById('totalPacks').textContent = g.total_packs || inventory.length;
        document.getElementById('totalPackTokens').textContent = (g.total_tokens || 0).toLocaleString();

        // --- Chart 1: Daily Sessions + Cost Savings (dual Y-axis) ---
        const scCtx = document.getElementById('packSessionCostChart')?.getContext('2d');
        if (scCtx && daily.length > 0) {
          document.getElementById('packDaysBadge').textContent = daily.length + ' Days';
          const labels = daily.map(d => { const p = d.date.split('-'); return p[1] + '/' + p[2]; });
          // Peak day highlight
          const maxSessions = Math.max(...daily.map(d => d.sessions));
          new Chart(scCtx, {
            type: 'bar',
            data: {
              labels,
              datasets: [
                {
                  label: 'Sessions',
                  data: daily.map(d => d.sessions),
                  backgroundColor: daily.map(d => d.sessions === maxSessions ? 'rgba(255, 215, 0, 0.9)' : 'rgba(168, 85, 247, 0.6)'),
                  borderRadius: 3,
                  yAxisID: 'y'
                },
                {
                  label: 'Cost Savings ($)',
                  data: daily.map(d => d.cost_savings),
                  type: 'line',
                  borderColor: 'rgba(0, 255, 136, 1)',
                  backgroundColor: 'rgba(0, 255, 136, 0.1)',
                  fill: true,
                  tension: 0.3,
                  pointRadius: 2,
                  yAxisID: 'y1'
                }
              ]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: true, labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 8, font: { size: 10 } } } },
              scales: {
                x: { ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 9 } }, grid: { display: false } },
                y: { beginAtZero: true, position: 'left', title: { display: true, text: 'Sessions', color: 'rgba(168,85,247,0.8)', font: { size: 10 } }, ticks: { color: 'rgba(168,85,247,0.7)' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y1: { beginAtZero: true, position: 'right', title: { display: true, text: 'Cost ($)', color: 'rgba(0,255,136,0.8)', font: { size: 10 } }, ticks: { color: 'rgba(0,255,136,0.7)', callback: v => '$' + v }, grid: { display: false } }
              }
            }
          });
        }

        // --- Chart 2: Daily Token Savings (bar + 7-day MA) ---
        const tsCtx = document.getElementById('savingsTrendChart')?.getContext('2d');
        if (tsCtx && daily.length > 0) {
          document.getElementById('packTokenTrendBadge').textContent = (tokenSavings >= 1000000 ? (tokenSavings/1000000).toFixed(1) + 'M' : tokenSavings.toLocaleString()) + ' Total';
          const labels = daily.map(d => { const p = d.date.split('-'); return p[1] + '/' + p[2]; });
          const tokenData = daily.map(d => d.token_savings);
          // 7-day moving average
          const ma7 = tokenData.map((v, i) => {
            if (i < 6) return null;
            const slice = tokenData.slice(i - 6, i + 1);
            return slice.reduce((a, b) => a + b, 0) / 7;
          });
          new Chart(tsCtx, {
            type: 'bar',
            data: {
              labels,
              datasets: [
                { label: 'Token Savings', data: tokenData, backgroundColor: 'rgba(0, 212, 255, 0.5)', borderRadius: 3 },
                { label: '7-Day MA', data: ma7, type: 'line', borderColor: 'rgba(255, 215, 0, 1)', borderWidth: 2, pointRadius: 0, tension: 0.4, spanGaps: true }
              ]
            },
            options: {
              responsive: true, maintainAspectRatio: false,
              plugins: { legend: { display: true, labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 8, font: { size: 10 } } } },
              scales: {
                x: { ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 9 } }, grid: { display: false } },
                y: { beginAtZero: true, ticks: { color: 'rgba(255,255,255,0.5)', callback: v => v >= 1000000 ? (v/1000000).toFixed(0) + 'M' : v >= 1000 ? (v/1000).toFixed(0) + 'K' : v }, grid: { color: 'rgba(255,255,255,0.05)' } }
              }
            }
          });
        }

        // --- Chart 3: Pack Inventory by Type (doughnut) ---
        const ptCtx = document.getElementById('packTypeChart')?.getContext('2d');
        if (ptCtx && inventory.length > 0) {
          document.getElementById('packInventoryCount').textContent = inventory.length;
          const typeCounts = {};
          inventory.forEach(p => { typeCounts[p.type] = (typeCounts[p.type] || 0) + 1; });
          const typeEntries = Object.entries(typeCounts).sort((a, b) => b[1] - a[1]);
          const typeColors = { domain: 'rgba(0, 212, 255, 0.8)', project: 'rgba(168, 85, 247, 0.8)', pattern: 'rgba(255, 215, 0, 0.8)', custom: 'rgba(255, 136, 0, 0.8)' };
          new Chart(ptCtx, {
            type: 'doughnut',
            data: {
              labels: typeEntries.map(e => e[0]),
              datasets: [{ data: typeEntries.map(e => e[1]), backgroundColor: typeEntries.map(e => typeColors[e[0]] || 'rgba(100,200,255,0.8)'), borderWidth: 0 }]
            },
            options: {
              responsive: true, maintainAspectRatio: false, cutout: '55%',
              plugins: {
                legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 8, font: { size: 11 } } },
                tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.raw} pack${ctx.raw > 1 ? 's' : ''}` } }
              }
            }
          });
        }

        // --- Chart 4: Pack Token Sizes (horizontal bar) ---
        const psCtx = document.getElementById('packSizeChart')?.getContext('2d');
        if (psCtx && inventory.length > 0) {
          const sorted = [...inventory].sort((a, b) => (b.tokens || 0) - (a.tokens || 0));
          const typeColors = { domain: 'rgba(0, 212, 255, 0.7)', project: 'rgba(168, 85, 247, 0.7)', pattern: 'rgba(255, 215, 0, 0.7)', custom: 'rgba(255, 136, 0, 0.7)' };
          new Chart(psCtx, {
            type: 'bar',
            data: {
              labels: sorted.map(p => p.name),
              datasets: [{
                label: 'Tokens',
                data: sorted.map(p => p.tokens || 0),
                backgroundColor: sorted.map(p => typeColors[p.type] || 'rgba(100,200,255,0.7)'),
                borderRadius: 4
              }]
            },
            options: {
              indexAxis: 'y', responsive: true, maintainAspectRatio: false,
              plugins: {
                legend: { display: false },
                tooltip: { callbacks: { label: ctx => `${ctx.raw} tokens (${sorted[ctx.dataIndex].type})` } }
              },
              scales: {
                x: { beginAtZero: true, title: { display: true, text: 'Tokens', color: 'rgba(255,255,255,0.5)', font: { size: 10 } }, ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 10 } }, grid: { display: false } }
              }
            }
          });
        }

        // --- Top Packs List ---
        document.getElementById('topPacksCount').textContent = topPacks.length;
        const topPacksList = document.getElementById('topPacksList');
        if (topPacks.length > 0) {
          topPacksList.innerHTML = topPacks.map(pack => {
            const combined = (pack.combined_with || []).map(c => `<span style="padding:2px 6px;border-radius:4px;font-size:0.65rem;background:rgba(0,212,255,0.15);color:var(--accent-cyan);">${c}</span>`).join(' ');
            return `
              <div style="display:flex;align-items:center;gap:1rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;margin-bottom:0.5rem;">
                <div style="flex:1;">
                  <div style="font-weight:600;color:var(--text-primary);font-size:0.9rem;">${pack.name}</div>
                  <div style="font-size:0.7rem;color:var(--text-secondary);margin-top:4px;">Used ${pack.times_selected}x | ${pack.total_tokens_loaded || 0} tokens loaded</div>
                  ${combined ? `<div style="margin-top:6px;display:flex;gap:4px;flex-wrap:wrap;">${combined}</div>` : ''}
                </div>
                <div style="display:flex;gap:1rem;text-align:center;">
                  <div><div style="font-size:1.1rem;font-weight:700;color:var(--accent-green);">${(pack.avg_dq_score || 0).toFixed(2)}</div><div style="font-size:0.65rem;color:var(--text-muted);">DQ</div></div>
                  <div><div style="font-size:1.1rem;font-weight:700;color:var(--accent-cyan);">${(pack.avg_consensus_score || 0).toFixed(2)}</div><div style="font-size:0.65rem;color:var(--text-muted);">Consensus</div></div>
                </div>
              </div>
            `;
          }).join('');
        } else {
          topPacksList.innerHTML = '<p style="color:var(--text-muted);text-align:center;padding:1rem;">No pack usage recorded yet</p>';
        }

        // --- Pack Inventory List ---
        const inventoryList = document.getElementById('packInventoryList');
        if (inventory.length > 0) {
          const typeColors = { domain: 'var(--accent-cyan)', project: 'var(--accent-purple)', pattern: 'var(--accent-yellow)' };
          inventoryList.innerHTML = inventory.map(pack => {
            const color = typeColors[pack.type] || 'var(--text-muted)';
            const usedBadge = pack.times_used > 0 ? `<span style="color:var(--accent-green);font-size:0.7rem;">${pack.times_used}x used</span>` : '<span style="color:var(--text-muted);font-size:0.7rem;">unused</span>';
            const dqBadge = pack.avg_dq_score > 0 ? `<span style="color:var(--accent-green);font-size:0.7rem;">DQ: ${pack.avg_dq_score.toFixed(2)}</span>` : '';
            return `
              <div style="display:flex;align-items:center;gap:0.75rem;padding:0.6rem;border-bottom:1px solid var(--border);">
                <span style="padding:2px 8px;border-radius:4px;font-size:0.65rem;background:${color}22;color:${color};font-weight:600;">${pack.type}</span>
                <div style="flex:1;">
                  <div style="font-weight:500;font-size:0.85rem;">${pack.name}</div>
                  <div style="font-size:0.7rem;color:var(--text-secondary);">v${pack.version} | ${pack.tokens || 0} tokens</div>
                </div>
                <div style="display:flex;gap:8px;align-items:center;">
                  ${dqBadge}
                  ${usedBadge}
                </div>
              </div>
            `;
          }).join('');
        } else {
          inventoryList.innerHTML = '<p style="color:var(--text-muted);text-align:center;padding:1rem;">No packs in inventory</p>';
        }

      } catch (error) {
        console.error('Error loading pack metrics:', error);
      }
    }

    // Load pack metrics when tab is accessed
    document.querySelector('[data-tab="context-efficiency"]')?.addEventListener('click', () => {
      setTimeout(loadPackMetrics, 100);
    });

    // Load on page load if tab is active
    if (document.getElementById('context-efficiency')?.classList.contains('active')) {
      loadPackMetrics();
    }

    // ============================================================================
    // SESSION OUTCOMES - CHART-BASED VISUALIZATION
    // ============================================================================

    (function renderSessionOutcomesTab() {
      const data = SESSION_OUTCOMES_DATA || {};
      const totals = data.totals || {};
      const daily = data.daily || [];
      const qDist = data.qualityDist || {};
      const mOutcomes = data.modelOutcomes || {};
      const sizeDist = data.sizeDist || {};
      const recentSessions = data.sessions || [];

      // Stat cards
      const total = totals.total || 0;
      const successRate = total > 0 ? (totals.success / total * 100).toFixed(1) : 0;
      document.getElementById('sessionTotalCount').textContent = formatNumber(total);
      document.getElementById('sessionSuccessRate').textContent = successRate + '%';
      document.getElementById('sessionAvgMessages').textContent = Math.round(totals.avgMessages || 0);
      document.getElementById('sessionMarathon').textContent = formatNumber(totals.marathon || 0);
      document.getElementById('sessionTotalMessages').textContent = formatNumber(totals.totalMessages || 0);

      const chartOpts = {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: { labels: { color: '#888', boxWidth: 12 } } },
        scales: {
          x: { ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } },
          y: { ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } }
        }
      };

      // 1. Outcome Distribution Doughnut
      const outcomeColors = {
        success: 'rgba(0,230,118,0.8)', abandoned: 'rgba(233,69,96,0.8)',
        partial: 'rgba(254,202,87,0.8)', error: 'rgba(231,76,60,0.8)', other: 'rgba(155,89,182,0.8)'
      };
      document.getElementById('outcomeDistBadge').textContent = formatNumber(total) + ' Sessions';
      new Chart(document.getElementById('outcomeDonutChart'), {
        type: 'doughnut',
        data: {
          labels: ['Success', 'Abandoned', 'Partial', 'Error', 'Other'],
          datasets: [{
            data: [totals.success||0, totals.abandoned||0, totals.partial||0, totals.error||0, totals.other||0],
            backgroundColor: [outcomeColors.success, outcomeColors.abandoned, outcomeColors.partial, outcomeColors.error, outcomeColors.other],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          plugins: {
            legend: { position: 'bottom', labels: { color: '#888' } },
            tooltip: { callbacks: { label: ctx => ctx.label + ': ' + ctx.raw + ' (' + (ctx.raw/Math.max(total,1)*100).toFixed(1) + '%)' } }
          }
        }
      });

      // 2. Quality Distribution Bar
      const qualityLabels = ['1', '2', '3', '4', '5'];
      const qualityData = qualityLabels.map(q => qDist[q] || 0);
      const qualityColors = ['rgba(231,76,60,0.8)', 'rgba(233,69,96,0.8)', 'rgba(254,202,87,0.8)', 'rgba(72,219,251,0.8)', 'rgba(0,230,118,0.8)'];
      new Chart(document.getElementById('qualityBarChart'), {
        type: 'bar',
        data: {
          labels: qualityLabels.map(q => q + ' Star'),
          datasets: [{ data: qualityData, backgroundColor: qualityColors, borderRadius: 6 }]
        },
        options: { ...chartOpts, plugins: { legend: { display: false } } }
      });

      // 3. Daily Sessions Line
      if (daily.length) {
        document.getElementById('dailySessionsDays').textContent = daily.length + ' days';
        new Chart(document.getElementById('dailySessionsChart'), {
          type: 'bar',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [
              { label: 'Success', data: daily.map(d => d.success), backgroundColor: outcomeColors.success, borderRadius: 2 },
              { label: 'Abandoned', data: daily.map(d => d.abandoned), backgroundColor: outcomeColors.abandoned, borderRadius: 2 },
              { label: 'Other', data: daily.map(d => d.sessions - d.success - d.abandoned), backgroundColor: outcomeColors.partial, borderRadius: 2 }
            ]
          },
          options: {
            ...chartOpts,
            scales: {
              x: { stacked: true, ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } },
              y: { stacked: true, ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });

        // 4. Success Rate Trend (rolling)
        const successRates = daily.map(d => d.sessions > 0 ? +(d.success / d.sessions * 100).toFixed(1) : 0);
        new Chart(document.getElementById('successRateTrendChart'), {
          type: 'line',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Success %',
              data: successRates,
              borderColor: 'rgba(0,230,118,1)',
              backgroundColor: 'rgba(0,230,118,0.1)',
              fill: true, tension: 0.3, pointRadius: 4,
              pointBackgroundColor: 'rgba(0,230,118,1)'
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              ...chartOpts.scales,
              y: { min: 0, max: 100, ticks: { color: '#666', callback: v => v + '%' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });

        // 5. Sessions by Model (stacked per day)
        new Chart(document.getElementById('modelSessionsChart'), {
          type: 'bar',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [
              { label: 'Opus', data: daily.map(d => d.opus), backgroundColor: 'rgba(233,69,96,0.8)', borderRadius: 2 },
              { label: 'Sonnet', data: daily.map(d => d.sonnet), backgroundColor: 'rgba(72,219,251,0.8)', borderRadius: 2 },
              { label: 'Haiku', data: daily.map(d => d.haiku), backgroundColor: 'rgba(254,202,87,0.8)', borderRadius: 2 }
            ]
          },
          options: {
            ...chartOpts,
            scales: {
              x: { stacked: true, ticks: { color: '#666', maxRotation: 45 }, grid: { display: false } },
              y: { stacked: true, ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });

        // 6. Quality Trend
        const qualityTrend = daily.map(d => d.avgQuality || 0);
        new Chart(document.getElementById('qualityTrendChart'), {
          type: 'line',
          data: {
            labels: daily.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Avg Quality',
              data: qualityTrend,
              borderColor: 'rgba(254,202,87,1)',
              backgroundColor: 'rgba(254,202,87,0.1)',
              fill: true, tension: 0.3, pointRadius: 4,
              pointBackgroundColor: 'rgba(254,202,87,1)'
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              ...chartOpts.scales,
              y: { min: 0, max: 5, ticks: { color: '#666', stepSize: 1 }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });
      }

      // 7. Session Size Distribution (horizontal bar)
      const sizeOrder = ['empty', 'tiny', 'small', 'medium', 'large', 'marathon'];
      const sizeLabels = ['Empty (0)', 'Tiny (1-5)', 'Small (6-20)', 'Medium (21-50)', 'Large (51-100)', 'Marathon (100+)'];
      const sizeData = sizeOrder.map(s => sizeDist[s] || 0);
      const sizeColors = ['rgba(108,117,125,0.6)', 'rgba(155,89,182,0.8)', 'rgba(72,219,251,0.8)', 'rgba(254,202,87,0.8)', 'rgba(233,69,96,0.8)', 'rgba(0,230,118,0.8)'];
      document.getElementById('sizeTotalBadge').textContent = formatNumber(total) + ' sessions';
      new Chart(document.getElementById('sizeDistChart'), {
        type: 'bar',
        data: {
          labels: sizeLabels,
          datasets: [{ data: sizeData, backgroundColor: sizeColors, borderRadius: 4 }]
        },
        options: {
          responsive: true, maintainAspectRatio: false, indexAxis: 'y',
          plugins: { legend: { display: false } },
          scales: {
            x: { ticks: { color: '#666' }, grid: { color: 'rgba(255,255,255,0.05)' } },
            y: { ticks: { color: '#888', font: { size: 11 } }, grid: { display: false } }
          }
        }
      });

      // 8. Success Rate by Model (grouped bar)
      const modelNames = Object.keys(mOutcomes);
      if (modelNames.length) {
        new Chart(document.getElementById('modelSuccessChart'), {
          type: 'bar',
          data: {
            labels: modelNames.map(m => m.charAt(0).toUpperCase() + m.slice(1)),
            datasets: [
              { label: 'Success', data: modelNames.map(m => mOutcomes[m].success), backgroundColor: outcomeColors.success, borderRadius: 4 },
              { label: 'Abandoned', data: modelNames.map(m => mOutcomes[m].abandoned), backgroundColor: outcomeColors.abandoned, borderRadius: 4 },
              { label: 'Partial', data: modelNames.map(m => mOutcomes[m].partial), backgroundColor: outcomeColors.partial, borderRadius: 4 }
            ]
          },
          options: chartOpts
        });
      }

      // 9. Recent Sessions Table
      document.getElementById('recentSessionsCount').textContent = recentSessions.length + ' recent';
      const outcomeEmojis = { success: '‚úÖ', abandoned: '‚è∏Ô∏è', error: '‚ùå', partial: '‚ö†Ô∏è', completed: '‚úÖ', quick: '‚ö°' };
      const sessionsTable = document.getElementById('recentSessionsTable');
      sessionsTable.innerHTML = recentSessions.map(s => {
        const emoji = outcomeEmojis[s.outcome] || '‚ùì';
        const q = Math.round(s.quality || 0);
        const stars = q > 0 ? '‚òÖ'.repeat(q) : '-';
        const modelColor = { opus: 'var(--accent-red)', sonnet: 'var(--accent-cyan)', haiku: 'var(--accent-yellow)' }[s.model] || 'var(--text-secondary)';
        return `
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 10px; font-size: 0.85rem; color: var(--text-secondary);">${s.date || '-'}</td>
            <td style="padding: 10px; font-size: 0.85rem; color: ${modelColor}; font-weight: 600;">${(s.model || 'opus').charAt(0).toUpperCase() + (s.model || 'opus').slice(1)}</td>
            <td style="padding: 10px; text-transform: capitalize;">${emoji} ${s.outcome || 'unknown'}</td>
            <td style="padding: 10px; text-align: right;">${s.messages || 0}</td>
            <td style="padding: 10px; text-align: right;">${s.tools || 0}</td>
            <td style="padding: 10px; text-align: center; color: var(--accent-yellow);">${stars}</td>
          </tr>
        `;
      }).join('');
    })();

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // SUPERMEMORY TAB
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

    function renderSupermemory() {
      const data = SUPERMEMORY_DATA || {};
      const totals = data.totals || {};
      const sources = data.sources || {};
      const projects = data.projects || {};
      const learningCats = data.learningCategories || {};
      const dailyGrowth = data.dailyGrowth || [];
      const dailyLearnings = data.dailyLearnings || [];
      const reviewData = data.review || {};
      const reviewByCategory = reviewData.byCategory || {};
      const dueCount = reviewData.due_count || 0;
      const upcomingCount = reviewData.upcoming_count || 0;

      const el = (id, val) => { const e = document.getElementById(id); if (e) e.textContent = val; };

      // Status
      const statusEl = document.getElementById('supermemoryStatus');
      if (data.status === 'active') {
        statusEl.textContent = 'Active';
        statusEl.style.color = 'var(--accent-green)';
      } else {
        statusEl.textContent = 'Offline';
        statusEl.style.color = 'var(--accent-yellow)';
      }

      // Stat cards
      el('smMemoryItems', formatNumber(totals.memory_items || 0));
      el('smLearnings', formatNumber(totals.learnings || 0));
      el('smReviewTotal', formatNumber(totals.review_items || 0));
      el('smErrorPatterns', formatNumber(totals.error_patterns || 0));
      el('smProjects', Object.keys(projects).length);

      const dueEl = document.getElementById('smReviewDue');
      if (dueEl) {
        dueEl.textContent = dueCount;
        if (dueCount > 0) dueEl.style.color = 'var(--accent-yellow)';
      }

      // Source breakdown cards
      el('smSourceDaily', formatNumber(sources.daily || 0));
      el('smSourceOutcome', formatNumber(sources.outcome || 0));
      el('smSourceError', formatNumber(sources.error || 0));

      // Review badges
      el('smReviewBadge', dueCount + ' due / ' + upcomingCount + ' upcoming');
      el('smReviewDueBadge', dueCount + ' due');
      el('smErrorCount', totals.error_patterns || 0);

      const chartOpts = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { labels: { color: '#999', font: { size: 11 } } } }
      };
      const gridOpts = { color: 'rgba(255,255,255,0.05)' };
      const tickOpts = { color: '#666' };

      // 1. Memory Growth (bar + cumulative line)
      if (dailyGrowth.length > 0) {
        let cumulative = 0;
        const cumulativeData = dailyGrowth.map(d => { cumulative += d.count; return cumulative; });
        new Chart(document.getElementById('smGrowthChart'), {
          type: 'bar',
          data: {
            labels: dailyGrowth.map(d => d.date.slice(5)),
            datasets: [{
              label: 'New Items',
              data: dailyGrowth.map(d => d.count),
              backgroundColor: 'rgba(0, 217, 255, 0.5)',
              borderRadius: 3,
              order: 2
            }, {
              label: 'Cumulative',
              data: cumulativeData,
              type: 'line',
              borderColor: 'rgba(0, 230, 118, 1)',
              borderWidth: 2,
              pointRadius: 0,
              tension: 0.4,
              fill: false,
              yAxisID: 'y1',
              order: 1
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { position: 'left', ticks: tickOpts, grid: gridOpts, title: { display: true, text: 'Daily', color: '#666' } },
              y1: { position: 'right', ticks: tickOpts, grid: { display: false }, title: { display: true, text: 'Cumulative', color: '#666' } },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });
      }

      // 2. Project Distribution (doughnut)
      const projectEntries = Object.entries(projects).sort((a, b) => b[1] - a[1]);
      const projColors = ['rgba(0, 217, 255, 0.8)', 'rgba(0, 230, 118, 0.8)', 'rgba(233, 69, 96, 0.8)', 'rgba(255, 215, 0, 0.8)', 'rgba(156, 39, 176, 0.8)', 'rgba(255, 152, 0, 0.8)'];
      if (projectEntries.length > 0) {
        new Chart(document.getElementById('smProjectChart'), {
          type: 'doughnut',
          data: {
            labels: projectEntries.map(([p]) => p),
            datasets: [{
              data: projectEntries.map(([, c]) => c),
              backgroundColor: projectEntries.map((_, i) => projColors[i % projColors.length]),
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: '#999', font: { size: 11 }, padding: 10 } },
              tooltip: { callbacks: { label: ctx => ctx.label + ': ' + formatNumber(ctx.raw) + ' items' } }
            }
          }
        });
      }

      // 3. Learning Categories (horizontal bar)
      const catEntries = Object.entries(learningCats).sort((a, b) => b[1] - a[1]).slice(0, 10);
      const catColors = ['rgba(0, 217, 255, 0.7)', 'rgba(0, 230, 118, 0.7)', 'rgba(233, 69, 96, 0.7)', 'rgba(255, 215, 0, 0.7)', 'rgba(156, 39, 176, 0.7)', 'rgba(255, 152, 0, 0.7)', 'rgba(100, 181, 246, 0.7)', 'rgba(174, 213, 129, 0.7)', 'rgba(255, 112, 67, 0.7)', 'rgba(77, 208, 225, 0.7)'];
      if (catEntries.length > 0) {
        new Chart(document.getElementById('smCategoryChart'), {
          type: 'bar',
          data: {
            labels: catEntries.map(([c]) => c),
            datasets: [{
              label: 'Learnings',
              data: catEntries.map(([, c]) => c),
              backgroundColor: catEntries.map((_, i) => catColors[i % catColors.length]),
              borderRadius: 4
            }]
          },
          options: {
            ...chartOpts,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
              x: { ticks: tickOpts, grid: gridOpts },
              y: { ticks: { ...tickOpts, font: { size: 11 } }, grid: { display: false } }
            }
          }
        });
      }

      // 4. Review Queue by Category (stacked bar: due vs upcoming)
      const revCatEntries = Object.entries(reviewByCategory).sort((a, b) => b[1].total - a[1].total).slice(0, 10);
      if (revCatEntries.length > 0) {
        new Chart(document.getElementById('smReviewChart'), {
          type: 'bar',
          data: {
            labels: revCatEntries.map(([c]) => c),
            datasets: [
              { label: 'Due Now', data: revCatEntries.map(([, v]) => v.due), backgroundColor: 'rgba(255, 215, 0, 0.8)', borderRadius: 3 },
              { label: 'Upcoming', data: revCatEntries.map(([, v]) => v.total - v.due), backgroundColor: 'rgba(0, 217, 255, 0.4)', borderRadius: 3 }
            ]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { stacked: true, ticks: tickOpts, grid: gridOpts },
              x: { stacked: true, ticks: tickOpts, grid: { display: false } }
            }
          }
        });
      }

      // Automations table (kept from v1)
      const automations = data.automations || {};
      const automationRows = [
        { name: 'Session Sync', key: 'session_sync', trigger: 'Session end hook' },
        { name: 'Error Lookup', key: 'error_lookup', trigger: 'Error detection hook' },
        { name: 'Daily Sync', key: 'daily_cron', trigger: 'LaunchD @ 6am' },
        { name: 'Weekly Rollup', key: 'weekly_rollup', trigger: 'Cron @ Sunday 8pm' }
      ];
      const automationsBody = document.getElementById('smAutomationsBody');
      if (automationsBody) {
        automationsBody.innerHTML = automationRows.map(row => {
          const enabled = automations[row.key];
          const statusColor = enabled ? 'var(--accent-green)' : 'var(--accent-red)';
          return `
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 10px; color: var(--text-primary);">${row.name}</td>
              <td style="padding: 10px; text-align: center; color: ${statusColor};">${enabled ? 'ON' : 'OFF'}</td>
              <td style="padding: 10px; color: var(--text-secondary); font-size: 0.85rem;">${row.trigger}</td>
            </tr>
          `;
        }).join('');
      }

      // Review queue list (enhanced ‚Äî show up to 10)
      const reviewItems = reviewData.items || [];
      const reviewList = document.getElementById('smReviewList');
      if (reviewItems.length > 0) {
        reviewList.innerHTML = reviewItems.map(item => {
          const catColor = { general: 'var(--accent-cyan)', feature: 'var(--accent-green)', architecture: 'var(--accent-purple)', bug_fix: 'var(--accent-red)', devops: 'var(--accent-yellow)' }[item.category] || 'var(--accent-yellow)';
          return `
            <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-hover); border-radius: 6px; border-left: 3px solid ${catColor};">
              <div style="color: var(--text-primary); font-size: 0.85rem; line-height: 1.4;">${(item.content || '').substring(0, 150)}${(item.content || '').length > 150 ? '...' : ''}</div>
              <div style="display: flex; justify-content: space-between; margin-top: 6px;">
                <span style="color: var(--text-secondary); font-size: 0.7rem; background: var(--card-bg); padding: 2px 8px; border-radius: 10px;">${item.category || 'general'}</span>
                <span style="color: var(--text-secondary); font-size: 0.7rem;">Due: ${item.next_review || 'Now'}</span>
              </div>
            </div>
          `;
        }).join('');
      } else if (dueCount === 0) {
        reviewList.innerHTML = '<p style="color: var(--accent-green); text-align: center; padding: 20px;">All caught up! No items due for review.</p>';
      }

      // Recent learnings (kept from v1, enhanced display)
      const learnings = data.recent_learnings || [];
      const learningsList = document.getElementById('smLearningsList');
      if (learnings.length > 0) {
        learningsList.innerHTML = learnings.map(learning => {
          const catBadge = learning.category ? `<span style="background: var(--bg-hover); padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; color: var(--text-secondary);">${learning.category}</span>` : '';
          return `
            <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-hover); border-radius: 6px; border-left: 3px solid var(--accent-cyan);">
              <div style="color: var(--text-primary); font-size: 0.85rem; line-height: 1.4;">${(learning.content || '').substring(0, 200)}${(learning.content || '').length > 200 ? '...' : ''}</div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 6px;">
                ${catBadge}
                <span style="color: var(--text-secondary); font-size: 0.7rem;">${learning.date || ''}</span>
              </div>
            </div>
          `;
        }).join('');
      }

      // Error patterns (enhanced with solution badge and count formatting)
      const errors = data.error_patterns || [];
      const errorsList = document.getElementById('smErrorsList');
      if (errors.length > 0) {
        errorsList.innerHTML = errors.map(err => `
          <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-hover); border-radius: 6px; border-left: 3px solid rgba(233, 69, 96, 0.8);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
              <span style="color: var(--text-secondary); font-size: 0.75rem; background: var(--card-bg); padding: 2px 8px; border-radius: 10px;">${err.category || 'unknown'}</span>
              ${err.solution ? '<span style="color: var(--accent-green); font-size: 0.7rem;">Has Fix</span>' : '<span style="color: var(--accent-red); font-size: 0.7rem;">No Fix</span>'}
            </div>
            <div style="color: var(--text-primary); font-size: 0.85rem; font-family: 'JetBrains Mono', monospace;">${err.pattern || err.error || err}</div>
            <div style="color: var(--text-secondary); font-size: 0.75rem; margin-top: 4px;">Occurrences: ${formatNumber(err.count || 1)}</div>
          </div>
        `).join('');
      }
    }

    // Render supermemory on load
    renderSupermemory();

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // COGNITIVE OS TAB
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

    function renderCognitive() {
      const data = COGNITIVE_DATA || {};
      const state = data.current_state || {};
      const flow = data.flow || {};
      const fate = data.fate || {};
      const accuracy = data.fate_accuracy || {};
      const fateDist = data.fate_distribution || {};
      const fateDaily = data.fate_daily || [];
      const routingSql = data.routing_sqlite || {};
      const flowHistory = data.flow_history || [];

      const el = (id, val) => { const e = document.getElementById(id); if (e) e.textContent = val; };
      const elStyle = (id, val, color) => { const e = document.getElementById(id); if (e) { e.textContent = val; if (color) e.style.color = color; } };

      // Stat cards
      elStyle('cognitiveMode', state.mode || '‚Äî',
        { peak: 'var(--accent-green)', evening: 'var(--accent-cyan)', deep_night: 'var(--accent-purple)', morning: 'var(--accent-yellow)', dip: 'var(--accent-red)' }[state.mode] || 'var(--text-primary)');
      el('cognitiveEnergy', state.energy_level ? Math.round(state.energy_level * 100) + '%' : '‚Äî');
      elStyle('cognitiveFlow', flow.state || '‚Äî', flow.in_flow ? 'var(--accent-green)' : undefined);
      elStyle('cognitiveFate', fate.predicted_outcome || '‚Äî',
        { success: 'var(--accent-green)', abandon: 'var(--accent-red)', partial: 'var(--accent-yellow)' }[fate.predicted_outcome] || 'var(--text-secondary)');
      const fateTotal = accuracy.total || 0;
      const fateCorrect = accuracy.correct || 0;
      const fateRate = fateTotal > 0 ? Math.round((fateCorrect / fateTotal) * 100) : 0;
      el('cogFateAccuracy', fateRate + '% (' + fateCorrect + '/' + fateTotal + ')');
      el('cogRoutingTotal', formatNumber(routingSql.total || 0));

      // Cognitive brief
      const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
      el('cognitiveDay', today);
      el('cognitiveRecommendedTasks', (state.recommended_tasks || []).slice(0, 3).join(', ') || '‚Äî');
      el('cognitiveRecommendedModel', (data.routing || {}).recommended_model || '‚Äî');
      el('cognitivePeakHours', (data.peak_hours || []).map(h => h + ':00').join(', ') || '20:00, 19:00, 3:00');
      el('cogFlowScore', flow.score ? flow.score.toFixed(2) : '‚Äî');

      // Warnings
      const warnings = state.warnings || [];
      const warningsEl = document.getElementById('cognitiveWarnings');
      if (warningsEl) {
        warningsEl.innerHTML = warnings.length > 0 ? warnings.map(w => `<div style="padding:4px 0;">‚ö† ${w}</div>`).join('') : '';
      }

      // Weekly energy map (kept ‚Äî works well)
      const weekly = data.weekly || {};
      const energyBars = document.getElementById('energyBars');
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
      if (energyBars) {
        energyBars.innerHTML = days.map(day => {
          const dayData = weekly[day] || { level: 0.5, energy: 'MED' };
          const level = dayData.level || 0.5;
          const isToday = day === today;
          const color = level >= 0.7 ? 'var(--accent-green)' : level >= 0.5 ? 'var(--accent-yellow)' : 'var(--accent-red)';
          const width = Math.round(level * 100);
          return `
            <div style="display:flex;align-items:center;gap:1rem;${isToday ? 'background:var(--bg-glass);padding:0.5rem;border-radius:6px;' : ''}">
              <span style="width:100px;color:${isToday ? 'var(--accent-cyan)' : 'var(--text-secondary)'};font-size:0.85rem;">${day.slice(0,3)}${isToday ? ' ‚Üê' : ''}</span>
              <div style="flex:1;height:20px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;">
                <div style="width:${width}%;height:100%;background:${color};border-radius:4px;transition:width 0.3s;"></div>
              </div>
              <span style="width:50px;text-align:right;color:var(--text-muted);font-size:0.8rem;">${dayData.energy}</span>
            </div>
          `;
        }).join('');
      }

      const chartOpts = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { labels: { color: '#999', font: { size: 11 } } } }
      };
      const gridOpts = { color: 'rgba(255,255,255,0.05)' };
      const tickOpts = { color: '#666' };

      // 1. Flow State History (all 200 entries ‚Äî line with in-flow highlights)
      if (flowHistory.length > 0) {
        const scores = flowHistory.map(f => f.flow_score || 0);
        // Moving average
        const flowMA = scores.map((v, i) => {
          const w = scores.slice(Math.max(0, i - 9), i + 1);
          return w.reduce((a, b) => a + b, 0) / w.length;
        });
        new Chart(document.getElementById('flowChart'), {
          type: 'line',
          data: {
            labels: flowHistory.map((f, i) => {
              const ts = f.timestamp || '';
              return ts.length >= 10 ? ts.slice(5, 10) : String(i + 1);
            }),
            datasets: [{
              label: 'Flow Score',
              data: scores,
              borderColor: 'rgba(0, 217, 255, 0.4)',
              backgroundColor: 'rgba(0, 217, 255, 0.05)',
              fill: true,
              tension: 0.3,
              pointRadius: 1.5,
              pointBackgroundColor: flowHistory.map(f => f.in_flow ? 'rgba(0, 255, 136, 1)' : 'rgba(255, 77, 106, 0.6)'),
              borderWidth: 1,
              order: 2
            }, {
              label: '10-pt Average',
              data: flowMA,
              borderColor: 'rgba(0, 217, 255, 1)',
              borderWidth: 2,
              pointRadius: 0,
              tension: 0.4,
              fill: false,
              order: 1
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { min: 0, max: 1, ticks: { ...tickOpts, callback: v => (v * 100).toFixed(0) + '%' }, grid: gridOpts },
              x: { ticks: { ...tickOpts, maxTicksLimit: 15 }, grid: { display: false } }
            },
            plugins: {
              ...chartOpts.plugins,
              annotation: {
                annotations: {
                  flowLine: { type: 'line', yMin: 0.75, yMax: 0.75, borderColor: 'rgba(0, 230, 118, 0.5)', borderDash: [5, 5], borderWidth: 1 }
                }
              }
            }
          }
        });
      }

      // 2. Routing Distribution (from SQLite ‚Äî much more balanced)
      const byModel = routingSql.byModel || {};
      const modelEntries = Object.entries(byModel).filter(([, c]) => c > 0).sort((a, b) => b[1] - a[1]);
      const modelColors = {
        haiku: 'rgba(0, 255, 136, 0.8)',
        sonnet: 'rgba(0, 217, 255, 0.8)',
        opus: 'rgba(177, 78, 255, 0.8)',
        flash: 'rgba(255, 215, 0, 0.8)',
        'local-fast': 'rgba(255, 152, 0, 0.8)',
        local: 'rgba(120, 120, 120, 0.6)'
      };
      if (modelEntries.length > 0) {
        new Chart(document.getElementById('cognitiveRoutingChart'), {
          type: 'doughnut',
          data: {
            labels: modelEntries.map(([m]) => m.charAt(0).toUpperCase() + m.slice(1)),
            datasets: [{
              data: modelEntries.map(([, c]) => c),
              backgroundColor: modelEntries.map(([m]) => modelColors[m] || 'rgba(120,120,120,0.6)'),
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: '#999', font: { size: 11 }, padding: 12 } },
              tooltip: {
                callbacks: {
                  label: ctx => {
                    const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                    return ctx.label + ': ' + formatNumber(ctx.raw) + ' (' + ((ctx.raw / total) * 100).toFixed(1) + '%)';
                  }
                }
              }
            }
          }
        });
      }

      // 3. Fate Accuracy Trend (daily)
      if (fateDaily.length > 0) {
        new Chart(document.getElementById('fateAccuracyChart'), {
          type: 'line',
          data: {
            labels: fateDaily.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Accuracy %',
              data: fateDaily.map(d => d.accuracy),
              borderColor: 'rgba(0, 230, 118, 1)',
              backgroundColor: 'rgba(0, 230, 118, 0.1)',
              fill: true,
              tension: 0.4,
              pointRadius: 3,
              borderWidth: 2
            }, {
              label: 'Predictions',
              data: fateDaily.map(d => d.total),
              type: 'bar',
              backgroundColor: 'rgba(0, 217, 255, 0.3)',
              borderRadius: 2,
              yAxisID: 'y1',
              order: 2
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { position: 'left', min: 0, max: 100, ticks: { ...tickOpts, callback: v => v + '%' }, grid: gridOpts, title: { display: true, text: 'Accuracy', color: '#666' } },
              y1: { position: 'right', ticks: tickOpts, grid: { display: false }, title: { display: true, text: 'Count', color: '#666' } },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });
      }

      // 4. Daily DQ Score Trend (from SQLite routing)
      const dailyRouting = routingSql.daily || [];
      if (dailyRouting.length > 0) {
        new Chart(document.getElementById('dqScoreTrendChart'), {
          type: 'line',
          data: {
            labels: dailyRouting.map(d => d.date.slice(5)),
            datasets: [{
              label: 'Avg DQ Score',
              data: dailyRouting.map(d => d.avg_dq),
              borderColor: 'rgba(0, 217, 255, 1)',
              backgroundColor: 'rgba(0, 217, 255, 0.1)',
              fill: true,
              tension: 0.4,
              pointRadius: 4,
              borderWidth: 2
            }, {
              label: 'Avg Complexity',
              data: dailyRouting.map(d => d.avg_complexity),
              borderColor: 'rgba(255, 215, 0, 0.8)',
              borderWidth: 1.5,
              tension: 0.4,
              pointRadius: 3,
              fill: false,
              borderDash: [4, 4]
            }]
          },
          options: {
            ...chartOpts,
            scales: {
              y: { min: 0, max: 1, ticks: tickOpts, grid: gridOpts },
              x: { ticks: tickOpts, grid: { display: false } }
            }
          }
        });
      }

      // 5. Fate Distribution (doughnut)
      const distEntries = Object.entries(fateDist).filter(([, c]) => c > 0);
      const distColors = { success: 'rgba(0, 230, 118, 0.8)', abandon: 'rgba(233, 69, 96, 0.8)', partial: 'rgba(255, 215, 0, 0.8)', unknown: 'rgba(120, 120, 120, 0.6)' };
      if (distEntries.length > 0) {
        new Chart(document.getElementById('fateDistChart'), {
          type: 'doughnut',
          data: {
            labels: distEntries.map(([k]) => k.charAt(0).toUpperCase() + k.slice(1)),
            datasets: [{
              data: distEntries.map(([, c]) => c),
              backgroundColor: distEntries.map(([k]) => distColors[k] || 'rgba(120,120,120,0.6)'),
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: '#999', font: { size: 11 }, padding: 12 } },
              tooltip: { callbacks: { label: ctx => ctx.label + ': ' + ctx.raw + ' predictions' } }
            }
          }
        });
      }
    }

    // Render cognitive on load (includes coordinator section)
    renderCognitive();
    renderCoordinator();

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // RECOVERY TAB RENDERING
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function renderRecovery() {
      const data = RECOVERY_DATA || {};
      const stats = data.stats || {};
      const outcomes = data.outcomes || [];
      const matrix = data.matrix || [];

      // Update stat cards
      document.getElementById('recoveryTotal').textContent = stats.total || 0;
      document.getElementById('recoveryAutoFix').textContent =
        stats.autoFix ? `${stats.autoFix} (${stats.autoFixRate || 0}%)` : '0';
      document.getElementById('recoverySuccess').textContent =
        stats.successRate ? `${stats.successRate}%` : '‚Äî';

      // Category distribution chart
      const categories = data.categories || {};
      const categoryCtx = document.getElementById('recoveryCategoryChart')?.getContext('2d');
      if (categoryCtx && Object.keys(categories).length > 0) {
        new Chart(categoryCtx, {
          type: 'doughnut',
          data: {
            labels: Object.keys(categories),
            datasets: [{
              data: Object.values(categories),
              backgroundColor: [
                'rgba(255, 77, 106, 0.8)',   // git - red
                'rgba(0, 217, 255, 0.8)',    // concurrency - cyan
                'rgba(255, 204, 0, 0.8)',    // permissions - yellow
                'rgba(177, 78, 255, 0.8)',   // quota - purple
                'rgba(255, 123, 84, 0.8)',   // crash - orange
                'rgba(0, 255, 136, 0.8)',    // recursion - green
                'rgba(138, 138, 154, 0.8)'   // syntax - gray
              ],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', padding: 10, font: { size: 11 } } }
            }
          }
        });
      }

      // Auto-fix vs Suggest chart
      const typeCtx = document.getElementById('recoveryTypeChart')?.getContext('2d');
      if (typeCtx) {
        new Chart(typeCtx, {
          type: 'doughnut',
          data: {
            labels: ['Auto-Fixed', 'Suggested'],
            datasets: [{
              data: [stats.autoFix || 0, (stats.total || 0) - (stats.autoFix || 0)],
              backgroundColor: ['rgba(0, 255, 136, 0.8)', 'rgba(255, 204, 0, 0.8)'],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', padding: 10 } }
            }
          }
        });
      }

      // Timeline chart (last 7 days)
      const timeline = data.timeline || [];
      const timelineCtx = document.getElementById('recoveryTimelineChart')?.getContext('2d');
      if (timelineCtx && timeline.length > 0) {
        new Chart(timelineCtx, {
          type: 'bar',
          data: {
            labels: timeline.map(t => t.date),
            datasets: [
              {
                label: 'Auto-Fixed',
                data: timeline.map(t => t.autoFix || 0),
                backgroundColor: 'rgba(0, 255, 136, 0.8)'
              },
              {
                label: 'Suggested',
                data: timeline.map(t => t.suggested || 0),
                backgroundColor: 'rgba(255, 204, 0, 0.8)'
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              x: { stacked: true, grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: 'rgba(255,255,255,0.5)' } },
              y: { stacked: true, grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: 'rgba(255,255,255,0.5)' } }
            },
            plugins: {
              legend: { position: 'top', labels: { color: 'rgba(255,255,255,0.7)', padding: 10 } }
            }
          }
        });
      }

      // Success by category chart
      const successByCategory = data.successByCategory || {};
      const successCtx = document.getElementById('recoverySuccessChart')?.getContext('2d');
      if (successCtx && Object.keys(successByCategory).length > 0) {
        new Chart(successCtx, {
          type: 'bar',
          data: {
            labels: Object.keys(successByCategory),
            datasets: [{
              label: 'Success Rate %',
              data: Object.values(successByCategory),
              backgroundColor: 'rgba(0, 217, 255, 0.8)'
            }]
          },
          options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              x: { max: 100, grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: 'rgba(255,255,255,0.5)' } },
              y: { grid: { display: false }, ticks: { color: 'rgba(255,255,255,0.7)' } }
            },
            plugins: { legend: { display: false } }
          }
        });
      }

      // Recovery matrix table
      const matrixBody = document.getElementById('recoveryMatrixBody');
      if (matrixBody && matrix.length > 0) {
        matrixBody.innerHTML = matrix.map(row => `
          <tr style="border-bottom:1px solid var(--border);">
            <td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">${row.category}</td>
            <td style="padding:0.75rem;text-align:center;">${row.errors}</td>
            <td style="padding:0.75rem;"><span style="color:var(--accent-green);">${row.autoFix || '‚Äî'}</span></td>
            <td style="padding:0.75rem;"><span style="color:var(--accent-yellow);">${row.suggestOnly || '‚Äî'}</span></td>
          </tr>
        `).join('');
      } else if (matrixBody) {
        // Show default matrix
        matrixBody.innerHTML = `
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Git</td><td style="text-align:center;">560</td><td style="color:var(--accent-green);">username, locks</td><td style="color:var(--accent-yellow);">merge conflicts, force push</td></tr>
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Concurrency</td><td style="text-align:center;">55</td><td style="color:var(--accent-green);">stale locks, zombies</td><td style="color:var(--accent-yellow);">parallel sessions</td></tr>
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Permissions</td><td style="text-align:center;">40</td><td style="color:var(--accent-green);">safe paths</td><td style="color:var(--accent-yellow);">system paths</td></tr>
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Quota</td><td style="text-align:center;">25</td><td style="color:var(--accent-green);">cache</td><td style="color:var(--accent-yellow);">model switch</td></tr>
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Crash</td><td style="text-align:center;">15</td><td style="color:var(--accent-green);">corrupt state</td><td style="color:var(--accent-yellow);">restore backup</td></tr>
          <tr style="border-bottom:1px solid var(--border);"><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Recursion</td><td style="text-align:center;">3</td><td style="color:var(--accent-green);">kill runaway</td><td style="color:var(--accent-yellow);">‚Äî</td></tr>
          <tr><td style="padding:0.75rem;font-weight:500;color:var(--accent-cyan);">Syntax</td><td style="text-align:center;">2</td><td style="color:var(--accent-green);">‚Äî</td><td style="color:var(--accent-yellow);">always suggest</td></tr>
        `;
      }

      // Recent recovery list
      const recentList = document.getElementById('recentRecoveryList');
      const recentCount = document.getElementById('recentRecoveryCount');
      if (recentList && outcomes.length > 0) {
        recentCount.textContent = outcomes.length;
        recentList.innerHTML = outcomes.slice(0, 20).map(o => {
          const date = new Date(o.ts * 1000);
          const timeStr = date.toLocaleString();
          const statusIcon = o.success ? '‚úÖ' : '‚ö†Ô∏è';
          const typeTag = o.auto ? '<span style="color:var(--accent-green);font-size:0.7rem;background:rgba(0,255,136,0.1);padding:2px 6px;border-radius:4px;">AUTO</span>' : '<span style="color:var(--accent-yellow);font-size:0.7rem;background:rgba(255,204,0,0.1);padding:2px 6px;border-radius:4px;">SUGGEST</span>';
          return `
            <div style="display:flex;align-items:center;gap:0.75rem;padding:0.5rem 0;border-bottom:1px solid var(--border);">
              <span style="font-size:1.1rem;">${statusIcon}</span>
              <div style="flex:1;">
                <div style="font-weight:500;">${o.action || 'unknown'}</div>
                <div style="font-size:0.75rem;color:var(--text-secondary);">${o.category} ¬∑ ${timeStr}</div>
              </div>
              ${typeTag}
            </div>
          `;
        }).join('');
      }
    }

    // Render recovery on load
    renderRecovery();

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // COORDINATOR TAB RENDERING
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function renderCoordinator() {
      const data = COORDINATOR_DATA || {};
      const registry = data.registry || {};
      const locks = data.locks || {};
      const history = data.history || [];
      const agents = data.agents || [];

      // Update stat cards
      document.getElementById('coordActiveAgents').textContent = registry.active_count || 0;
      document.getElementById('coordCompletedAgents').textContent =
        (registry.by_state?.completed || 0) + (registry.by_state?.failed || 0);
      document.getElementById('coordFileLocks').textContent = locks.total_locks || 0;
      document.getElementById('coordTotalCost').textContent = formatCost(registry.total_cost_estimate || 0);
      document.getElementById('coordRegistryBadge').textContent = `${registry.total_agents || 0} agents`;
      document.getElementById('coordLocksBadge').textContent = `${locks.total_locks || 0} locks`;

      // Agent list
      const agentList = document.getElementById('coordAgentList');
      if (agents.length > 0) {
        agentList.innerHTML = agents.map(a => {
          const stateColors = {
            running: 'cyan', completed: 'green', failed: 'red',
            timeout: 'yellow', pending: 'gray', cancelled: 'gray'
          };
          const color = stateColors[a.state] || 'gray';
          return `
            <div class="item-row">
              <div class="item-main">
                <span class="badge ${color}">${a.state}</span>
                <span>${a.subtask || a.agent_id}</span>
              </div>
              <div class="item-meta">
                <span class="badge">${a.model}</span>
                <span>DQ: ${(a.dq_score || 0).toFixed(2)}</span>
              </div>
            </div>
          `;
        }).join('');
      } else {
        agentList.innerHTML = '<p class="empty-state">No active agents</p>';
      }

      // By State chart
      const byState = registry.by_state || {};
      const stateCtx = document.getElementById('coordByStateChart')?.getContext('2d');
      if (stateCtx && Object.keys(byState).length > 0) {
        const stateLabels = Object.keys(byState);
        const stateData = Object.values(byState);
        const stateColors = stateLabels.map(s => {
          const colorMap = {
            running: 'rgba(0, 217, 255, 0.8)', completed: 'rgba(0, 255, 136, 0.8)',
            failed: 'rgba(255, 99, 132, 0.8)', timeout: 'rgba(255, 206, 86, 0.8)',
            pending: 'rgba(128, 128, 128, 0.8)', cancelled: 'rgba(100, 100, 100, 0.8)'
          };
          return colorMap[s] || 'rgba(128, 128, 128, 0.8)';
        });

        if (!stateCtx._chartInstance) {
          stateCtx._chartInstance = new Chart(stateCtx, {
            type: 'doughnut',
            data: { labels: stateLabels, datasets: [{ data: stateData, backgroundColor: stateColors, borderWidth: 0 }] },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', padding: 10 } } } }
          });
        }
      }

      // By Model chart
      const byModel = registry.by_model || {};
      const modelCtx = document.getElementById('coordByModelChart')?.getContext('2d');
      if (modelCtx && Object.keys(byModel).length > 0) {
        const modelLabels = Object.keys(byModel);
        const modelData = Object.values(byModel);
        const modelColors = modelLabels.map(m => {
          const colorMap = { haiku: 'rgba(0, 255, 136, 0.8)', sonnet: 'rgba(0, 217, 255, 0.8)', opus: 'rgba(177, 78, 255, 0.8)' };
          return colorMap[m] || 'rgba(128, 128, 128, 0.8)';
        });

        if (!modelCtx._chartInstance) {
          modelCtx._chartInstance = new Chart(modelCtx, {
            type: 'doughnut',
            data: { labels: modelLabels, datasets: [{ data: modelData, backgroundColor: modelColors, borderWidth: 0 }] },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', padding: 10 } } } }
          });
        }
      }

      // Lock list
      const lockList = document.getElementById('coordLockList');
      const lockData = data.lockDetails || [];
      if (lockData.length > 0) {
        lockList.innerHTML = lockData.map(l => `
          <div class="item-row">
            <div class="item-main">
              <span class="badge ${l.lock_type === 'write' ? 'yellow' : 'cyan'}">${l.lock_type}</span>
              <code>${l.path}</code>
            </div>
            <div class="item-meta">
              <span>${l.agent_id}</span>
            </div>
          </div>
        `).join('');
      } else {
        lockList.innerHTML = '<p class="empty-state">No active file locks</p>';
      }

      // History table
      const historyBody = document.getElementById('coordHistoryBody');
      if (history.length > 0) {
        historyBody.innerHTML = history.slice(0, 20).map(h => {
          const statusColors = { success: 'green', partial: 'yellow', failed: 'red', cancelled: 'gray' };
          const color = statusColors[h.status] || 'gray';
          return `
            <tr>
              <td><code>${h.task_id}</code></td>
              <td>${(h.task || '').substring(0, 40)}${(h.task || '').length > 40 ? '...' : ''}</td>
              <td><span class="badge">${h.strategy}</span></td>
              <td><span class="badge ${color}">${h.status}</span></td>
              <td>${h.duration_seconds?.toFixed(1) || 0}s</td>
              <td>${formatCost(h.total_cost || 0)}</td>
            </tr>
          `;
        }).join('');
      } else {
        historyBody.innerHTML = '<tr><td colspan="6" class="empty-state">No coordination history</td></tr>';
      }
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // ACTIVE SESSIONS RENDERING
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function renderSessions() {
      const data = SESSIONS_DATA || {};
      const stats = data.stats || {};
      const sessions = data.sessions || [];

      // Update stat cards
      document.getElementById('sessionsActiveCount').textContent = stats.total || 0;

      // Format total runtime
      const totalMins = stats.total_runtime_minutes || 0;
      let runtimeStr = '0m';
      if (totalMins >= 60) {
        const hours = Math.floor(totalMins / 60);
        const mins = totalMins % 60;
        runtimeStr = hours + 'h ' + mins + 'm';
      } else {
        runtimeStr = totalMins + 'm';
      }
      document.getElementById('sessionsTotalRuntime').textContent = runtimeStr;

      document.getElementById('sessionsOpusCount').textContent = stats.opus || 0;
      document.getElementById('sessionsSonnetCount').textContent = stats.sonnet || 0;

      // Update badge
      document.getElementById('sessionsListBadge').textContent = (sessions.length || 0) + ' sessions';

      // Sessions table
      const tableBody = document.getElementById('sessionsTableBody');
      if (sessions.length > 0) {
        tableBody.innerHTML = sessions.map(s => {
          const modelColors = {
            opus: 'purple',
            sonnet: 'cyan',
            haiku: 'green'
          };
          const color = modelColors[s.model] || 'gray';

          return `
            <tr>
              <td><code>${s.pid}</code></td>
              <td><span class="badge ${color}">${s.model}</span></td>
              <td>${s.runtime}</td>
              <td>${s.cpu}%</td>
              <td>${s.mem}%</td>
              <td title="${s.cwd}"><code>${s.cwd.length > 30 ? '...' + s.cwd.slice(-27) : s.cwd}</code></td>
            </tr>
          `;
        }).join('');
      } else {
        tableBody.innerHTML = '<tr><td colspan="6" class="empty-state">No active Claude sessions</td></tr>';
      }

      // Session History from SESSION_OUTCOMES_DATA
      const historySource = (typeof SESSION_OUTCOMES_DATA !== 'undefined' && SESSION_OUTCOMES_DATA.sessions) ? SESSION_OUTCOMES_DATA.sessions : (Array.isArray(SESSION_OUTCOMES_DATA) ? SESSION_OUTCOMES_DATA : []);
      const historyData = historySource
        .sort((a, b) => (b.date || '').localeCompare(a.date || ''))
        .slice(0, 20);

      document.getElementById('sessionHistoryBadge').textContent = historyData.length + ' recent';

      const historyBody = document.getElementById('sessionHistoryBody');
      if (historyData.length > 0) {
        historyBody.innerHTML = historyData.map(s => {
          const outcomeColors = {
            success: 'green',
            partial: 'yellow',
            abandoned: 'red',
            failed: 'red'
          };
          const outcomeColor = outcomeColors[s.outcome] || 'gray';

          // Get primary model from models_used
          const models = s.models_used || {};
          const primaryModel = Object.keys(models).reduce((a, b) =>
            (models[a] || 0) > (models[b] || 0) ? a : b, Object.keys(models)[0] || 'unknown');
          const modelColors = { opus: 'purple', sonnet: 'cyan', haiku: 'green' };
          const modelColor = modelColors[primaryModel] || 'gray';

          // Truncate title
          const title = (s.title || s.intent || '‚Äî').substring(0, 35);
          const titleFull = s.title || s.intent || '‚Äî';

          return `
            <tr>
              <td>${s.date || '‚Äî'}</td>
              <td title="${titleFull}">${title}${titleFull.length > 35 ? '...' : ''}</td>
              <td>${s.messages || 0}</td>
              <td>${s.tools || 0}</td>
              <td><span class="badge ${modelColor}">${primaryModel}</span></td>
              <td><span class="badge ${outcomeColor}">${s.outcome || '‚Äî'}</span></td>
            </tr>
          `;
        }).join('');
      } else {
        historyBody.innerHTML = '<tr><td colspan="6" class="empty-state">No session history</td></tr>';
      }
    }

    // Render sessions on load
    renderSessions();

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // INFRASTRUCTURE TAB RENDERING
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function renderInfrastructure() {
      const data = INFRASTRUCTURE_DATA || {};
      const daemons = data.daemons || [];
      const status = data.status || 'unknown';
      const heartbeat = data.heartbeat || null;
      const healingEvents = data.healingEvents || [];
      const dataFreshness = data.dataFreshness || [];
      const watchdogDaily = data.watchdogDaily || [];
      const selfHealDaily = data.selfHealDaily || [];
      const daemonHealCounts = data.daemonHealCounts || {};
      const recoveryStats = data.recoveryStats || {};
      const selfHealSummary = data.selfHealSummary || {};

      // --- 6 Stat Cards ---
      const activeDaemons = daemons.filter(d => d.loaded).length;
      const totalDaemons = daemons.length;

      document.getElementById('infraStatus').textContent = status === 'healthy' ? 'HEALTHY' : 'DEGRADED';
      document.getElementById('infraStatus').style.color = status === 'healthy' ? 'var(--accent-green)' : 'var(--accent-orange)';
      document.getElementById('infraDaemons').textContent = `${activeDaemons}/${totalDaemons}`;
      document.getElementById('infraDaemons').style.color = activeDaemons === totalDaemons ? 'var(--accent-green)' : 'var(--accent-orange)';

      if (heartbeat) {
        const hbDate = new Date(heartbeat);
        const diffMins = Math.floor((new Date() - hbDate) / 60000);
        document.getElementById('infraHeartbeat').textContent = diffMins < 2 ? 'Just now' : `${diffMins}m ago`;
        document.getElementById('infraHeartbeat').style.color = diffMins < 5 ? 'var(--accent-green)' : 'var(--accent-yellow)';
      } else {
        document.getElementById('infraHeartbeat').textContent = 'Unknown';
      }

      const healedLast24h = healingEvents.filter(e => (new Date() - new Date(e.timestamp)) < 86400000).length;
      document.getElementById('infraHealed').textContent = healedLast24h;

      document.getElementById('infraSelfHealRuns').textContent = (selfHealSummary.totalRuns || 0).toLocaleString();
      const recTotal = recoveryStats.total || 0;
      const recSuccess = recoveryStats.successful || 0;
      document.getElementById('infraRecoveryRate').textContent = recTotal > 0 ? Math.round((recSuccess / recTotal) * 100) + '%' : '100%';

      // --- Daemon Grid ---
      const daemonGrid = document.getElementById('daemonGrid');
      if (daemons.length > 0) {
        daemonGrid.innerHTML = daemons.map(d => {
          const statusColor = d.loaded ? 'var(--accent-green)' : 'var(--accent-red)';
          const statusIcon = d.loaded ? '‚óè' : '‚óã';
          const runningText = d.pid && d.pid !== '-' ? `PID: ${d.pid}` : (d.loaded ? 'Scheduled' : 'Not loaded');
          const healCount = daemonHealCounts[d.name.replace('com.claude.', '')] || 0;
          return `
            <div style="display:flex;align-items:center;gap:0.75rem;padding:0.75rem;background:var(--bg-glass);border-radius:8px;border:1px solid ${d.loaded ? 'transparent' : 'var(--accent-red)'};">
              <span style="color:${statusColor};font-size:1.2rem;">${statusIcon}</span>
              <div style="flex:1;">
                <div style="font-weight:600;color:var(--text-primary);font-size:0.85rem;">${d.name.replace('com.claude.', '')}</div>
                <div style="font-size:0.7rem;color:var(--text-secondary);">${d.description || ''}</div>
              </div>
              <div style="text-align:right;">
                <div style="font-size:0.7rem;color:${statusColor};">${runningText}</div>
                ${healCount > 0 ? `<div style="font-size:0.65rem;color:var(--text-muted);">${healCount} heals</div>` : ''}
              </div>
            </div>
          `;
        }).join('');
      } else {
        daemonGrid.innerHTML = '<p class="empty-state">No daemon data</p>';
      }

      // --- Protection Layer Status ---
      const findDaemon = (name) => daemons.find(d => d.name.includes(name));
      const watchdog = findDaemon('watchdog');
      const bootstrap = findDaemon('bootstrap');
      const wake = findDaemon('wake-hook');
      const selfHeal = findDaemon('self-heal');
      if (watchdog) document.getElementById('watchdogStatus').style.color = watchdog.loaded ? 'var(--accent-green)' : 'var(--accent-red)';
      if (bootstrap) document.getElementById('bootstrapStatus').style.color = bootstrap.loaded ? 'var(--accent-green)' : 'var(--accent-red)';
      if (wake) document.getElementById('wakeStatus').style.color = wake.loaded ? 'var(--accent-green)' : 'var(--accent-red)';
      if (selfHeal) document.getElementById('selfHealStatus').style.color = selfHeal.loaded ? 'var(--accent-green)' : 'var(--accent-red)';

      // --- Chart 1: Watchdog Activity (stacked bar: down/loaded/healed per day) ---
      const wdCtx = document.getElementById('watchdogActivityChart')?.getContext('2d');
      if (wdCtx && watchdogDaily.length > 0) {
        document.getElementById('watchdogDaysBadge').textContent = watchdogDaily.length + ' Days';
        const wdLabels = watchdogDaily.map(d => { const p = d.date.split('-'); return p[1] + '/' + p[2]; });
        new Chart(wdCtx, {
          type: 'bar',
          data: {
            labels: wdLabels,
            datasets: [
              { label: 'Down', data: watchdogDaily.map(d => d.down), backgroundColor: 'rgba(255, 82, 82, 0.7)', borderRadius: 2 },
              { label: 'Loaded', data: watchdogDaily.map(d => d.loaded), backgroundColor: 'rgba(0, 255, 136, 0.7)', borderRadius: 2 },
              { label: 'Healed', data: watchdogDaily.map(d => d.healed), backgroundColor: 'rgba(0, 212, 255, 0.7)', borderRadius: 2 }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { display: true, labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 8, font: { size: 10 } } } },
            scales: {
              x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45, font: { size: 9 } }, grid: { display: false } },
              y: { stacked: true, beginAtZero: true, ticks: { stepSize: 1, color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
          }
        });
      }

      // --- Chart 2: Daemon Heal Distribution (doughnut) ---
      const dhCtx = document.getElementById('daemonHealChart')?.getContext('2d');
      const dhEntries = Object.entries(daemonHealCounts).sort((a, b) => b[1] - a[1]);
      if (dhCtx && dhEntries.length > 0) {
        const totalHeals = dhEntries.reduce((s, e) => s + e[1], 0);
        document.getElementById('totalHealsBadge').textContent = totalHeals + ' Total';
        const dhColors = ['rgba(0,255,136,0.8)', 'rgba(0,212,255,0.8)', 'rgba(255,215,0,0.8)', 'rgba(168,85,247,0.8)', 'rgba(255,136,0,0.8)', 'rgba(255,82,82,0.8)', 'rgba(100,200,255,0.8)'];
        new Chart(dhCtx, {
          type: 'doughnut',
          data: {
            labels: dhEntries.map(e => e[0]),
            datasets: [{ data: dhEntries.map(e => e[1]), backgroundColor: dhColors.slice(0, dhEntries.length), borderWidth: 0 }]
          },
          options: {
            responsive: true, maintainAspectRatio: false, cutout: '55%',
            plugins: {
              legend: { position: 'right', labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 6, font: { size: 10 } } },
              tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.raw} heals (${Math.round(ctx.raw/totalHeals*100)}%)` } }
            }
          }
        });
      }

      // --- Chart 3: Self-Heal Health Checks (stacked bar: ok/warn/error per day) ---
      const shCtx = document.getElementById('selfHealChart')?.getContext('2d');
      if (shCtx && selfHealDaily.length > 0) {
        document.getElementById('selfHealRunsBadge').textContent = (selfHealSummary.totalRuns || 0).toLocaleString() + ' Runs';
        const shLabels = selfHealDaily.map(d => { const p = d.date.split('-'); return p[1] + '/' + p[2]; });
        new Chart(shCtx, {
          type: 'bar',
          data: {
            labels: shLabels,
            datasets: [
              { label: 'OK', data: selfHealDaily.map(d => d.ok), backgroundColor: 'rgba(0, 255, 136, 0.7)', borderRadius: 2 },
              { label: 'Warnings', data: selfHealDaily.map(d => d.warn), backgroundColor: 'rgba(255, 215, 0, 0.7)', borderRadius: 2 },
              { label: 'Errors', data: selfHealDaily.map(d => d.error), backgroundColor: 'rgba(255, 82, 82, 0.7)', borderRadius: 2 },
              { label: 'Fixed', data: selfHealDaily.map(d => d.fixed), backgroundColor: 'rgba(0, 212, 255, 0.7)', borderRadius: 2, type: 'line', fill: false, borderColor: 'rgba(0, 212, 255, 1)', pointRadius: 3, tension: 0.3, yAxisID: 'y1' }
            ]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: { display: true, labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, padding: 8, font: { size: 10 } } } },
            scales: {
              x: { stacked: true, ticks: { color: 'rgba(255,255,255,0.5)', font: { size: 9 } }, grid: { display: false } },
              y: { stacked: true, beginAtZero: true, position: 'left', title: { display: true, text: 'Checks', color: 'rgba(255,255,255,0.5)', font: { size: 10 } }, ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } },
              y1: { beginAtZero: true, position: 'right', title: { display: true, text: 'Fixed', color: 'rgba(0,212,255,0.7)', font: { size: 10 } }, ticks: { color: 'rgba(0,212,255,0.7)' }, grid: { display: false } }
            }
          }
        });
      }

      // --- Chart 4: Data Freshness (horizontal bar) ---
      const dfCtx = document.getElementById('dataFreshnessChart')?.getContext('2d');
      if (dfCtx && dataFreshness.length > 0) {
        const dfLabels = dataFreshness.map(f => f.name);
        const dfHours = dataFreshness.map(f => f.hours >= 0 ? f.hours : 48);
        const dfMaxHours = dataFreshness.map(f => f.maxHours || 24);
        const dfColors = dataFreshness.map(f => f.fresh ? 'rgba(0, 255, 136, 0.7)' : 'rgba(255, 215, 0, 0.7)');
        new Chart(dfCtx, {
          type: 'bar',
          data: {
            labels: dfLabels,
            datasets: [
              { label: 'Age (hours)', data: dfHours, backgroundColor: dfColors, borderRadius: 4 },
              { label: 'Max Allowed', data: dfMaxHours, backgroundColor: 'rgba(255,255,255,0.1)', borderColor: 'rgba(255,255,255,0.3)', borderWidth: 1, borderDash: [4, 2], borderRadius: 4 }
            ]
          },
          options: {
            indexAxis: 'y', responsive: true, maintainAspectRatio: false,
            plugins: {
              legend: { display: true, labels: { color: 'rgba(255,255,255,0.7)', boxWidth: 12, font: { size: 10 } } },
              tooltip: { callbacks: { label: ctx => ctx.dataset.label === 'Age (hours)' ? `${dataFreshness[ctx.dataIndex].age}` : `Threshold: ${ctx.raw}h` } }
            },
            scales: {
              x: { beginAtZero: true, title: { display: true, text: 'Hours', color: 'rgba(255,255,255,0.5)', font: { size: 10 } }, ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } },
              y: { ticks: { color: 'rgba(255,255,255,0.7)', font: { size: 10 } }, grid: { display: false } }
            }
          }
        });
      }

      // --- Healing Events List ---
      const healingEl = document.getElementById('healingEvents');
      document.getElementById('healingCount').textContent = healingEvents.length;
      if (healingEvents.length > 0) {
        healingEl.innerHTML = healingEvents.slice(0, 25).map(e => {
          const eDate = new Date(e.timestamp);
          const timeStr = eDate.toLocaleString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
          const actionColors = { reload: 'var(--accent-green)', detected: 'var(--accent-red)', heal: 'var(--accent-cyan)', 'deep-heal': 'var(--accent-purple)' };
          const color = actionColors[e.action] || 'var(--text-muted)';
          const icon = e.success ? '‚úì' : '‚úó';
          return `
            <div style="display:flex;align-items:center;gap:0.75rem;padding:0.5rem 0;border-bottom:1px solid var(--border);">
              <span style="color:${color};font-size:1.1rem;width:20px;text-align:center;">${icon}</span>
              <div style="flex:1;">
                <div style="font-weight:500;font-size:0.85rem;">${(e.daemon || '').replace('com.claude.', '')}</div>
                <div style="font-size:0.7rem;color:var(--text-secondary);">${e.message || ''}</div>
              </div>
              <span style="padding:2px 8px;border-radius:4px;font-size:0.65rem;background:${color}22;color:${color};">${e.action}</span>
              <div style="font-size:0.65rem;color:var(--text-muted);white-space:nowrap;">${timeStr}</div>
            </div>
          `;
        }).join('');
      } else {
        healingEl.innerHTML = '<p style="color:var(--text-muted);text-align:center;padding:1rem;">No healing events yet</p>';
      }

      // --- Daemon Health Bars ---
      const healthBarsEl = document.getElementById('daemonHealthBars');
      if (daemons.length > 0) {
        healthBarsEl.innerHTML = daemons.map(d => {
          const name = d.name.replace('com.claude.', '');
          const color = d.loaded ? 'var(--accent-green)' : 'var(--accent-red)';
          const statusText = d.loaded ? (d.pid !== '-' ? 'Running' : 'Ready') : 'Down';
          const critBadge = d.critical ? '<span style="font-size:0.6rem;color:var(--accent-yellow);margin-left:4px;">CRIT</span>' : '';
          return `
            <div style="display:flex;align-items:center;gap:0.75rem;margin-bottom:0.5rem;">
              <span style="width:140px;font-size:0.8rem;color:var(--text-secondary);">${name}${critBadge}</span>
              <div style="flex:1;background:var(--bg-glass);border-radius:4px;height:20px;overflow:hidden;position:relative;">
                <div style="background:${color};width:${d.loaded ? '100' : '0'}%;height:100%;transition:width 0.3s;"></div>
                <span style="position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:0.7rem;color:var(--text-primary);">${statusText}</span>
              </div>
            </div>
          `;
        }).join('');
      }

      // --- Healing Stats ---
      const successfulHeals = healingEvents.filter(e => e.success && e.action === 'reload').length;
      const today = new Date().toDateString();
      const healsToday = healingEvents.filter(e => new Date(e.timestamp).toDateString() === today).length;
      const healsByDay = {};
      healingEvents.forEach(e => { const day = new Date(e.timestamp).toDateString(); healsByDay[day] = (healsByDay[day] || 0) + 1; });
      const days = Object.keys(healsByDay).length || 1;
      const avgPerDay = (healingEvents.length / days).toFixed(1);
      const reloadEvents = healingEvents.filter(e => e.action === 'reload');
      const successRate = reloadEvents.length > 0 ? Math.round((successfulHeals / reloadEvents.length) * 100) : 100;

      document.getElementById('healingTotal').textContent = successfulHeals;
      document.getElementById('healingToday').textContent = healsToday;
      document.getElementById('healingAvgDay').textContent = avgPerDay;
      document.getElementById('healingSuccessRate').textContent = successRate + '%';

      // --- Most Healed Daemons (use pipeline data for full history) ---
      const mostHealedEl = document.getElementById('mostHealedDaemons');
      const dhSorted = Object.entries(daemonHealCounts).sort((a, b) => b[1] - a[1]).slice(0, 7);
      if (dhSorted.length > 0) {
        const maxCount = dhSorted[0][1];
        mostHealedEl.innerHTML = dhSorted.map(([name, count]) => {
          const pct = (count / maxCount) * 100;
          return `
            <div style="margin-bottom:0.75rem;">
              <div style="display:flex;justify-content:space-between;margin-bottom:0.25rem;">
                <span style="font-weight:500;font-size:0.85rem;">${name}</span>
                <span style="color:var(--accent-cyan);font-size:0.85rem;">${count}</span>
              </div>
              <div style="background:var(--bg-glass);border-radius:4px;height:8px;overflow:hidden;">
                <div style="background:var(--gradient-primary);width:${pct}%;height:100%;border-radius:4px;"></div>
              </div>
            </div>
          `;
        }).join('');
      } else {
        mostHealedEl.innerHTML = '<p style="color:var(--text-muted);text-align:center;">No heals recorded yet</p>';
      }
    }

    // Render infrastructure on load
    renderInfrastructure();

  </script>
</body>
</html>
